(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];c===this.normalizeInstanceIdentifier(d[0])&&f.resolve(u)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return u},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return un}),n.d(e,"b",function(){return tu}),n.d(e,"c",function(){return $c}),n.d(e,"d",function(){return Gc}),n.d(e,"e",function(){return Wc}),n.d(e,"f",function(){return $u}),n.d(e,"g",function(){return Mu}),n.d(e,"h",function(){return Ya}),n.d(e,"i",function(){return hu}),n.d(e,"j",function(){return ma}),n.d(e,"k",function(){return ru}),n.d(e,"l",function(){return va}),n.d(e,"m",function(){return Yu}),n.d(e,"n",function(){return Tr}),n.d(e,"o",function(){return Tc}),n.d(e,"p",function(){return gs}),n.d(e,"q",function(){return An}),n.d(e,"r",function(){return I}),n.d(e,"s",function(){return cn}),n.d(e,"t",function(){return Ds}),n.d(e,"u",function(){return Fa}),n.d(e,"v",function(){return Va}),n.d(e,"w",function(){return nu}),n.d(e,"x",function(){return nc}),n.d(e,"y",function(){return Uu}),n.d(e,"z",function(){return ec}),n.d(e,"A",function(){return Du}),n.d(e,"B",function(){return pu}),n.d(e,"C",function(){return Rn}),n.d(e,"D",function(){return Jc}),n.d(e,"E",function(){return Zc}),n.d(e,"F",function(){return Ic}),n.d(e,"G",function(){return Sa}),n.d(e,"H",function(){return wa}),n.d(e,"I",function(){return Dr}),n.d(e,"J",function(){return Oa}),n.d(e,"K",function(){return _r}),n.d(e,"L",function(){return Dn}),n.d(e,"M",function(){return Bu}),n.d(e,"N",function(){return Xa}),n.d(e,"O",function(){return wu}),n.d(e,"P",function(){return ln}),n.d(e,"Q",function(){return xa}),n.d(e,"R",function(){return Ea}),n.d(e,"S",function(){return ic}),n.d(e,"T",function(){return N}),n.d(e,"U",function(){return Pu}),n.d(e,"V",function(){return Au}),n.d(e,"W",function(){return f}),n.d(e,"X",function(){return Tn}),n.d(e,"Y",function(){return Iu}),n.d(e,"Z",function(){return Gu}),n.d(e,"ab",function(){return Ou}),n.d(e,"bb",function(){return eu}),n.d(e,"cb",function(){return bs}),n.d(e,"db",function(){return ea}),n.d(e,"eb",function(){return br}),n.d(e,"fb",function(){return er}),n.d(e,"gb",function(){return Hn}),n.d(e,"hb",function(){return Kn}),n.d(e,"ib",function(){return Qn}),n.d(e,"jb",function(){return Wn}),n.d(e,"kb",function(){return Gn}),n.d(e,"lb",function(){return $n}),n.d(e,"mb",function(){return Xo}),n.d(e,"nb",function(){return Ku}),n.d(e,"ob",function(){return Zo}),n.d(e,"pb",function(){return Jo}),n.d(e,"qb",function(){return Yn}),n.d(e,"rb",function(){return V}),n.d(e,"sb",function(){return Bs}),n.d(e,"tb",function(){return uo}),n.d(e,"ub",function(){return ao}),n.d(e,"vb",function(){return co}),n.d(e,"wb",function(){return Qo}),n.d(e,"xb",function(){return xt}),n.d(e,"yb",function(){return l}),n.d(e,"zb",function(){return zn}),n.d(e,"Ab",function(){return js}),n.d(e,"Bb",function(){return vt}),n.d(e,"Cb",function(){return da}),n.d(e,"Db",function(){return vi}),n.d(e,"Eb",function(){return Gs}),n.d(e,"Fb",function(){return Ho}),n.d(e,"Gb",function(){return Io}),n.d(e,"Hb",function(){return qc}),n.d(e,"Ib",function(){return Z}),n.d(e,"Jb",function(){return st}),n.d(e,"Kb",function(){return _}),n.d(e,"Lb",function(){return w}),n.d(e,"Mb",function(){return nt}),n.d(e,"Nb",function(){return ot}),n.d(e,"Ob",function(){return Xs}),n.d(e,"Pb",function(){return no}),n.d(e,"Qb",function(){return so}),n.d(e,"Rb",function(){return io}),n.d(e,"Sb",function(){return ro}),n.d(e,"Tb",function(){return eo}),n.d(e,"Ub",function(){return to}),n.d(e,"Vb",function(){return oo}),n.d(e,"Wb",function(){return nn}),n.d(e,"Xb",function(){return Yo}),n.d(e,"Yb",function(){return xn}),n.d(e,"Zb",function(){return sn}),n.d(e,"ac",function(){return Kc}),n.d(e,"bc",function(){return lo}),n.d(e,"cc",function(){return Bc}),n.d(e,"dc",function(){return _e}),n.d(e,"ec",function(){return go}),n.d(e,"fc",function(){return wc}),n.d(e,"gc",function(){return Sc}),n.d(e,"hc",function(){return Cc}),n.d(e,"ic",function(){return vo}),n.d(e,"jc",function(){return bo}),n.d(e,"kc",function(){return Zs}),n.d(e,"lc",function(){return _o}),n.d(e,"mc",function(){return vc}),n.d(e,"nc",function(){return Uc}),n.d(e,"oc",function(){return Qs}),n.d(e,"pc",function(){return Ar}),n.d(e,"qc",function(){return Kt}),n.d(e,"rc",function(){return wr}),n.d(e,"sc",function(){return Sr}),n.d(e,"tc",function(){return rt}),n.d(e,"uc",function(){return ko}),n.d(e,"vc",function(){return ho}),n.d(e,"wc",function(){return Ko}),n.d(e,"xc",function(){return $s}),n.d(e,"yc",function(){return Vo}),n.d(e,"zc",function(){return qo}),n.d(e,"Ac",function(){return Bo}),n.d(e,"Bc",function(){return zo}),n.d(e,"Cc",function(){return Vc});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return C(t,E)||C(t,T)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(k))?t[x]:null}const E=c({"\u0275prov":c}),x=c({"\u0275inj":c}),T=c({ngInjectableDef:c}),k=c({ngInjectorDef:c});var I=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let A;function R(t){const e=A;return A=t,e}function D(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&I.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function P(t){return{toString:t}.toString()}var j=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),N=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,V=L||U||M||F,q={},B=[],z=[],H=c({"\u0275cmp":c}),Y=c({"\u0275dir":c}),K=c({"\u0275pipe":c}),G=c({"\u0275mod":c}),W=c({"\u0275loc":c}),$=c({"\u0275fac":c}),Q=c({__NG_ELEMENT_ID__:c});let X=0;function Z(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===j.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=X++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(tt):null,n})}function J(t){return at(t)||function(t){return t[Y]||null}(t)}function tt(t){return function(t){return t[K]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{et[t.id]=t.type}),e}function rt(t,e){return P(()=>{const n=ct(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function it(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const st=Z;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[H]||null}function ct(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ut=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty($)?t[$]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),wt}function wt(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new bt(c&&c.currentValue,e,o===q),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}vt.ngInherit=!0;const Ot="http://www.w3.org/2000/svg";let Et;function xt(t){Et=t}function Tt(){return void 0!==Et?Et:"undefined"!=typeof document?document:void 0}function kt(t){return!!t.listen}const It={createRenderer:(t,e)=>Tt()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return At(e[t])}function Dt(t,e){return At(e[t.index])}function Pt(t,e){return t.data[e]}function jt(t,e){return t[e]}function Nt(t,e){const n=e[t];return ht(n)?n:n[0]}function Lt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:fe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Bt.bindingsEnabled}function Ht(){return Bt.lFrame.lView}function Yt(){return Bt.lFrame.tView}function Kt(t){Bt.lFrame.contextLView=t}function Gt(){let t=Wt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Wt(){return Bt.lFrame.currentTNode}function $t(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Qt(){return Bt.lFrame.isParent}function Xt(){Bt.lFrame.isParent=!1}function Zt(){return Bt.isInCheckNoChangesMode}function Jt(t){Bt.isInCheckNoChangesMode=t}function te(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return Bt.lFrame.bindingIndex}function ne(){return Bt.lFrame.bindingIndex++}function re(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,se(e)}function se(t){Bt.lFrame.currentDirectiveIndex=t}function oe(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ae(){return Bt.lFrame.currentQueryIndex}function ce(t){Bt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function le(t,e,n){if(n&I.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&I.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=de();return r.currentTNode=e,r.lView=t,!0}function he(t){const e=de(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function de(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?fe(t):e}function fe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const me=pe;function ge(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ye(){return Bt.lFrame.selectedIndex}function be(t){Bt.lFrame.selectedIndex=t}function ve(){const t=Bt.lFrame;return Pt(t.tView,t.selectedIndex)}function _e(){Bt.lFrame.currentNamespace=Ot}function we(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Se(t,e,n){Ee(t,e,3,n)}function Ce(t,e,n,r){(3&t[2])===n&&Ee(t,e,n,r)}function Oe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(xe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function xe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Te=-1;class ke{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=kt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Re(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function Re(t){return 64===t.charCodeAt(0)}function De(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Pe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Pe(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function je(t){return t!==Te}function Ne(t){return 32767&t}function Le(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Me=!0;function Fe(t){const e=Me;return Me=t,e}let Ue=0;function Ve(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,qe(r.data,t),qe(e,null),qe(r.blueprint,null));const i=ze(t,e),s=t.injectorIndex;if(je(i)){const t=Ne(i),n=Le(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ze(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Te;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Te}function He(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Ue++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ye(t,e,n){if(n&I.Optional)return t;v(e,"NodeInjector")}function Ke(t,e,n,r){if(n&I.Optional&&void 0===r&&(r=null),0==(n&(I.Self|I.Host))){const i=t[9],s=R(void 0);try{return i?i.get(e,r,n&I.Optional):D(e,r,n&I.Optional)}finally{R(s)}}return Ye(r,e,n)}function Ge(t,e,n,r=I.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof s){if(!le(e,t,r))return r&I.Host?Ye(i,n,r):Ke(e,n,r,i);try{const t=s();if(null!=t||r&I.Optional)return t;v(n)}finally{me()}}else if("number"==typeof s){let i=null,o=Be(t,e),a=Te,c=r&I.Host?e[16][6]:null;for((-1===o||r&I.SkipSelf)&&(a=-1===o?ze(t,e):e[o+8],a!==Te&&tn(r,!1)?(i=e[1],o=Ne(a),e=Le(a,e)):o=-1);-1!==o;){const t=e[1];if(Je(s,o,t.data)){const t=Qe(o,e,n,i,r,c);if(t!==We)return t}a=e[o+8],a!==Te&&tn(r,e[1].data[o+8]===c)&&Je(s,o,e)?(i=t,o=Ne(a),e=Le(a,e)):o=-1}}}return Ke(e,n,r,i)}const We={};function $e(){return new en(Gt(),Ht())}function Qe(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=Xe(a,o,n,null==r?pt(a)&&Me:r!=o&&0!=(3&a.type),i&I.Host&&s===a);return null!==c?Ze(e,o,c,a):We}function Xe(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&gt(t)&&t.type===n)return c}return null}function Ze(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof ke){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=Fe(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?R(o.injectImpl):null;le(t,r,I.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&R(c),Fe(a),o.resolving=!1,me()}}return i}function Je(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function tn(t,e){return!(t&I.Self||t&I.Host&&e)}class en{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function nn(t){return P(()=>{const e=t.prototype.constructor,n=e[$]||rn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[$]||rn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function rn(t){return m(t)?()=>{const e=rn(p(t));return e&&e()}:yt(t)}function sn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const on="__parameters__";function an(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(on)?t[on]:Object.defineProperty(t,on,{value:[]})[on];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class cn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const un=new cn("AnalyzeForEntryComponents"),ln=Function;function hn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),hn(r,e)):e!==t&&e.push(r)}return e}function dn(t,e){t.forEach(t=>Array.isArray(t)?dn(t,e):e(t))}function fn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function gn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const vn={},_n=/\n/gm,wn="__source",Sn=c({provide:String,useValue:c});let Cn;function On(t){const e=Cn;return Cn=t,e}function En(t,e=I.Default){if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?D(t,void 0,e):Cn.get(t,e&I.Optional?null:void 0,e)}function xn(t,e=I.Default){return(A||En)(p(t),e)}const Tn=xn;function kn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=I.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(xn(t,n))}else e.push(xn(r))}return e}function In(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const An=In(an("Inject",t=>({token:t})),-1),Rn=In(an("Optional"),8),Dn=In(an("SkipSelf"),4);let Pn,jn;function Nn(t){var e;return(null===(e=function(){if(void 0===Pn&&(Pn=null,V.trustedTypes))try{Pn=V.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Pn}())||void 0===e?void 0:e.createHTML(t))||t}function Ln(t){var e;return(null===(e=function(){if(void 0===jn&&(jn=null,V.trustedTypes))try{jn=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return jn}())||void 0===e?void 0:e.createHTML(t))||t}class Mn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fn extends Mn{getTypeName(){return"HTML"}}class Un extends Mn{getTypeName(){return"Style"}}class Vn extends Mn{getTypeName(){return"Script"}}class qn extends Mn{getTypeName(){return"URL"}}class Bn extends Mn{getTypeName(){return"ResourceURL"}}function zn(t){return t instanceof Mn?t.changingThisBreaksApplicationSecurity:t}function Hn(t,e){const n=Yn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Yn(t){return t instanceof Mn&&t.getTypeName()||null}function Kn(t){return new Fn(t)}function Gn(t){return new Un(t)}function Wn(t){return new Vn(t)}function $n(t){return new qn(t)}function Qn(t){return new Bn(t)}class Xn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Nn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Nn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Nn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function er(t){return(t=String(t)).match(Jn)||t.match(tr)?t:"unsafe:"+t}function nr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function rr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ir=nr("area,br,col,hr,img,wbr"),sr=nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=nr("rp,rt"),ar=rr(or,sr),cr=rr(ir,rr(sr,nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rr(or,nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ar),ur=nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=nr("srcset"),hr=rr(ur,lr,nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dr=nr("script,style,template");class fr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!cr.hasOwnProperty(e))return this.sanitizedSomething=!0,!dr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!hr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ur[s]&&(o=er(o)),lr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>er(t.trim())).join(", ")),this.buf.push(" ",e,'="',gr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();cr.hasOwnProperty(e)&&!ir.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mr=/([^\#-~ |!])/g;function gr(t){return t.replace(/&/g,"&amp;").replace(pr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(mr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yr;function br(t,e){let n=null;try{yr=yr||function(t){const e=new Zn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Nn(""),"text/html")}catch(t){return!1}}()?new Xn(e):e}(t);let r=e?String(e):"";n=yr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==s);return Nn((new fr).sanitizeChildren(vr(n)||n))}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var _r=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function wr(t){const e=Cr();return e?Ln(e.sanitize(_r.HTML,t)||""):Hn(t,"HTML")?Ln(zn(t)):br(Tt(),y(t))}function Sr(t){const e=Cr();return e?e.sanitize(_r.URL,t)||"":Hn(t,"URL")?zn(t):er(y(t))}function Cr(){const t=Ht();return t&&t[12]}function Or(t){return t.ngDebugContext}function Er(t){return t.ngOriginalError}function xr(t,...e){t.error(...e)}class Tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Or(t)?Or(t):this._findContext(Er(t)):null}_findOriginalError(t){let e=Er(t);for(;e&&Er(e);)e=Er(e);return e}}function kr(t,e){t.__ngContext__=e}const Ir=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Ar(t){return{name:"body",target:t.ownerDocument.body}}function Rr(t){return t instanceof Function?t():t}var Dr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Pr(t,e){return(void 0)(t,e)}function jr(t){const e=t[3];return dt(e)?e[3]:e}function Nr(t){return Mr(t[13])}function Lr(t){return Mr(t[4])}function Mr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Fr(t,e,n,r,i){if(null!=r){let s,o=!1;dt(r)?s=r:ht(r)&&(o=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Kr(e,n,a):Yr(e,n,a,i||null,!0):1===t&&null!==n?Yr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Wr(t,e);r&&function(t,e,n,r){kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==At(n)&&Fr(e,t,r,s,i);for(let o=lt;o<n.length;o++){const i=n[o];ni(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ur(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Vr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function qr(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Vr(s,r),e>0&&(t[n-1][4]=r[4]);const o=pn(t,lt+e);ni(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Br(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&ni(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return zr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&zr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&zr(e[1],e),n=e&&e[4]}e=n}}(e)}}function zr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ke)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):At(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Vr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Hr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===N.None||e===N.Emulated)return null}return Dt(r,n)}(t,e.parent,n)}function Yr(t,e,n,r,i){kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Kr(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function Gr(t,e,n,r,i){null!==r?Yr(t,e,n,r,i):Kr(t,e,n)}function Wr(t,e){return kt(t)?t.parentNode(e):e.parentNode}function $r(t,e,n){return Qr(t,e,n)}let Qr=function(t,e,n){return 40&t.type?Dt(t,n):null};function Xr(t,e,n,r){const i=Hr(t,r,e),s=e[11],o=$r(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gr(s,i,n[a],o,!1);else Gr(s,i,n,o,!1)}function Zr(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return ti(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Zr(t,n);{const n=t[e.index];return dt(n)?ti(-1,n):At(n)}}if(32&n)return Pr(e,t)()||At(t[e.index]);{const n=Jr(t,e);return null!==n?Array.isArray(n)?n[0]:Zr(jr(t[16]),n):Zr(t,e.next)}}return null}function Jr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ti(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Zr(t,r)}return e[7]}function ei(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&kr(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)ei(t,e,n.child,r,i,s,!1),Fr(e,t,i,a,s);else if(32&c){const o=Pr(n,r);let c;for(;c=o();)Fr(e,t,i,c,s);Fr(e,t,i,a,s)}else 16&c?ri(t,e,r,n,i,s):Fr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ni(t,e,n,r,i,s){ei(n,r,t.firstChild,e,i,s,!1)}function ri(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Fr(e,t,i,a[c],s);else ei(t,e,a,o[3],i,s,!0)}function ii(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function si(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function oi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ai="ng-template";function ci(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==oi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ui(t){return 4===t.type&&t.value!==ai}function li(t,e,n){return e===(4!==t.type||n?t.value:ai)}function hi(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!li(t,c,n)||""===c&&1===e.length){if(di(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!ci(t.attrs,u,n)){if(di(r))return!1;o=!0}continue}const l=fi(8&r?"class":c,i,ui(t),n);if(-1===l){if(di(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==oi(e,u,0)||2&r&&u!==t){if(di(r))return!1;o=!0}}}}else{if(!o&&!di(r)&&!di(c))return!1;if(o&&di(c))continue;o=!1,r=c|1&r}}return di(r)||o}function di(t){return 0==(1&t)}function fi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function pi(t,e,n=!1){for(let r=0;r<e.length;r++)if(hi(t,e[r],n))return!0;return!1}function mi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function gi(t,e){return t?":not("+e.trim()+")":e}function yi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||di(o)||(e+=gi(s,i),i=""),r=o,s=s||!di(r);n++}return""!==i&&(e+=gi(s,i)),e}const bi={};function vi(t){_i(Yt(),Ht(),ye()+t,Zt())}function _i(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Se(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ce(e,r,0,n)}be(n)}function wi(t,e){return t<<17|e<<2}function Si(t){return t>>17&32767}function Ci(t){return 2|t}function Oi(t){return(131068&t)>>2}function Ei(t,e){return-131069&t|e<<2}function xi(t){return 1|t}function Ti(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ce(i),n.contentQueries(2,e[s],s)}}}function ki(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ii(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Wt(),o=Qt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return $t(s,!0),s}function Ai(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ri(t,e,n){he(e);try{const r=t.viewQuery;null!==r&&as(1,r,n);const i=t.template;null!==i&&ji(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ti(t,e),t.staticViewQueries&&as(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ns(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ge()}}function Di(t,e,n,r){const i=e[2];if(256==(256&i))return;he(e);const s=Zt();try{Vt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ji(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Se(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ce(e,n,0,null),Oe(e,0)}if(function(t){for(let e=Nr(t);null!==e;e=Lr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Nr(t);null!==e;e=Lr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&Di(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ti(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Se(e,n)}else{const n=t.contentHooks;null!==n&&Ce(e,n,1),Oe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)be(~r);else{const i=r,s=n[++t],o=n[++t];ie(s,i),o(2,e[i])}}}finally{be(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ts(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&as(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Se(e,n)}else{const n=t.viewHooks;null!==n&&Ce(e,n,2),Oe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{ge()}}function Pi(t,e,n,r){const i=e[10],s=!Zt(),o=Mt(e);try{s&&!o&&i.begin&&i.begin(),o&&Ri(t,e,r),Di(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ji(t,e,n,r,i){const s=ye(),o=2&r;try{be(-1),o&&e.length>ut&&_i(t,e,ut,Zt()),n(r,i)}finally{be(s)}}function Ni(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Li(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ve(n,e),kr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=gt(r);s&&Qi(e,n,r);const c=Ze(e,t,a,n);kr(c,e),null!==o&&Xi(0,a-i,c,r,0,o),s&&(Nt(n.index,e)[8]=c)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bt.lFrame.currentDirectiveIndex;try{be(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];se(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Yi(r,i)}}finally{be(-1),se(o)}}(t,e,n))}function Mi(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Fi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ui(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ui(t,e,n,r,i,s,o,a,c,u){const l=ut+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:bi);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Vi(t,e,n,r){const i=us(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ls(t).push(r,i.length-1))}function qi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Bi(t,e,n,r,i,s,o,a){const c=Dt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(fs(t,n,u,r,i),pt(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,kt(s)?s.setProperty(c,r,i):Re(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function zi(t,e,n,r){let i=!1;if(zt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];pi(n,o.selectors,!1)&&(i||(i=[]),He(Ve(n,e),t,o.type),gt(o)?(Ki(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Wi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=Ai(t,e,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=De(n.mergedAttrs,u.hostAttrs),$i(t,n,e,c,u),Gi(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||ui(e)?null:Zi(n,i);s.push(u),o=qi(n,c,o),a=qi(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=De(n.mergedAttrs,n.attrs),i}function Hi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Yi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ki(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Gi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Wi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $i(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=yt(i.type)),o=new ke(s,gt(i),null);t.blueprint[r]=o,n[r]=o,Hi(t,e,0,r,Ai(t,n,i.hostVars,bi),i)}function Qi(t,e,n){const r=Dt(e,t),i=Fi(n),s=t[10],o=rs(t,ki(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Xi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Zi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ji(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ts(t,e){const n=Nt(e,t);if(Ft(n)){const t=n[1];80&n[2]?Di(t,n,t.template,n[8]):n[5]>0&&es(n)}}function es(t){for(let n=Nr(t);null!==n;n=Lr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Di(t,e,t.template,e[8])}else e[5]>0&&es(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Nt(e[n],t);Ft(r)&&r[5]>0&&es(r)}}function ns(t,e){const n=Nt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ri(r,n,n[8])}function rs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function is(t){for(;t;){t[2]|=64;const e=jr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ss(t,e,n){const r=e[10];r.begin&&r.begin();try{Di(t,e,t.template,n)}catch(i){throw ds(e,i),i}finally{r.end&&r.end()}}function os(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Lt(n),i=r[1];Pi(i,r,i.template,n)}}(t[8])}function as(t,e,n){ce(0),e(t,n)}const cs=(()=>Promise.resolve(null))();function us(t){return t[7]||(t[7]=[])}function ls(t){return t.cleanup||(t.cleanup=[])}function hs(t,e,n){return(null===t||gt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ds(t,e){const n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function fs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function ps(t,e,n){const r=Rt(e,t);!function(t,e,n){kt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function ms(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const gs=new cn("INJECTOR",-1);class ys{get(t,e=vn){if(e===vn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const bs=new cn("Set Injector scope."),vs={},_s={},ws=[];let Ss;function Cs(){return void 0===Ss&&(Ss=new ys),Ss}function Os(t,e=null,n=null,r){return new Es(t,n,e||Cs(),r)}class Es{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&dn(e,n=>this.processProvider(n,t,e)),dn([t],t=>this.processInjectorType(t,[],i)),this.records.set(gs,ks(void 0,this));const s=this.records.get(bs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=vn,n=I.Default){this.assertNotDestroyed();const r=On(this);try{if(!(n&I.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof cn)&&S(t);e=n&&this.injectableDefInScope(n)?ks(xs(t),vs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&I.Self?Cs():this.parent).get(t,e=n&I.Optional&&e===vn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[wn]&&i.unshift(e[wn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{On(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{dn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];dn(r,t=>this.processProvider(t,n,r||ws))}}this.injectorDefTypes.add(s);const a=yt(s)||(()=>new s);this.records.set(s,ks(a,vs));const c=r.providers;if(null!=c&&!o){const e=t;dn(c,t=>this.processProvider(t,e,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=As(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Is(t)?ks(void 0,t.useValue):ks(Ts(t),vs)}(t);if(As(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ks(void 0,vs,!0),e.factory=()=>kn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===vs&&(e.value=_s,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function xs(t){const e=S(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof cn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=mn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[T]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ts(t,e,n){let r;if(As(t)){const e=p(t);return yt(e)||xs(e)}if(Is(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...kn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>xn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||xs(e);r=()=>new e(...kn(t.deps))}var i;return r}function ks(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Is(t){return null!==t&&"object"==typeof t&&Sn in t}function As(t){return"function"==typeof t}const Rs=function(t,e,n){return function(t,e=null,n=null,r){const i=Os(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ds=(()=>{class t{static create(t,e){return Array.isArray(t)?Rs(t,e,""):Rs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=vn,t.NULL=new ys,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>xn(gs)}),t.__NG_ELEMENT_ID__=-1,t})();function Ps(t,e){we(Lt(t)[1],Gt())}function js(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ns(t.inputs),e.declaredInputs=Ns(t.declaredInputs),e.outputs=Ns(t.outputs);const n=i.hostBindings;n&&Fs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ls(t,s),o&&Ms(t,o),u(t.inputs,i.inputs),u(t.declaredInputs,i.declaredInputs),u(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===js&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=De(i.hostAttrs,n=De(n,i.hostAttrs))}}(r)}function Ns(t){return t===q?{}:t===z?[]:t}function Ls(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ms(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Fs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Us=null;function Vs(){if(!Us){const t=V.Symbol;if(t&&t.iterator)Us=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Us=n)}}}return Us}class qs{constructor(t){this.wrapped=t}static wrap(t){return new qs(t)}static unwrap(t){return qs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof qs}}function Bs(t){return!!zs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Vs()in t)}function zs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Hs(t,e,n){return t[e]=n}function Ys(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ks(t,e,n,r){const i=Ys(t,e,n);return Ys(t,e+1,r)||i}function Gs(t,e,n,r){const i=Ht();return Ys(i,ne(),e)&&(Yt(),function(t,e,n,r,i,s){const o=Dt(t,e);!function(t,e,n,r,i,s,o){if(null==s)kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);kt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(ve(),i,t,e,n,r)),Gs}function Ws(t,e,n,r){return Ys(t,ne(),n)?e+y(n)+r:bi}function $s(t,e,n,r,i,s,o,a){const c=Ht(),u=Yt(),l=t+ut,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=Ii(e,t,4,o||null,Ut(u,a));zi(e,n,l,Ut(u,c)),we(e,l);const h=l.tViews=Ui(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];$t(h,!1);const d=c[11].createComment("");Xr(u,c,d,h),kr(d,c),rs(c,c[l]=Ji(d,c,d,h)),mt(h)&&Li(u,c,h),null!=o&&Mi(c,h,a)}function Qs(t){return jt(Bt.lFrame.contextLView,ut+t)}function Xs(t,e=I.Default){const n=Ht();return null===n?xn(t,e):Ge(Gt(),n,p(t),e)}function Zs(t,e,n){const r=Ht();return Ys(r,ne(),e)&&Bi(Yt(),ve(),r,t,e,r[11],n,!1),Zs}function Js(t,e,n,r,i){const s=i?"class":"style";fs(t,n,e.inputs[s],s,r)}function to(t,e,n,r){const i=Ht(),s=Yt(),o=ut+t,a=i[11],c=i[o]=Ur(a,e,Bt.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Ii(e,t,2,i,Ut(a,s));return zi(e,n,c,Ut(a,o)),null!==c.attrs&&ms(c,c.attrs,!1),null!==c.mergedAttrs&&ms(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];$t(u,!0);const l=u.mergedAttrs;null!==l&&Ie(a,c,l);const h=u.classes;null!==h&&si(a,c,h);const d=u.styles;null!==d&&ii(a,c,d),64!=(64&u.flags)&&Xr(s,i,c,u),0===Bt.lFrame.elementDepthCount&&kr(c,i),Bt.lFrame.elementDepthCount++,mt(u)&&(Li(s,i,u),Ni(s,u,i)),null!==r&&Mi(i,u)}function eo(){let t=Gt();Qt()?Xt():(t=t.parent,$t(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Yt();n.firstCreatePass&&(we(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Js(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Js(n,e,Ht(),e.stylesWithoutHost,!1)}function no(t,e,n,r){to(t,e,n,r),eo()}function ro(t,e,n){const r=Ht(),i=Yt(),s=t+ut,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Ut(s,r),a=Ii(e,t,8,"ng-container",o);return null!==o&&ms(a,o,!0),zi(e,n,a,Ut(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];$t(o,!0);const a=r[s]=r[11].createComment("");Xr(i,r,a,o),kr(a,r),mt(o)&&(Li(i,r,o),Ni(i,o,r)),null!=n&&Mi(r,o)}function io(){let t=Gt();const e=Yt();Qt()?Xt():(t=t.parent,$t(t,!1)),e.firstCreatePass&&(we(e,t),ft(t)&&e.queries.elementEnd(t))}function so(t,e,n){ro(t,e,n),io()}function oo(){return Ht()}function ao(t){return!!t&&"function"==typeof t.then}function co(t){return!!t&&"function"==typeof t.subscribe}const uo=co;function lo(t,e,n=!1,r){const i=Ht(),s=Yt(),o=Gt();return fo(s,i,i[11],o,t,e,n,r),lo}function ho(t,e,n=!1,r){const i=Gt(),s=Ht(),o=Yt();return fo(o,s,hs(oe(o.data),i,s),i,t,e,n,r),ho}function fo(t,e,n,r,i,s,o=!1,a){const c=mt(r),u=t.firstCreatePass&&ls(t),l=us(e);let h=!0;if(3&r.type){const d=Dt(r,e),f=a?a(d):q,p=f.target||d,m=l.length,g=a?t=>a(At(t[r.index])).target:r.index;if(kt(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=mo(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,g,m,m+1)}}else s=mo(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,g,m,o)}else s=mo(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}function po(t,e,n,r){try{return!1!==n(r)}catch(i){return ds(t,i),!1}}function mo(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&is(o);let a=po(e,0,r,s),c=n.__ngNextListenerFn__;for(;c;)a=po(e,0,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function go(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function yo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?pi(t,s,!0):mi(r,s))return i}else n=i}return n}function bo(t){const e=Ht()[16][6];if(!e.projection){const n=e.projection=mn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?yo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function vo(t,e=0,n){const r=Ht(),i=Yt(),s=Ii(i,ut+t,16,null,n||null);null===s.projection&&(s.projection=e),Xt(),64!=(64&s.flags)&&function(t,e,n){ri(e[11],0,e,n,Hr(t,n,e),$r(n.parent||e[6],n,e))}(i,r,s)}function _o(t,e,n){return wo(t,"",e,"",n),_o}function wo(t,e,n,r,i){const s=Ht(),o=Ws(s,e,n,r);return o!==bi&&Bi(Yt(),ve(),s,t,o,s[11],i,!1),wo}function So(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Si(s):Oi(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];Co(t[a],e)&&(c=!0,t[a+1]=r?xi(n):Ci(n)),a=r?Si(n):Oi(n)}c&&(t[n+1]=r?Ci(s):xi(s))}function Co(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}const Oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Eo(t){return t.substring(Oo.key,Oo.keyEnd)}function xo(t,e){const n=Oo.textEnd;return n===e?-1:(e=Oo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Oo.key=e,n),To(t,e,n))}function To(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ko(t,e,n){return Ro(t,e,n,!1),ko}function Io(t,e){return Ro(t,e,null,!0),Io}function Ao(t,e){for(let n=function(t){return function(t){Oo.key=0,Oo.keyEnd=0,Oo.value=0,Oo.valueEnd=0,Oo.textEnd=t.length}(t),xo(t,To(t,0,Oo.textEnd))}(e);n>=0;n=xo(e,n))gn(t,Eo(e),!0)}function Ro(t,e,n,r){const i=Ht(),s=Yt(),o=re(2);s.firstUpdatePass&&Po(s,t,o,r),e!==bi&&Ys(i,o,e)&&Lo(s,s.data[ye()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(zn(t)))),t}(e,n),r,o)}function Do(t,e){return e>=t.expandoStartIndex}function Po(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ye()],o=Do(t,n);Uo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=oe(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=No(n=jo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=jo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Oi(r))return t[Si(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=jo(null,t,e,n[1],r),n=No(n,e.attrs,r),function(t,e,n,r){t[Si(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=No(r,t[s].hostAttrs,n);return No(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Si(o),c=Oi(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||bn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=Si(t[a+1]);t[r+1]=wi(e,a),0!==e&&(t[e+1]=Ei(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=wi(a,0),0!==a&&(t[a+1]=Ei(t[a+1],r)),a=r;else t[r+1]=wi(c,0),0===a?a=r:t[c+1]=Ei(t[c+1],r),c=r;l&&(t[r+1]=Ci(t[r+1])),So(t,u,r,!0),So(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&bn(s,e)>=0&&(n[r+1]=xi(n[r+1]))}(e,u,t,r,s),o=wi(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function jo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=No(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function No(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Lo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];Fo(1==(1&u)?Mo(c,e,n,i,Oi(u),o):void 0)||(Fo(s)||2==(2&u)&&(s=Mo(c,null,n,i,a,o)),function(t,e,n,r,i){const s=kt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Dr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Dr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Rt(ye(),n),i,s))}function Mo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===bi&&(l=u?B:void 0);let h=u?yn(l,r):c===r?l:void 0;if(s&&!Fo(h)&&(h=yn(e,r)),Fo(h)&&(a=h,o))return a;const d=t[i+1];i=o?Si(d):Oi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=yn(t,r))}return a}function Fo(t){return void 0!==t}function Uo(t,e){return 0!=(t.flags&(e?16:32))}function Vo(t,e=""){const n=Ht(),r=Yt(),i=t+ut,s=r.firstCreatePass?Ii(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Xr(r,n,o,s),$t(s,!1)}function qo(t){return Bo("",t,""),qo}function Bo(t,e,n){const r=Ht(),i=Ws(r,t,e,n);return i!==bi&&ps(r,ye(),i),Bo}function zo(t,e,n,r,i){const s=Ht(),o=function(t,e,n,r,i,s){const o=Ks(t,ee(),n,i);return re(2),o?e+y(n)+r+y(i)+s:bi}(s,t,e,n,r,i);return o!==bi&&ps(s,ye(),o),zo}function Ho(t,e,n){!function(t,e,n,r){const i=Yt(),s=re(2);i.firstUpdatePass&&Po(i,null,s,r);const o=Ht();if(n!==bi&&Ys(o,s,n)){const a=i.data[ye()];if(Uo(a,r)&&!Do(i,s)){let t=a.classesWithoutHost;null!==t&&(n=h(t,n||"")),Js(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===bi&&(i=B);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=c<i.length?i[c+1]:void 0,d=u<s.length?s[u+1]:void 0;let f,p=null;l===h?(c+=2,u+=2,o!==d&&(p=h,f=d)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,f=d),null!==p&&Lo(t,e,n,r,p,f,true,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return B;const r=[],i=zn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(gn,Ao,Ws(Ht(),t,e,n),!0)}function Yo(t,e,n){const r=Ht();return Ys(r,ne(),e)&&Bi(Yt(),ve(),r,t,e,r[11],n,!0),Yo}function Ko(t,e,n){const r=Ht();if(Ys(r,ne(),e)){const i=Yt(),s=ve();Bi(i,s,r,t,e,hs(oe(i.data),s,r),n,!0)}return Ko}const Go=void 0;var Wo=["en",[["a","p"],["AM","PM"],Go],[["AM","PM"],Go,Go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Go,"{1} 'at' {0}",Go],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let $o={};function Qo(t,e,n){"string"!=typeof e&&(n=e,e=t[ea.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),$o[e]=t,n&&($o[e][ea.ExtraData]=n)}function Xo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ta(e);if(n)return n;const r=e.split("-")[0];if(n=ta(r),n)return n;if("en"===r)return Wo;throw new Error(`Missing locale data for the locale "${t}".`)}function Zo(t){return Xo(t)[ea.CurrencyCode]||null}function Jo(t){return Xo(t)[ea.PluralCase]}function ta(t){return t in $o||($o[t]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[t]),$o[t]}var ea=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const na="en-US";let ra=na;function ia(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ra=t.toLowerCase().replace(/_/g,"-"))}function sa(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)sa(t[s],e,n,r,i);else{const s=Yt(),o=Ht();let a=As(t)?t:p(t.provide),c=Ts(t);const u=Gt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(As(t)||!t.multi){const r=new ke(c,i,Xs),f=ca(a,e,i?l:l+d,h);-1===f?(He(Ve(u,o),s,a),oa(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=ca(a,e,l+d,h),p=ca(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){He(Ve(u,o),s,a);const l=function(t,e,n,r,i){const s=new ke(t,n,Xs);return s.multi=[],s.index=e,s.componentProviders=0,aa(s,i,r&&!n),s}(i?la:ua,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),oa(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else oa(s,t,f>-1?f:p,aa(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function oa(t,e,n,r){const i=As(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function aa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ca(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ua(t,e,n,r){return ha(this.multi,[])}function la(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ze(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ha(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ha(i,s);return s}function ha(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function da(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Yt();if(r.firstCreatePass){const i=gt(t);sa(n,r.data,r.blueprint,i,!0),sa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class fa{}class pa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ma=(()=>{class t{}return t.NULL=new pa,t})();function ga(...t){}function ya(t,e){return new va(Dt(t,e))}const ba=function(){return ya(Gt(),Ht())};let va=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ba,t})();function _a(t){return t instanceof va?t.nativeElement:t}class wa{}let Sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ca(),t})();const Ca=function(){const t=Ht(),e=Nt(Gt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Oa=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Ea{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xa=new Ea("11.2.10");class Ta{constructor(){}supports(t){return Bs(t)}create(t){return new Ia(t)}}const ka=(t,e)=>e;class Ia{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ka}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Pa(n,r,i)?e:n,o=Pa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Bs(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Vs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Aa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Da),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Da),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Aa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ra{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Da{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ra,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ja{constructor(){}supports(t){return t instanceof Map||zs(t)}create(){return new Na}}class Na{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||zs(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new La(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class La{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ma(){return new Fa([new Ta])}let Fa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ma()),deps:[[t,new Dn,new Rn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Ma}),t})();function Ua(){return new Va([new ja])}let Va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ua()),deps:[[t,new Dn,new Rn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Ua}),t})();function qa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(At(s)),dt(s))for(let t=lt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&qa(e[1],e,n,r)}const o=n.type;if(8&o)qa(t,e,n.child,r);else if(32&o){const t=Pr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Jr(e,n);if(Array.isArray(t))r.push(...t);else{const n=jr(e[16]);qa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ba{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return qa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(qr(t,n),pn(e,n))}this._attachedToViewContainer=!1}Br(this._lView[1],this._lView)}onDestroy(t){Vi(this._lView[1],this._lView,null,t)}markForCheck(){is(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ss(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{ss(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ni(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class za extends Ba{constructor(t){super(t),this._view=t}detectChanges(){os(this._view)}checkNoChanges(){!function(t){Jt(!0);try{os(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const Ha=Ka;let Ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ha,t.__ChangeDetectorRef__=!0,t})();function Ka(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Nt(t.index,e);return new Ba(n,n)}return 47&t.type?new Ba(e[16],e):null}(Gt(),Ht(),t)}const Ga=[new ja],Wa=new Fa([new Ta]),$a=new Va(Ga),Qa=function(){return tc(Gt(),Ht())};let Xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Qa,t})();const Za=Xa,Ja=class extends Za{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ki(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ri(e,n,t),new Ba(n)}};function tc(t,e){return 4&t.type?new Ja(e,t,ya(t,e)):null}class ec{}class nc{}const rc=function(){return uc(Gt(),Ht())};let ic=(()=>{class t{}return t.__NG_ELEMENT_ID__=rc,t})();const sc=ic,oc=class extends sc{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ya(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=ze(this._hostTNode,this._hostLView);if(je(t)){const e=Le(t,this._hostLView),n=Ne(t);return new en(e[1].data[n+8],e)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ac(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ec,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new oc(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=lt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-lt?(e[4]=n[i],fn(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=ti(i,s),a=n[11],c=Wr(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ni(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),fn(cc(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ac(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=qr(this._lContainer,e);n&&(pn(cc(this._lContainer),e),Br(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=qr(this._lContainer,e);return n&&null!=pn(cc(this._lContainer),e)?new Ba(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ac(t){return t[8]}function cc(t){return t[8]||(t[8]=[])}function uc(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);Yr(n,Wr(n,r),i,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ji(r,e,i,t),rs(e,n)}return new oc(n,t,e)}const lc={};class hc extends ma{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new pc(e,this.ngModule)}}function dc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const fc=new cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ir});class pc extends fa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(yi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return dc(this.componentDef.inputs)}get outputs(){return dc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,lc,i);return s!==lc||r===lc?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(wa,It),o=i.get(Oa,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===N.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ur(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?Ot:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ir,clean:cs,playerHandler:null,flags:0},d=Ui(0,null,null,1,0,null,null,null,null,null),f=ki(null,d,h,l,null,null,s,a,o,i);let p,m;he(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ii(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(ms(a,c,!0),null!==t&&(Ie(i,t,c),null!==a.classes&&si(i,t,a.classes),null!==a.styles&&ii(i,t,a.styles)));const u=r.createRenderer(t,e),l=ki(n,Fi(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&(He(Ve(a,n),o,e.type),Ki(o,a),Wi(a,n.length,1)),rs(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)Ie(a,u,["ng-version",xa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!di(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(a,u,t),e&&e.length>0&&si(a,u,e.join(" "))}if(m=Pt(d,ut),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),$i(t,r,e,Ai(t,e,1,null),n));const i=Ze(e,t,r.directiveStart,r);kr(i,e);const s=Dt(r,e);return s&&kr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Gt();e.contentQueries(1,o,t.directiveStart)}const a=Gt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(be(a.index),Hi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Yi(e,o)),o}(t,this.componentDef,f,h,[Ps]),Ri(d,f,null)}finally{ge()}return new mc(this.componentType,p,ya(m,f),f,m)}}class mc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new za(r),this.componentType=t}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const gc=new Map;class yc extends ec{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hc(this);const n=ct(t),r=t[W]||null;r&&ia(r),this._bootstrapComponents=Rr(n.bootstrap),this._r3Injector=Os(t,e,[{provide:ec,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ds.THROW_IF_NOT_FOUND,n=I.Default){return t===Ds||t===ec||t===gs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class bc extends nc{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,gc.get(i),n),gc.set(i,n));const s=Rr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new yc(this.moduleType,t)}}function vc(t,e,n){const r=te()+t,i=Ht();return i[r]===bi?Hs(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function _c(t,e){const n=t[e];return n===bi?void 0:n}function wc(t,e){const n=Yt();let r;const i=t+ut;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=yt(r.type)),o=R(Xs);try{const t=Fe(!1),e=s();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ht(),i,e),e}finally{R(o)}}function Sc(t,e,n){const r=t+ut,i=Ht(),s=jt(i,r);return Ec(i,Oc(i,r)?function(t,e,n,r,i,s){const o=e+n;return Ys(t,o,i)?Hs(t,o+1,s?r.call(s,i):r(i)):_c(t,o+1)}(i,te(),e,s.transform,n,s):s.transform(n))}function Cc(t,e,n,r){const i=t+ut,s=Ht(),o=jt(s,i);return Ec(s,Oc(s,i)?function(t,e,n,r,i,s,o){const a=e+n;return Ks(t,a,i,s)?Hs(t,a+2,o?r.call(o,i,s):r(i,s)):_c(t,a+2)}(s,te(),e,o.transform,n,r,o):o.transform(n,r))}function Oc(t,e){return t[1].data[e].pure}function Ec(t,e){return qs.isWrapped(e)&&(e=qs.unwrap(e),t[ee()]=bi),e}function xc(t){return e=>{setTimeout(t,void 0,e)}}const Tc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,c=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),c=null===(s=e.error)||void 0===s?void 0:s.bind(e),u=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(c=xc(c),a&&(a=xc(a)),u&&(u=xc(u)));const l=super.subscribe({next:a,error:c,complete:u});return t instanceof i.a&&t.add(l),l}};function kc(){return this._results[Vs()]()}class Ic{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Vs(),n=Ic.prototype;n[e]||(n[e]=kc)}get changes(){return this._changes||(this._changes=new Tc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=hn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ac{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ac(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Rc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Yc(t,e).matches&&this.queries[e].setDirty()}}class Dc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Pc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Pc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class jc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new jc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Nc(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===Xa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===va||r===ic||r===Xa&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Nc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Lc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ya(t,e):4&t.type?tc(t,e):null}(e,t):-2===n?function(t,e,n){return n===va?ya(e,t):n===Xa?tc(e,t):n===ic?uc(e,t):void 0}(t,e,r):Ze(t,t[1],n,e)}function Mc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Lc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Fc(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Mc(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=lt;t<o.length;t++){const e=o[t];e[17]===e[3]&&Fc(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Fc(n[1],n,i,r)}}}}}return r}function Uc(t){const e=Ht(),n=Yt(),r=ae();ce(r+1);const i=Yc(n,r);if(t.dirty&&Mt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Fc(n,e,r,[]):Mc(n,e,i,r);t.reset(s,_a),t.notifyOnChanges()}return!0}return!1}function Vc(t,e,n){const r=Yt();r.firstCreatePass&&(Hc(r,new Dc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),zc(r,Ht(),e)}function qc(t,e,n,r){const i=Yt();if(i.firstCreatePass){const s=Gt();Hc(i,new Dc(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}zc(i,Ht(),n)}function Bc(){return t=Ht(),e=ae(),t[19].queries[e].queryList;var t,e}function zc(t,e,n){const r=new Ic(4==(4&n));Vi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Rc),e[19].queries.push(new Ac(r))}function Hc(t,e,n){null===t.queries&&(t.queries=new Pc),t.queries.track(new jc(e,n))}function Yc(t,e){return t.queries.getByIndex(e)}function Kc(t=I.Default){const e=Ka(!0);if(null!=e||t&I.Optional)return e;v("ChangeDetectorRef")}const Gc=new cn("Application Initializer");let Wc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ga,this.reject=ga,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ao(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(xn(Gc,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const $c=new cn("AppId"),Qc={provide:$c,useFactory:function(){return`${Xc()}${Xc()}${Xc()}`},deps:[]};function Xc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zc=new cn("Platform Initializer"),Jc=new cn("Platform ID"),tu=new cn("appBootstrapListener");let eu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const nu=new cn("LocaleId"),ru=new cn("DefaultCurrencyCode");class iu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const su=function(t){return new bc(t)},ou=su,au=function(t){return Promise.resolve(su(t))},cu=function(t){const e=su(t),n=Rr(ct(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new pc(n)),t},[]);return new iu(e,n)},uu=cu,lu=function(t){return Promise.resolve(cu(t))};let hu=(()=>{class t{constructor(){this.compileModuleSync=ou,this.compileModuleAsync=au,this.compileModuleAndAllComponentsSync=uu,this.compileModuleAndAllComponentsAsync=lu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const du=(()=>Promise.resolve(0))();function fu(t){"undefined"==typeof Zone?du.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tc(!1),this.onMicrotaskEmpty=new Tc(!1),this.onStable=new Tc(!1),this.onError=new Tc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=V.requestAnimationFrame,e=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(V,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,yu(t),gu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),yu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return bu(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),vu(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return bu(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),vu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,yu(t),gu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,mu,ga,ga);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const mu={};function gu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vu(t){t._nesting--,gu(t)}class _u{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tc,this.onMicrotaskEmpty=new Tc,this.onStable=new Tc,this.onError=new Tc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let wu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pu.assertNotInAngularZone(),fu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(xn(pu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Su=(()=>{class t{constructor(){this._applications=new Map,xu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return xu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Cu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ou(t){xu=t}let Eu,xu=new Cu,Tu=!0,ku=!1;function Iu(){return ku=!0,Tu}function Au(){if(ku)throw new Error("Cannot enable prod mode after platform setup.");Tu=!1}const Ru=new cn("AllowMultipleToken");class Du{constructor(t,e){this.name=t,this.token=e}}function Pu(t,e,n=[]){const r=`Platform: ${e}`,i=new cn(r);return(e=[])=>{let s=ju();if(!s||s.injector.get(Ru,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:bs,useValue:"platform"});!function(t){if(Eu&&!Eu.destroyed&&!Eu.injector.get(Ru,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Eu=t.get(Nu);const e=t.get(Zc,null);e&&e.forEach(t=>t())}(Ds.create({providers:t,name:r}))}return function(t){const e=ju();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ju(){return Eu&&!Eu.destroyed?Eu:null}let Nu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new _u:("zone.js"===t?void 0:t)||new pu({enableLongStackTrace:Iu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:pu,useValue:n}];return n.run(()=>{const e=Ds.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Tr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Fu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return ao(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Wc);return t.runInitializers(),t.donePromise.then(()=>(ia(i.injector.get(nu,na)||na),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Lu({},e);return function(t,e,n){const r=new bc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Mu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(xn(Ds))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Lu(t,e){return Array.isArray(e)?e.reduce(Lu,t):Object.assign(Object.assign({},t),e)}let Mu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pu.assertNotInAngularZone(),fu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof fa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ec),i=n.create(Ds.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(wu,null),a=o&&i.injector.get(Su);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Fu(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Fu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(tu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(xn(pu),xn(Ds),xn(Tr),xn(ma),xn(Wc))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Fu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Uu{}class Vu{}const qu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Bu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||qu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>zu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>zu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(xn(hu),xn(Vu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function zu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Hu extends Ya{}class Yu extends Hu{}const Ku=function(t){return null},Gu=Pu(null,"core",[{provide:Jc,useValue:"unknown"},{provide:Nu,deps:[Ds]},{provide:Su,deps:[]},{provide:eu,deps:[]}]),Wu=[{provide:Mu,useClass:Mu,deps:[pu,Ds,Tr,ma,Wc]},{provide:fc,deps:[pu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Wc,useClass:Wc,deps:[[new Rn,Gc]]},{provide:hu,useClass:hu,deps:[]},Qc,{provide:Fa,useFactory:function(){return Wa},deps:[]},{provide:Va,useFactory:function(){return $a},deps:[]},{provide:nu,useFactory:function(t){return ia(t=t||"undefined"!=typeof $localize&&$localize.locale||na),t},deps:[[new An(nu),new Rn,new Dn]]},{provide:ru,useValue:"USD"}];let $u=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(xn(Mu))},t.\u0275mod=nt({type:t}),t.\u0275inj=w({providers:Wu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return g}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return O}),n.d(e,"i",function(){return a}),n.d(e,"j",function(){return l}),n.d(e,"k",function(){return h}),n.d(e,"l",function(){return f}),n.d(e,"m",function(){return p}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return u}),n.d(e,"p",function(){return d}),n.d(e,"q",function(){return m});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new g(i,a,r);return c},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function O(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.s("angularfire2.app.options"),v=new c.s("angularfire2.app.nameOrConfig"),_=new c.R("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&C("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(c.Y)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:w,deps:[b,c.B,[new c.C,v]]};let x=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.Q.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(c.D))},t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({providers:[E]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.g)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.s("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Yb)(l)}const u=new r.s("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Yb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Yb)(o).location;return new v(Object(r.Yb)(a),e&&e.origin||"")}const b=new r.s("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(g),r.Yb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Kb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new w(Object(r.Yb)(g),Object(r.Yb)(a))}function C(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function T(t,e){const n=Object(r.mb)(t),i=n[r.db.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.db.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.db.NumberSymbols][x.Group]}return i}const k=r.pb,I=/^(\d+)?\.((\d+)(-(\d+))?)?$/,A=".",R="0";function D(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class P{}let j=(()=>{class t extends P{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(k(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.w))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function N(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let L=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.yb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.u),r.Ob(r.v),r.Ob(r.l),r.Ob(r.G))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class M{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let F=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new M(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new U(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new U(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N),r.Ob(r.u))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class U{constructor(t,e){this.record=t,this.view=e}}let V=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new q,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){B("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){B("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class q{constructor(){this.$implicit=null,this.ngIf=null}}function B(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.yb)(e)}'.`)}class z{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let H=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Y=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new z(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N),r.Ob(H,1))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),K=(()=>{class t{constructor(t,e,n){n._addDefault(new z(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N),r.Ob(H,1))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();function G(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.yb)(t)}'`)}class W{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ${createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Q=new $,X=new W;let Z=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.ub)(e))return Q;if(Object(r.vb)(e))return X;throw G(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.ac())},t.\u0275pipe=r.Nb({name:"async",type:t,pure:!1}),t})(),J=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let u=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(A))>-1&&(o=o.replace(A,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===R;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===R;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(I);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=D(e)),null!=n&&(h=D(n)),null!=r?d=D(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const u=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=u?r.pop():c=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(u,h,d);let f=u.digits,p=u.integerLen;const m=u.exponent;let g=[];for(c=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(T(n,r)),g.length&&(a+=T(n,i)+g.join("")),m&&(a+=T(n,x.Exponential)+"+"+m)}else a=T(n,x.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(A)?i.split(A):[i.substring(0,i.lastIndexOf(R)+1),i.substring(i.lastIndexOf(R)+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const t=c.charAt(l);t===R?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.mb)(t)[r.db.NumberFormats][e]}(e,O.Decimal),T(e,x.MinusSign)),e,x.Group,x.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),i,n)}catch(s){throw G(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.w))},t.\u0275pipe=r.Nb({name:"number",type:t,pure:!0}),t})(),tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[{provide:P,useClass:j}]}),t})();function et(t){return"server"===t}let nt=(()=>{class t{}return t.\u0275prov=Object(r.Kb)({token:t,providedIn:"root",factory:()=>new rt(Object(r.Yb)(o),window)}),t})();class rt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=it(this.window.history)||it(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function it(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class st extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new st,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=at||(at=document.querySelector("base"),at)?at.getAttribute("href"):null;return null==e?null:(n=e,ot||(ot=document.createElement("a")),ot.setAttribute("href",n),"/"===ot.pathname.charAt(0)?ot.pathname:"/"+ot.pathname);var n}resetBaseElement(){at=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return N(document.cookie,t)}}let ot,at=null;const ct=new r.s("TRANSITION_ID"),ut=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ct,o,r.t],multi:!0}];class lt{static init(){Object(r.ab)(new lt)}addToWindow(t){r.rb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.rb.getAllAngularRootElements=()=>t.getAllRootElements(),r.rb.frameworkStabilizers||(r.rb.frameworkStabilizers=[]),r.rb.frameworkStabilizers.push(t=>{const e=r.rb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const ht=new r.s("EventManagerPlugins");let dt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ht),r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class ft{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let pt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),mt=(()=>{class t extends pt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yt=/%COMP%/g;function bt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?bt(t,i,n):(i=i.replace(yt,t),n.push(i))}return n}function vt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let _t=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new wt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.T.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new St(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.T.ShadowDom:return new Ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=bt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(dt),r.Yb(mt),r.Yb(r.c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class wt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(gt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=gt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=gt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.I.DashCase|r.I.Important)?t.style.setProperty(e,n,i&r.I.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.I.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,vt(n)):this.eventManager.addEventListener(t,e,vt(n))}}class St extends wt{constructor(t,e,n,r){super(t),this.component=n;const i=bt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(yt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(yt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ct extends wt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=bt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ot=(()=>{class t extends ft{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Et=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let It=(()=>{class t extends ft{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Et.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Tt.hasOwnProperty(e)&&(e=Tt[e]))}return xt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Et.forEach(r=>{r!=n&&(0,kt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),At=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return Object(r.Yb)(Rt)},token:t,providedIn:"root"}),t})(),Rt=(()=>{class t extends At{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.K.NONE:return e;case r.K.HTML:return Object(r.gb)(e,"HTML")?Object(r.zb)(e):Object(r.eb)(this._doc,String(e)).toString();case r.K.STYLE:return Object(r.gb)(e,"Style")?Object(r.zb)(e):e;case r.K.SCRIPT:if(Object(r.gb)(e,"Script"))return Object(r.zb)(e);throw new Error("unsafe value used in a script context");case r.K.URL:return Object(r.qb)(e),Object(r.gb)(e,"URL")?Object(r.zb)(e):Object(r.fb)(String(e));case r.K.RESOURCE_URL:if(Object(r.gb)(e,"ResourceURL"))return Object(r.zb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.hb)(t)}bypassSecurityTrustStyle(t){return Object(r.kb)(t)}bypassSecurityTrustScript(t){return Object(r.jb)(t)}bypassSecurityTrustUrl(t){return Object(r.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return t=Object(r.Yb)(r.p),new Rt(t.get(o));var t},token:t,providedIn:"root"}),t})();const Dt=[{provide:r.D,useValue:"browser"},{provide:r.E,useValue:function(){st.makeCurrent(),lt.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.xb)(document),document},deps:[]}],Pt=Object(r.U)(r.Z,"browser",Dt),jt=[[],{provide:r.cb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:ht,useClass:Ot,multi:!0,deps:[o,r.B,r.D]},{provide:ht,useClass:It,multi:!0,deps:[o]},[],{provide:_t,useClass:_t,deps:[dt,mt,r.c]},{provide:r.H,useExisting:_t},{provide:pt,useExisting:mt},{provide:mt,useClass:mt,deps:[o]},{provide:r.O,useClass:r.O,deps:[r.B]},{provide:dt,useClass:dt,deps:[ht,r.B]},[]];let Nt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:ct,useExisting:r.c},ut]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(t,12))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:jt,imports:[tt,r.f]}),t})();"undefined"!=typeof window&&window;var Lt=n("spgP"),Mt=n("D0XW"),Ft=n("HDdC"),Ut=n("Cfvw"),Vt=n("LRne"),qt=n("bHdf");function Bt(...t){return Object(qt.a)(1)(Object(Vt.a)(...t))}var zt=n("z+Ro");function Ht(...t){const e=t[t.length-1];return Object(zt.a)(e)?(t.pop(),n=>Bt(t,n,e)):e=>Bt(t,e)}var Yt=n("7o/Q");function Kt(){return t=>t.lift(new Gt)}class Gt{call(t,e){return e.subscribe(new Wt(t))}}class Wt extends Yt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var $t=n("lJxs");function Qt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Xt(t,e,n))}}class Xt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Zt(t,this.accumulator,this.seed,this.hasSeed))}}class Zt extends Yt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Jt(t,e){return n=>n.lift(new te(t,e))}class te{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ee(t,this.compare,this.keySelector))}}class ee extends Yt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function ne(t,e){return function(n){return n.lift(new re(t,e))}}class re{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ie(t,this.predicate,this.thisArg))}}class ie extends Yt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var se=n("pxpQ"),oe=n("Jgta"),ae=n("zIRd"),ce=n("qOnz"),ue=n("q/0M"),le=function(t,e){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function he(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var de,fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pe=pe||{},me=fe||self;function ge(){}function ye(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function be(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ve="closure_uid_"+(1e9*Math.random()>>>0),_e=0;function we(t,e,n){return t.call.apply(t.bind,arguments)}function Se(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ce(t,e,n){return(Ce=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?we:Se).apply(null,arguments)}function Oe(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ee(){return Date.now()}function xe(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Te(){this.j=this.j,this.i=this.i}Te.prototype.j=!1,Te.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ve)&&t[ve]||(t[ve]=++_e)}(this)},Te.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ke=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ie=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Ae(t){return Array.prototype.concat.apply([],arguments)}function Re(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function De(t){return/^[\s\xa0]*$/.test(t)}var Pe,je=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ne(t,e){return-1!=t.indexOf(e)}function Le(t,e){return t<e?-1:t>e?1:0}t:{var Me=me.navigator;if(Me){var Fe=Me.userAgent;if(Fe){Pe=Fe;break t}}Pe=""}function Ue(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ve(t){var e={};for(var n in t)e[n]=t[n];return e}var qe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Be(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<qe.length;s++)n=qe[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ze(t){return ze[" "](t),t}ze[" "]=ge;var He,Ye,Ke=Ne(Pe,"Opera"),Ge=Ne(Pe,"Trident")||Ne(Pe,"MSIE"),We=Ne(Pe,"Edge"),$e=We||Ge,Qe=Ne(Pe,"Gecko")&&!(Ne(Pe.toLowerCase(),"webkit")&&!Ne(Pe,"Edge"))&&!(Ne(Pe,"Trident")||Ne(Pe,"MSIE"))&&!Ne(Pe,"Edge"),Xe=Ne(Pe.toLowerCase(),"webkit")&&!Ne(Pe,"Edge");function Ze(){var t=me.document;return t?t.documentMode:void 0}t:{var Je="",tn=(Ye=Pe,Qe?/rv:([^\);]+)(\)|;)/.exec(Ye):We?/Edge\/([\d\.]+)/.exec(Ye):Ge?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ye):Xe?/WebKit\/(\S+)/.exec(Ye):Ke?/(?:Version)[ \/]?(\S+)/.exec(Ye):void 0);if(tn&&(Je=tn?tn[1]:""),Ge){var en=Ze();if(null!=en&&en>parseFloat(Je)){He=String(en);break t}}He=Je}var nn={};function rn(t){return function(t,e){var n=nn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=je(String(He)).split("."),r=je(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Le(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Le(0==o[2].length,0==a[2].length)||Le(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var sn=me.document&&Ge&&(Ze()||parseInt(He,10))||void 0,on=!Ge||9<=Number(sn),an=Ge&&!rn("9"),cn=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",ge,e),me.removeEventListener("test",ge,e)}catch(n){}return t}();function un(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ln(t,e){if(un.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Qe){t:{try{ze(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:hn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}un.prototype.b=function(){this.defaultPrevented=!0},xe(ln,un);var hn={2:"touch",3:"pen",4:"mouse"};ln.prototype.b=function(){ln.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,an)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var dn="closure_listenable_"+(1e6*Math.random()|0),fn=0;function pn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++fn,this.Y=this.Z=!1}function mn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function gn(t){this.src=t,this.a={},this.b=0}function yn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=ke(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(mn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function bn(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}gn.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=bn(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new pn(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var vn="closure_lm_"+(1e6*Math.random()|0),_n={};function wn(t,e,n,r,i){if(r&&r.once)return Cn(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wn(t,e[s],n,r,i);return null}return n=Rn(n),t&&t[dn]?t.va(e,n,be(r)?!!r.capture:!!r,i):Sn(t,e,n,!1,r,i)}function Sn(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=be(i)?!!i.capture:!!i;if(o&&!on)return null;var a=In(t);if(a||(t[vn]=a=new gn(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=kn,e=on?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cn||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Cn(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Cn(t,e[s],n,r,i);return null}return n=Rn(n),t&&t[dn]?t.wa(e,n,be(r)?!!r.capture:!!r,i):Sn(t,e,n,!0,r,i)}function On(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)On(t,e[s],n,r,i);else r=be(r)?!!r.capture:!!r,n=Rn(n),t&&t[dn]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=bn(s=t.a[e],n,r,i))&&(mn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=In(t))&&(e=t.a[e.toString()],t=-1,e&&(t=bn(e,n,r,i)),(n=-1<t?e[t]:null)&&En(n))}function En(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[dn])yn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=In(e))?(yn(n,t),0==n.b&&(n.src=null,e[vn]=null)):mn(t)}}}function xn(t){return t in _n?_n[t]:_n[t]="on"+t}function Tn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&En(t),n.call(r,e)}function kn(t,e){if(t.Y)return!0;if(!on){if(!e)t:{e=["window","event"];for(var n=me,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Tn(t,e=new ln(e,this))}return Tn(t,new ln(e,this))}function In(t){return(t=t[vn])instanceof gn?t:null}var An="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rn(t){return"function"==typeof t?t:(t[An]||(t[An]=function(e){return t.handleEvent(e)}),t[An])}function Dn(){Te.call(this),this.c=new gn(this),this.J=this,this.C=null}function Pn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new un(e,t);else if(e instanceof un)e.target=e.target||t;else{var i=e;Be(e=new un(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=jn(o,r,!0,e)&&i}if(i=jn(o=e.a=t,r,!0,e)&&i,i=jn(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=jn(o=e.a=n[s],r,!1,e)&&i}function jn(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&yn(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}xe(Dn,Te),Dn.prototype[dn]=!0,(de=Dn.prototype).addEventListener=function(t,e,n,r){wn(this,t,e,n,r)},de.removeEventListener=function(t,e,n,r){On(this,t,e,n,r)},de.G=function(){if(Dn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)mn(n[r]);delete e.a[t],e.b--}}this.C=null},de.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},de.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Nn=me.JSON.stringify;function Ln(){this.b=this.a=null}var Mn,Fn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Vn},function(t){t.reset()});function Un(){var t=Hn,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Vn(){this.next=this.b=this.a=null}function qn(t){me.setTimeout(function(){throw t},0)}function Bn(t,e){Mn||function(){var t=me.Promise.resolve(void 0);Mn=function(){t.then(Yn)}}(),zn||(Mn(),zn=!0),Hn.add(t,e)}Ln.prototype.add=function(t,e){var n=Fn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Vn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Vn.prototype.reset=function(){this.next=this.b=this.a=null};var zn=!1,Hn=new Ln;function Yn(){for(var t;t=Un();){try{t.a.call(t.b)}catch(n){qn(n)}var e=Fn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}zn=!1}function Kn(t,e){Dn.call(this),this.b=t||1,this.a=e||me,this.f=Ce(this.Za,this),this.g=Ee()}function Gn(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Wn(t,e,n){if("function"==typeof t)n&&(t=Ce(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ce(t.handleEvent,t)}return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function $n(t){t.a=Wn(function(){t.a=null,t.c&&(t.c=!1,$n(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}xe(Kn,Dn),(de=Kn.prototype).aa=!1,de.M=null,de.Za=function(){if(this.aa){var t=Ee()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Pn(this,"tick"),this.aa&&(Gn(this),this.start()))}},de.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ee())},de.G=function(){Kn.X.G.call(this),Gn(this),delete this.a};var Qn=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:$n(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(me.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Te);function Xn(t){Te.call(this),this.b=t,this.a={}}xe(Xn,Te);var Zn=[];function Jn(t,e,n,r){Array.isArray(n)||(n&&(Zn[0]=n.toString()),n=Zn);for(var i=0;i<n.length;i++){var s=wn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function tr(t){Ue(t.a,function(t,e){this.a.hasOwnProperty(e)&&En(t)},t),t.a={}}function er(){this.a=!0}function nr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Nn(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Xn.prototype.G=function(){Xn.X.G.call(this),tr(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},er.prototype.info=function(){};var rr={},ir=null;function sr(){return ir=ir||new Dn}function or(t){un.call(this,rr.Fa,t)}function ar(t){var e=sr();Pn(e,new or(e,t))}function cr(t,e){un.call(this,rr.STAT_EVENT,t),this.stat=e}function ur(t){var e=sr();Pn(e,new cr(e,t))}function lr(t){un.call(this,rr.Ga,t)}function hr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}rr.Fa="serverreachability",xe(or,un),rr.STAT_EVENT="statevent",xe(cr,un),rr.Ga="timingevent",xe(lr,un);var dr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},fr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function pr(){}function mr(){}pr.prototype.a=null;var gr,yr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function br(){un.call(this,"d")}function vr(){un.call(this,"c")}function _r(){}function wr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Xn(this),this.P=Sr,this.R=new Kn(t=$e?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}xe(br,un),xe(vr,un),xe(_r,pr),gr=new _r;var Sr=45e3,Cr={},Or={};function Er(t,e,n){t.H=1,t.i=Gr(qr(e)),t.j=n,t.I=!0,xr(t,null)}function xr(t,e){t.u=Ee(),Ir(t),t.l=qr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),oi(n.b,"t",r),t.D=0,t.a=ts(t.g,t.g.C?e:null),0<t.O&&(t.F=new Qn(Ce(t.Ca,t,t.a),t.O)),Jn(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ve(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ar(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Tr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=kr(t,n);if(i==Or){4==e&&(t.h=4,ur(14),r=!1),nr(t.c,t.f,null,"[Incomplete Response]");break}if(i==Cr){t.h=4,ur(15),nr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}nr(t.c,t.f,i,null),jr(t,i)}4==e&&0==n.length&&(t.h=1,ur(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ki(e),e.F=!0,ur(11))):(nr(t.c,t.f,n,"[Invalid Chunked Response]"),Pr(t),Dr(t))}function kr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Or:(n=Number(e.substring(n,r)),isNaN(n)?Cr:(r+=1)+n>e.length?Or:(e=e.substr(r,n),t.D=r+n,e))}function Ir(t){t.T=Ee()+t.P,Ar(t,t.P)}function Ar(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=hr(Ce(t.Va,t),e)}function Rr(t){t.o&&(me.clearTimeout(t.o),t.o=null)}function Dr(t){0==t.g.v||t.A||$i(t.g,t)}function Pr(t){Rr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Gn(t.R),tr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function jr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||fi(n.b,t)))if(n.I=t.N,!t.C&&fi(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Fp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Wi(n),Mi(n)}Yi(n),ur(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=hr(Ce(n.Sa,n),6e3));if(1>=di(n.b)&&n.ea){try{n.ea()}catch(Fp){}n.ea=void 0}}else Xi(n,11)}else if((t.C||n.a==t)&&Wi(n),!De(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(Ne(l,"spdy")||Ne(l,"quic")||Ne(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(pi(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Kr(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ee()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Ji(c,c.C?c.ga:null,c.fa),f.C){mi(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(Rr(p),Ir(p)),c.a=f}else Hi(c);0<n.g.length&&Vi(n)}else"stop"!=i[0]&&"close"!=i[0]||Xi(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Xi(n,7):Li(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ar(4)}catch(Fp){}}function Nr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ye(t)||"string"==typeof t)Ie(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ye(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ye(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Lr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Lr)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Mr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Fr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Fr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Fr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(de=wr.prototype).setTimeout=function(t){this.P=t},de.Xa=function(t){t=t.target;var e=this.F;e&&3==Di(t)?e.f():this.Ca(t)},de.Ca=function(t){try{if(t==this.a)t:{var e=Di(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!$e&&!this.a.$())){this.A||4!=e||7==n||ar(8==n||0>=r?3:2),Rr(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!De(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,ur(12),Pr(this),Dr(this);break t}nr(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,jr(this,c)}this.I?(Tr(this,e,s),$e&&this.b&&3==e&&(Jn(this.J,this.R,"tick",this.Wa),this.R.start())):(nr(this.c,this.f,s,null),jr(this,s)),4==e&&Pr(this),this.b&&!this.A&&(4==e?$i(this.g,this):(this.b=!1,Ir(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,ur(12)):(this.h=0,ur(13)),Pr(this),Dr(this)}}}catch(u){}},de.Wa=function(){if(this.a){var t=Di(this.a),e=this.a.$();this.D<e.length&&(Rr(this),Tr(this,t,e),this.b&&4!=t&&Ir(this))}},de.cancel=function(){this.A=!0,Pr(this)},de.Va=function(){this.o=null;var t=Ee();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ar(3),ur(17)),Pr(this),this.h=2,Dr(this)):Ar(this,this.T-t)},(de=Lr.prototype).K=function(){Mr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},de.L=function(){return Mr(this),this.a.concat()},de.get=function(t,e){return Fr(this.b,t)?this.b[t]:e},de.set=function(t,e){Fr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},de.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Ur=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Vr){this.a=void 0!==e?e:t.a,Br(this,t.f),this.j=t.j,zr(this,t.c),Hr(this,t.h),this.g=t.g,e=t.b;var n=new ni;n.c=e.c,e.a&&(n.a=new Lr(e.a),n.b=e.b),Yr(this,n),this.i=t.i}else t&&(n=String(t).match(Ur))?(this.a=!!e,Br(this,n[1]||"",!0),this.j=Wr(n[2]||""),zr(this,n[3]||"",!0),Hr(this,n[4]),this.g=Wr(n[5]||"",!0),Yr(this,n[6]||"",!0),this.i=Wr(n[7]||"")):(this.a=!!e,this.b=new ni(null,this.a))}function qr(t){return new Vr(t)}function Br(t,e,n){t.f=n?Wr(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function zr(t,e,n){t.c=n?Wr(e,!0):e}function Hr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Yr(t,e,n){e instanceof ni?(t.b=e,function(t,e){e&&!t.f&&(ri(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ii(this,e),oi(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=$r(e,ti)),t.b=new ni(e,t.a))}function Kr(t,e,n){t.b.set(e,n)}function Gr(t){return Kr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ee()).toString(36)),t}function Wr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $r(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Qr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Vr.prototype.toString=function(){var t=[],e=this.f;e&&t.push($r(e,Xr,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push($r(e,Xr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push($r(n,"/"==n.charAt(0)?Jr:Zr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",$r(n,ei)),t.join("")};var Xr=/[#\/\?@]/g,Zr=/[#\?:]/g,Jr=/[#\?]/g,ti=/[#\?@]/g,ei=/#/g;function ni(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ri(t){t.a||(t.a=new Lr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ii(t,e){ri(t),e=ai(t,e),Fr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Fr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Mr(t)))}function si(t,e){return ri(t),e=ai(t,e),Fr(t.a.b,e)}function oi(t,e,n){ii(t,e),0<n.length&&(t.c=null,t.a.set(ai(t,e),Re(n)),t.b+=n.length)}function ai(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(de=ni.prototype).add=function(t,e){ri(this),this.c=null,t=ai(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},de.forEach=function(t,e){ri(this),this.a.forEach(function(n,r){Ie(n,function(n){t.call(e,n,r,this)},this)},this)},de.L=function(){ri(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},de.K=function(t){ri(this);var e=[];if("string"==typeof t)si(this,t)&&(e=Ae(e,this.a.get(ai(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ae(e,t[n])}return e},de.set=function(t,e){return ri(this),this.c=null,si(this,t=ai(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},de.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},de.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var ci=function(){return function(t,e){this.b=t,this.a=e}}();function ui(t){this.g=t||li,t=me.PerformanceNavigationTiming?0<(t=me.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(me.ia&&me.ia.ya&&me.ia.ya()&&me.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var li=10;function hi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function di(t){return t.b?1:t.a?t.a.size:0}function fi(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function pi(t,e){t.a?t.a.add(e):t.b=e}function mi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function gi(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=he(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Re(t.c)}function yi(){}function bi(){this.a=new yi}function vi(t,e,n){var r=n||"";try{Nr(t,function(t,n){var i=t;be(t)&&(i=Nn(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(vm){throw e.push(r+"type="+encodeURIComponent("_badmap")),vm}}function _i(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}ui.prototype.cancel=function(){var t,e;if(this.c=gi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=he(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},yi.prototype.stringify=function(t){return me.JSON.stringify(t,void 0)},yi.prototype.parse=function(t){return me.JSON.parse(t,void 0)};var wi=me.JSON.parse;function Si(t){Dn.call(this),this.headers=new Lr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ci,this.D=this.F=!1}xe(Si,Dn);var Ci="",Oi=/^https?$/i,Ei=["POST","PUT"];function xi(t){return"content-type"==t.toLowerCase()}function Ti(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ki(t),Ai(t)}function ki(t){t.u||(t.u=!0,Pn(t,"complete"),Pn(t,"error"))}function Ii(t){if(t.b&&void 0!==pe&&(!t.s[1]||4!=Di(t)||2!=t.W()))if(t.l&&4==Di(t))Wn(t.za,0,t);else if(Pn(t,"readystatechange"),4==Di(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Ur)[1]||null;if(!s&&me.self&&me.self.location){var o=me.self.location.protocol;s=o.substr(0,o.length-1)}i=!Oi.test(s?s.toLowerCase():"")}e=i}if(e)Pn(t,"complete"),Pn(t,"success");else{t.h=6;try{var a=2<Di(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",ki(t)}}finally{Ai(t)}}}function Ai(t,e){if(t.a){Ri(t);var n=t.a,r=t.s[0]?ge:null;t.a=null,t.s=null,e||Pn(t,"ready");try{n.onreadystatechange=r}catch(vm){}}}function Ri(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(me.clearTimeout(t.m),t.m=null)}function Di(t){return t.a?t.a.readyState:0}function Pi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ue(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Kr(t,e,n))}function ji(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ni(t){this.pa=0,this.g=[],this.c=new er,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=ji("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=ji("baseRetryDelayMs",5e3,t),this.Ra=ji("retryDelaySeedMs",1e4,t),this.Ma=ji("forwardChannelMaxRetries",2,t),this.ma=ji("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ui(t&&t.concurrentRequestLimit),this.ka=new bi,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Li(t){if(Fi(t),3==t.v){var e=t.R++,n=qr(t.B);Kr(n,"SID",t.J),Kr(n,"RID",e),Kr(n,"TYPE","terminate"),Bi(t,n),(e=new wr(t,t.c,e,void 0)).H=2,e.i=Gr(qr(n)),n=!1,me.navigator&&me.navigator.sendBeacon&&(n=me.navigator.sendBeacon(e.i.toString(),"")),!n&&me.Image&&((new Image).src=e.i,n=!0),n||(e.a=ts(e.g,null),e.a.ba(e.i)),e.u=Ee(),Ir(e)}Zi(t)}function Mi(t){t.a&&(Ki(t),t.a.cancel(),t.a=null)}function Fi(t){Mi(t),t.j&&(me.clearTimeout(t.j),t.j=null),Wi(t),t.b.cancel(),t.h&&("number"==typeof t.h&&me.clearTimeout(t.h),t.h=null)}function Ui(t,e){t.g.push(new ci(t.Oa++,e)),3==t.v&&Vi(t)}function Vi(t){hi(t.b)||t.h||(t.h=!0,Bn(t.Ba,t),t.u=0)}function qi(t,e){var n;n=e?e.f:t.R++;var r=qr(t.B);Kr(r,"SID",t.J),Kr(r,"RID",n),Kr(r,"AID",t.P),Bi(t,r),t.i&&t.l&&Pi(r,t.i,t.l),n=new wr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=zi(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),pi(t.b,n),Er(n,r,e)}function Bi(t,e){t.f&&Nr({},function(t,n){Kr(e,n,t)})}function zi(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ce(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{vi(l,o,"req"+u+"_")}catch(Ds){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Hi(t){t.a||t.j||(t.T=1,Bn(t.Aa,t),t.o=0)}function Yi(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=hr(Ce(t.Aa,t),Qi(t,t.o)),t.o++,0))}function Ki(t){null!=t.s&&(me.clearTimeout(t.s),t.s=null)}function Gi(t){t.a=new wr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=qr(t.la);Kr(e,"RID","rpc"),Kr(e,"SID",t.J),Kr(e,"CI",t.H?"0":"1"),Kr(e,"AID",t.P),Bi(t,e),Kr(e,"TYPE","xmlhttp"),t.i&&t.l&&Pi(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Gr(qr(e)),n.j=null,n.I=!0,xr(n,t)}function Wi(t){null!=t.m&&(me.clearTimeout(t.m),t.m=null)}function $i(t,e){var n=null;if(t.a==e){Wi(t),Ki(t),t.a=null;var r=2}else{if(!fi(t.b,e))return;n=e.s,mi(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ee()-e.u;var i=t.u;Pn(r=sr(),new lr(r,n,e,i)),Vi(t)}else Hi(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(di(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=hr(Ce(t.Ba,t,e),Qi(t,t.u)),t.u++,0)))}(t,e)||2==r&&Yi(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Xi(t,5);break;case 4:Xi(t,10);break;case 3:Xi(t,6);break;default:Xi(t,2)}}function Qi(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Xi(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ce(t.Ya,t);n||(n=new Vr("//www.google.com/images/cleardot.gif"),me.location&&"http"==me.location.protocol||Br(n,"https"),Gr(n)),function(t,e){var n=new er;if(me.Image){var r=new Image;r.onload=Oe(_i,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Oe(_i,n,r,"TestLoadImage: error",!1,e),r.onabort=Oe(_i,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Oe(_i,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ur(2);t.v=0,t.f&&t.f.ra(e),Zi(t),Fi(t)}function Zi(t){t.v=0,t.I=-1,t.f&&(0==gi(t.b).length&&0==t.g.length||(t.b.c.length=0,Re(t.g),t.g.length=0),t.f.qa())}function Ji(t,e,n){var r=function(t){return t instanceof Vr?qr(t):new Vr(t,void 0)}(n);if(""!=r.c)e&&zr(r,e+"."+r.c),Hr(r,r.h);else{var i=me.location;r=function(t,e,n,r){var i=new Vr(null,void 0);return t&&Br(i,t),e&&zr(i,e),n&&Hr(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ue(t.V,function(t,e){Kr(r,e,t)}),n=t.na,(e=t.A)&&n&&Kr(r,e,n),Kr(r,"VER",t.ha),Bi(t,r),r}function ts(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Si(t.Na)).F=t.C,e}function es(){}function ns(){if(Ge&&!(10<=Number(sn)))throw Error("Environmental error: no available transport.")}function rs(t,e){Dn.call(this),this.a=new Ni(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!De(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!De(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new os(this)}function is(t){br.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ss(){vr.call(this),this.status=1}function os(t){this.a=t}(de=Si.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:gr),this.a.onreadystatechange=Ce(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Ti(this,s)}t=n||"";var i=new Lr(this.headers);r&&Nr(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=xi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=me.FormData&&t instanceof me.FormData,!(0<=ke(Ei,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ri(this),0<this.o&&((this.D=function(t){return Ge&&rn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ce(this.xa,this)):this.m=Wn(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Ti(this,s)}},de.xa=function(){void 0!==pe&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Pn(this,"timeout"),this.abort(8))},de.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Pn(this,"complete"),Pn(this,"abort"),Ai(this))},de.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ai(this,!0)),Si.X.G.call(this)},de.za=function(){this.j||(this.A||this.l||this.g?Ii(this):this.Ua())},de.Ua=function(){Ii(this)},de.W=function(){try{return 2<Di(this)?this.a.status:-1}catch(Ye){return-1}},de.$=function(){try{return this.a?this.a.responseText:""}catch(Ye){return""}},de.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wi(e)}},de.ua=function(){return this.h},de.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(de=Ni.prototype).ha=8,de.v=1,de.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new wr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Be(r=Ve(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zi(this,n,e),Kr(i=qr(this.B),"RID",t),Kr(i,"CVER",22),this.A&&Kr(i,"X-HTTP-Session-Id",this.A),Bi(this,i),this.i&&r&&Pi(i,this.i,r),pi(this.b,n),this.Ia&&Kr(i,"TYPE","init"),this.da?(Kr(i,"$req",e),Kr(i,"SID","null"),n.U=!0,Er(n,i,null)):Er(n,i,e),this.v=2}}else 3==this.v&&(t?qi(this,t):0==this.g.length||hi(this.b)||qi(this))},de.Aa=function(){if(this.j=null,Gi(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=hr(Ce(this.Ta,this),t)}},de.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ur(10),Mi(this),Gi(this))},de.Sa=function(){null!=this.m&&(this.m=null,Mi(this),Yi(this),ur(19))},de.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ur(2)):(this.c.info("Failed to ping google.com"),ur(1))},(de=es.prototype).ta=function(){},de.sa=function(){},de.ra=function(){},de.qa=function(){},de.Ja=function(){},ns.prototype.a=function(t,e){return new rs(t,e)},xe(rs,Dn),rs.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ur(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ji(t,null,t.fa),Vi(t)},rs.prototype.close=function(){Li(this.a)},rs.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ui(this.a,e)}else this.l?((e={}).__data__=Nn(t),Ui(this.a,e)):Ui(this.a,t)},rs.prototype.G=function(){this.a.f=null,delete this.f,Li(this.a),delete this.a,rs.X.G.call(this)},xe(is,br),xe(ss,vr),xe(os,es),os.prototype.ta=function(){Pn(this.a,"a")},os.prototype.sa=function(t){Pn(this.a,new is(t))},os.prototype.ra=function(t){Pn(this.a,new ss(t))},os.prototype.qa=function(){Pn(this.a,"b")},ns.prototype.createWebChannel=ns.prototype.a,rs.prototype.send=rs.prototype.h,rs.prototype.open=rs.prototype.g,rs.prototype.close=rs.prototype.close,dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,fr.COMPLETE="complete",mr.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",Dn.prototype.listen=Dn.prototype.va,Si.prototype.listenOnce=Si.prototype.wa,Si.prototype.getLastError=Si.prototype.Qa,Si.prototype.getLastErrorCode=Si.prototype.ua,Si.prototype.getStatus=Si.prototype.W,Si.prototype.getResponseJson=Si.prototype.Pa,Si.prototype.getResponseText=Si.prototype.$,Si.prototype.send=Si.prototype.ba;var as=dr,cs=fr,us=rr,ls=mr,hs=Si,ds=n("mrSG"),fs=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();fs.o=-1;var ps={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ms=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ds.c)(e,t),e}(Error),gs=new ue.b("@firebase/firestore");function ys(){return gs.logLevel}function bs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gs.logLevel<=ue.a.DEBUG){var r=e.map(ws);gs.debug.apply(gs,Object(ds.f)(["Firestore (8.4.2): "+t],r))}}function vs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gs.logLevel<=ue.a.ERROR){var r=e.map(ws);gs.error.apply(gs,Object(ds.f)(["Firestore (8.4.2): "+t],r))}}function _s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gs.logLevel<=ue.a.WARN){var r=e.map(ws);gs.warn.apply(gs,Object(ds.f)(["Firestore (8.4.2): "+t],r))}}function ws(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(vm){return t}}function Ss(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+t;throw vs(e),new Error(e)}function Cs(t,e){t||Ss()}function Os(t,e){return t}function Es(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var xs=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Es(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ts(t,e){return t<e?-1:t>e?1:0}function ks(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Is(t){return t+"\0"}var As=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ms(ps.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ms(ps.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ms(ps.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ms(ps.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Ts(this.nanoseconds,t.nanoseconds):Ts(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Rs=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new As(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Ds(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function js(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ns=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ss(),void 0===n?n=t.length-e:n>t.length-e&&Ss(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ls=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ds.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new ms(ps.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Ns),Ms=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ds.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ms.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new ms(ps.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ms(ps.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ms(ps.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ms(ps.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ns),Us=function(){function t(t){this.fields=t,t.sort(Fs.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ks(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Vs=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Ts(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Vs.EMPTY_BYTE_STRING=new Vs("");var qs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){if(Cs(!!t),"string"==typeof t){var e=0,n=qs.exec(t);if(Cs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zs(t.seconds),nanos:zs(t.nanos)}}function zs(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Hs(t){return"string"==typeof t?Vs.fromBase64String(t):Vs.fromUint8Array(t)}function Ys(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ks(t){var e=t.mapValue.fields.__previous_value__;return Ys(e)?Ks(e):e}function Gs(t){var e=Bs(t.mapValue.fields.__local_write_time__.timestampValue);return new As(e.seconds,e.nanos)}function Ws(t){return null==t}function $s(t){return 0===t&&1/t==-1/0}function Qs(t){return"number"==typeof t&&Number.isInteger(t)&&!$s(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Xs=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ls.fromString(e))},t.fromName=function(e){return new t(Ls.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ls.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ls.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ls(e.slice()))},t}();function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ys(t)?4:10:Ss()}function Js(t,e){var n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gs(t).isEqual(Gs(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Bs(t.timestampValue),r=Bs(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Hs(t.bytesValue).isEqual(Hs(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return zs(t.geoPointValue.latitude)===zs(e.geoPointValue.latitude)&&zs(t.geoPointValue.longitude)===zs(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return zs(t.integerValue)===zs(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=zs(t.doubleValue),r=zs(e.doubleValue);return n===r?$s(n)===$s(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ks(t.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ds(n)!==Ds(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Js(n[i],r[i])))return!1;return!0}(t,e);default:return Ss()}}function to(t,e){return void 0!==(t.values||[]).find(function(t){return Js(t,e)})}function eo(t,e){var n=Zs(t),r=Zs(e);if(n!==r)return Ts(n,r);switch(n){case 0:return 0;case 1:return Ts(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=zs(t.integerValue||t.doubleValue),r=zs(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return no(t.timestampValue,e.timestampValue);case 4:return no(Gs(t),Gs(e));case 5:return Ts(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Hs(t),r=Hs(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Ts(n[i],r[i]);if(0!==s)return s}return Ts(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ts(zs(t.latitude),zs(e.latitude));return 0!==n?n:Ts(zs(t.longitude),zs(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=eo(n[i],r[i]);if(s)return s}return Ts(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Ts(r[o],s[o]);if(0!==a)return a;var c=eo(n[r[o]],i[s[o]]);if(0!==c)return c}return Ts(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ss()}}function no(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ts(t,e);var n=Bs(t),r=Bs(e),i=Ts(n.seconds,r.seconds);return 0!==i?i:Ts(n.nanos,r.nanos)}function ro(t){return io(t)}function io(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Bs(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Hs(t.bytesValue).toBase64():"referenceValue"in t?Xs.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=io(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+io(t.fields[s])}return e+"}"}(t.mapValue):Ss();var e}function so(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function oo(t){return!!t&&"integerValue"in t}function ao(t){return!!t&&"arrayValue"in t}function co(t){return!!t&&"nullValue"in t}function uo(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lo(t){return!!t&&"mapValue"in t}var ho=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Fs.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Js(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Zs(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=lo(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Fs.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!lo(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function fo(t){var e=[];return Ps(t.fields||{},function(t,n){var r=new Fs([t]);if(lo(n)){var i=fo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Us(e)}var po=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Rs.min(),ho.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ho.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ho.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ho.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ho.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),mo=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function go(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new mo(t,e,n,r,i,s,o)}function yo(t){var e=Os(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ro(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Ws(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ao(e.startAt)),e.endAt&&(n+="|ub:",n+=Ao(e.endAt)),e.h=n}return e.h}function bo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Do(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Js(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jo(t.startAt,e.startAt)&&jo(t.endAt,e.endAt)}function vo(t){return Xs.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var _o=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ds.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new wo(t,n,r):"array-contains"===n?new Eo(t,r):"in"===n?new xo(t,r):"not-in"===n?new To(t,r):"array-contains-any"===n?new ko(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new So(t,n):new Co(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(eo(e,this.value)):null!==e&&Zs(this.value)===Zs(e)&&this.m(eo(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ss()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),wo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Xs.fromName(r.referenceValue),i}return Object(ds.c)(e,t),e.prototype.matches=function(t){var e=Xs.comparator(t.key,this.key);return this.m(e)},e}(_o),So=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Oo(0,n),r}return Object(ds.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(_o),Co=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Oo(0,n),r}return Object(ds.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(_o);function Oo(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Xs.fromName(t.referenceValue)})}var Eo=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ds.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return ao(e)&&to(e.arrayValue,this.value)},e}(_o),xo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ds.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&to(this.value.arrayValue,e)},e}(_o),To=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ds.c)(e,t),e.prototype.matches=function(t){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!to(this.value.arrayValue,e)},e}(_o),ko=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ds.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!ao(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return to(e.value.arrayValue,t)})},e}(_o),Io=function(t,e){this.position=t,this.before=e};function Ao(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ro(t)}).join(",")}var Ro=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Do(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Po(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Xs.comparator(Xs.fromName(o.referenceValue),n.key):eo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function jo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Js(t.position[n],e.position[n]))return!1;return!0}var No=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function Lo(t,e,n,r,i,s,o,a){return new No(t,e,n,r,i,s,o,a)}function Mo(t){return new No(t)}function Fo(t){return!Ws(t.limit)&&"F"===t.limitType}function Uo(t){return!Ws(t.limit)&&"L"===t.limitType}function Vo(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function qo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Bo(t){return null!==t.collectionGroup}function zo(t){var e=Os(t);if(null===e.p){e.p=[];var n=qo(e),r=Vo(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Ro(n)),e.p.push(new Ro(Fs.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ro(Fs.keyField(),c))}}}return e.p}function Ho(t){var e=Os(t);if(!e.T)if("F"===e.limitType)e.T=go(e.path,e.collectionGroup,zo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=zo(e);r<i.length;r++){var s=i[r];n.push(new Ro(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Io(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Io(e.startAt.position,!e.startAt.before):null;e.T=go(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Yo(t,e,n){return new No(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ko(t,e){return bo(Ho(t),Ho(e))&&t.limitType===e.limitType}function Go(t){return yo(Ho(t))+"|lt:"+t.limitType}function Wo(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ro(e.value);var e}).join(", ")+"]"),Ws(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ao(t.startAt)),t.endAt&&(e+=", endAt: "+Ao(t.endAt)),"Target("+e+")"}(Ho(t))+"; limitType="+t.limitType+")"}function $o(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Xs.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Po(t.startAt,zo(t),e)||t.endAt&&Po(t.endAt,zo(t),e))}(t,e)}function Qo(t){return function(e,n){for(var r=!1,i=0,s=zo(t);i<s.length;i++){var o=s[i],a=Xo(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Xo(t,e,n){var r=t.field.isKeyField()?Xs.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?eo(r,i):Ss()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ss()}}function Zo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$s(e)?"-0":e}}function Jo(t){return{integerValue:""+t}}function ta(t,e){return Qs(e)?Jo(e):Zo(t,e)}var ea=function(){this._=void 0};function na(t,e,n){return t instanceof sa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof oa?aa(t,e):t instanceof ca?ua(t,e):function(t,e){var n=ia(t,e),r=ha(n)+ha(t.A);return oo(n)&&oo(t.A)?Jo(r):Zo(t.R,r)}(t,e)}function ra(t,e,n){return t instanceof oa?aa(t,e):t instanceof ca?ua(t,e):n}function ia(t,e){return t instanceof la?oo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ds.c)(e,t),e}(ea),oa=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ds.c)(e,t),e}(ea);function aa(t,e){for(var n=da(e),r=function(t){n.some(function(e){return Js(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ca=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ds.c)(e,t),e}(ea);function ua(t,e){for(var n=da(e),r=function(t){n=n.filter(function(e){return!Js(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var la=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(ds.c)(e,t),e}(ea);function ha(t){return zs(t.integerValue||t.doubleValue)}function da(t){return ao(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var fa=function(t,e){this.field=t,this.transform=e},pa=function(t,e){this.version=t,this.transformResults=e},ma=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ga(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ya=function(){};function ba(t,e,n){t instanceof Ca?function(t,e,n){var r=t.value.clone(),i=xa(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Oa?function(t,e,n){if(ga(t.precondition,e)){var r=xa(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ea(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function va(t,e,n){t instanceof Ca?function(t,e,n){if(ga(t.precondition,e)){var r=t.value.clone(),i=Ta(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Sa(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Oa?function(t,e,n){if(ga(t.precondition,e)){var r=Ta(t.fieldTransforms,n,e),i=e.data;i.setAll(Ea(t)),i.setAll(r),e.convertToFoundDocument(Sa(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){ga(t.precondition,e)&&e.convertToNoDocument(Rs.min())}(t,e)}function _a(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=ia(s.transform,o||null);null!=a&&(null==n&&(n=ho.empty()),n.set(s.field,a))}return n||null}function wa(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ks(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof oa&&e instanceof oa||t instanceof ca&&e instanceof ca?ks(t.elements,e.elements,Js):t instanceof la&&e instanceof la?Js(t.A,e.A):t instanceof sa&&e instanceof sa}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Sa(t){return t.isFoundDocument()?t.version:Rs.min()}var Ca=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(ds.c)(e,t),e}(ya),Oa=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(ds.c)(e,t),e}(ya);function Ea(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function xa(t,e,n){var r=new Map;Cs(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ra(o,a,n[i]))}return r}function Ta(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=n.data.field(o.field);r.set(o.field,na(a,c,e))}return r}var ka,Ia,Aa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(ds.c)(e,t),e}(ya),Ra=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(ds.c)(e,t),e}(ya),Da=function(t){this.count=t};function Pa(t){switch(t){case ps.OK:return Ss();case ps.CANCELLED:case ps.UNKNOWN:case ps.DEADLINE_EXCEEDED:case ps.RESOURCE_EXHAUSTED:case ps.INTERNAL:case ps.UNAVAILABLE:case ps.UNAUTHENTICATED:return!1;case ps.INVALID_ARGUMENT:case ps.NOT_FOUND:case ps.ALREADY_EXISTS:case ps.PERMISSION_DENIED:case ps.FAILED_PRECONDITION:case ps.ABORTED:case ps.OUT_OF_RANGE:case ps.UNIMPLEMENTED:case ps.DATA_LOSS:return!0;default:return Ss()}}function ja(t){if(void 0===t)return vs("GRPC error has no .code"),ps.UNKNOWN;switch(t){case ka.OK:return ps.OK;case ka.CANCELLED:return ps.CANCELLED;case ka.UNKNOWN:return ps.UNKNOWN;case ka.DEADLINE_EXCEEDED:return ps.DEADLINE_EXCEEDED;case ka.RESOURCE_EXHAUSTED:return ps.RESOURCE_EXHAUSTED;case ka.INTERNAL:return ps.INTERNAL;case ka.UNAVAILABLE:return ps.UNAVAILABLE;case ka.UNAUTHENTICATED:return ps.UNAUTHENTICATED;case ka.INVALID_ARGUMENT:return ps.INVALID_ARGUMENT;case ka.NOT_FOUND:return ps.NOT_FOUND;case ka.ALREADY_EXISTS:return ps.ALREADY_EXISTS;case ka.PERMISSION_DENIED:return ps.PERMISSION_DENIED;case ka.FAILED_PRECONDITION:return ps.FAILED_PRECONDITION;case ka.ABORTED:return ps.ABORTED;case ka.OUT_OF_RANGE:return ps.OUT_OF_RANGE;case ka.UNIMPLEMENTED:return ps.UNIMPLEMENTED;case ka.DATA_LOSS:return ps.DATA_LOSS;default:return Ss()}}(Ia=ka||(ka={}))[Ia.OK=0]="OK",Ia[Ia.CANCELLED=1]="CANCELLED",Ia[Ia.UNKNOWN=2]="UNKNOWN",Ia[Ia.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ia[Ia.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ia[Ia.NOT_FOUND=5]="NOT_FOUND",Ia[Ia.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ia[Ia.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ia[Ia.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ia[Ia.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ia[Ia.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ia[Ia.ABORTED=10]="ABORTED",Ia[Ia.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ia[Ia.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ia[Ia.INTERNAL=13]="INTERNAL",Ia[Ia.UNAVAILABLE=14]="UNAVAILABLE",Ia[Ia.DATA_LOSS=15]="DATA_LOSS";var Na=function(){function t(t,e){this.comparator=t,this.root=e||Ma.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ma.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ma.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new La(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new La(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new La(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new La(this.root,t,this.comparator,!0)},t}(),La=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ma=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ss();if(this.right.isRed())throw Ss();var t=this.left.check();if(t!==this.right.check())throw Ss();return t+(this.isRed()?0:1)},t}();Ma.EMPTY=null,Ma.RED=!0,Ma.BLACK=!1,Ma.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ss()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ss()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ss()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ss()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ss()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ma(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Fa=function(){function t(t){this.comparator=t,this.data=new Na(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ua(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ua(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ua=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Va=new Na(Xs.comparator);function qa(){return Va}var Ba=new Na(Xs.comparator);function za(){return Ba}var Ha=new Na(Xs.comparator);function Ya(){return Ha}var Ka=new Fa(Xs.comparator);function Ga(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ka,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Wa=new Fa(Ts);function $a(){return Wa}var Qa=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Xa.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Rs.min(),r,$a(),qa(),Ga())},t}(),Xa=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Vs.EMPTY_BYTE_STRING,n,Ga(),Ga(),Ga())},t}(),Za=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ja=function(t,e){this.targetId=t,this.V=e},tc=function(t,e,n,r){void 0===n&&(n=Vs.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ec=function(){function t(){this.S=0,this.D=ic(),this.C=Vs.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Ga(),e=Ga(),n=Ga();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ss()}}),new Xa(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=ic()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),nc=function(){function t(t){this.W=t,this.G=new Map,this.H=qa(),this.J=rc(),this.Y=new Fa(Ts)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Ss()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(vo(i))if(0===n){var s=new Xs(i.path);this.tt(e,s,po.newNoDocument(s,Rs.min()))}else Cs(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&vo(s.target)){var o=new Xs(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,po.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Ga();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Qa(t,n,this.Y,this.H,r);return this.H=qa(),this.J=rc(),this.Y=new Fa(Ts),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ec,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Fa(Ts),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||bs("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ec),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function rc(){return new Na(Xs.comparator)}function ic(){return new Na(Xs.comparator)}var sc={asc:"ASCENDING",desc:"DESCENDING"},oc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ac=function(t,e){this.databaseId=t,this.I=e};function cc(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function uc(t,e){return t.I?e.toBase64():e.toUint8Array()}function lc(t,e){return cc(t,e.toTimestamp())}function hc(t){return Cs(!!t),Rs.fromTimestamp(function(t){var e=Bs(t);return new As(e.seconds,e.nanos)}(t))}function dc(t,e){return function(t){return new Ls(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function fc(t){var e=Ls.fromString(t);return Cs(Mc(e)),e}function pc(t,e){return dc(t.databaseId,e.path)}function mc(t,e){var n=fc(e);if(n.get(1)!==t.databaseId.projectId)throw new ms(ps.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ms(ps.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xs(vc(n))}function gc(t,e){return dc(t.databaseId,e)}function yc(t){var e=fc(t);return 4===e.length?Ls.emptyPath():vc(e)}function bc(t){return new Ls(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vc(t){return Cs(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function _c(t,e,n){return{name:pc(t,e),fields:n.toProto().mapValue.fields}}function wc(t,e,n){var r=mc(t,e.name),i=hc(e.updateTime),s=new ho({mapValue:{fields:e.fields}}),o=po.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Sc(t,e){var n;if(e instanceof Ca)n={update:_c(t,e.key,e.value)};else if(e instanceof Aa)n={delete:pc(t,e.key)};else if(e instanceof Oa)n={update:_c(t,e.key,e.data),updateMask:Lc(e.fieldMask)};else{if(!(e instanceof Ra))return Ss();n={verify:pc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof sa)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oa)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ca)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof la)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ss()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:lc(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ss()}(t,e.precondition)),n}function Cc(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ma.updateTime(hc(t.updateTime)):void 0!==t.exists?ma.exists(t.exists):ma.none()}(e.currentDocument):ma.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Cs("REQUEST_TIME"===e.setToServerValue),n=new sa):"appendMissingElements"in e?n=new oa(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ca(e.removeAllFromArray.values||[]):"increment"in e?n=new la(t,e.increment):Ss();var r=Fs.fromServerFormat(e.fieldPath);return new fa(r,n)}(t,e)}):[];if(e.update){var i=mc(t,e.update.name),s=new ho({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Us((t.fieldPaths||[]).map(function(t){return Fs.fromServerFormat(t)}))}(e.updateMask);return new Oa(i,s,o,n,r)}return new Ca(i,s,n,r)}if(e.delete){var a=mc(t,e.delete);return new Aa(a,n)}if(e.verify){var c=mc(t,e.verify);return new Ra(c,n)}return Ss()}function Oc(t,e){return{documents:[gc(t,e.path)]}}function Ec(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=gc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=gc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(uo(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NAN"}};if(co(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(uo(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NOT_NAN"}};if(co(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(t.field),op:Rc(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Dc(t.field),direction:Ac(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Ws(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=kc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kc(e.endAt)),n}function xc(t){var e=yc(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Cs(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Tc(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Ro(Pc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return Ws(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Ic(n.startAt));var l=null;return n.endAt&&(l=Ic(n.endAt)),Lo(e,i,a,o,c,"F",u,l)}function Tc(t){return t?void 0!==t.unaryFilter?[Nc(t)]:void 0!==t.fieldFilter?[jc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Tc(t)}).reduce(function(t,e){return t.concat(e)}):Ss():[]}function kc(t){return{before:t.before,values:t.position}}function Ic(t){return new Io(t.values||[],!!t.before)}function Ac(t){return sc[t]}function Rc(t){return oc[t]}function Dc(t){return{fieldPath:t.canonicalString()}}function Pc(t){return Fs.fromServerFormat(t.fieldPath)}function jc(t){return _o.create(Pc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ss()}}(t.fieldFilter.op),t.fieldFilter.value)}function Nc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Pc(t.unaryFilter.field);return _o.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Pc(t.unaryFilter.field);return _o.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Pc(t.unaryFilter.field);return _o.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Pc(t.unaryFilter.field);return _o.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ss()}}function Lc(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Mc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Fc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Vc(e)),e=Uc(t.get(n),e);return Vc(e)}function Uc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Vc(t){return t+"\x01\x01"}function qc(t){var e=t.length;if(Cs(e>=2),2===e)return Cs("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ls.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ss(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ss()}s=o+2}return new Ls(r)}var Bc=function(t,e){this.seconds=t,this.nanoseconds=e},zc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};zc.store="owner",zc.key="owner";var Hc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Hc.store="mutationQueues",Hc.keyPath="userId";var Yc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Yc.store="mutations",Yc.keyPath="batchId",Yc.userMutationsIndex="userMutationsIndex",Yc.userMutationsKeyPath=["userId","batchId"];var Kc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Fc(e)]},t.key=function(t,e,n){return[t,Fc(e),n]},t}();Kc.store="documentMutations",Kc.PLACEHOLDER=new Kc;var Gc=function(t,e){this.path=t,this.readTime=e},Wc=function(t,e){this.path=t,this.version=e},$c=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};$c.store="remoteDocuments",$c.readTimeIndex="readTimeIndex",$c.readTimeIndexPath="readTime",$c.collectionReadTimeIndex="collectionReadTimeIndex",$c.collectionReadTimeIndexPath=["parentPath","readTime"];var Qc=function(t){this.byteSize=t};Qc.store="remoteDocumentGlobal",Qc.key="remoteDocumentGlobalKey";var Xc=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Xc.store="targets",Xc.keyPath="targetId",Xc.queryTargetsIndexName="queryTargetsIndex",Xc.queryTargetsKeyPath=["canonicalId","targetId"];var Zc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Zc.store="targetDocuments",Zc.keyPath=["targetId","path"],Zc.documentTargetsIndex="documentTargetsIndex",Zc.documentTargetsKeyPath=["path","targetId"];var Jc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Jc.key="targetGlobalKey",Jc.store="targetGlobal";var tu=function(t,e){this.collectionId=t,this.parent=e};tu.store="collectionParents",tu.keyPath=["collectionId","parent"];var eu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};eu.store="clientMetadata",eu.keyPath="clientId";var nu=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};nu.store="bundles",nu.keyPath="bundleId";var ru=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ru.store="namedQueries",ru.keyPath="name";var iu=Object(ds.f)(Object(ds.f)([],Object(ds.f)(Object(ds.f)([],Object(ds.f)(Object(ds.f)([],Object(ds.f)(Object(ds.f)([],[Hc.store,Yc.store,Kc.store,$c.store,Xc.store,zc.store,Jc.store,Zc.store]),[eu.store])),[Qc.store])),[tu.store])),[nu.store,ru.store]),su="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ou=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),au=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},cu=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ss(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),uu=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new au,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new du(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=yu(e.target.error);n.ft.reject(new du(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new du(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(bs("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new pu(e)},t}(),lu=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(ce.i)())&&vs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return bs("SimpleDb","Removing database:",t),mu(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(ce.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(ds.b)(this,void 0,void 0,function(){var e,n=this;return Object(ds.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(bs("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new du(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ms(ps.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new du(t,n))},i.onupgradeneeded=function(t){bs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){bs("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ds.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(ds.d)(this,function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(ds.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=uu.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),cu.reject(t)}).toPromise(),c={},o.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return bs("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),hu=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return mu(this.Pt.delete())},t}(),du=function(t){function e(e,n){var r=this;return(r=t.call(this,ps.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ds.c)(e,t),e}(ms);function fu(t){return"IndexedDbTransactionError"===t.name}var pu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(bs("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(bs("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),mu(n)},t.prototype.add=function(t){return bs("SimpleDb","ADD",this.store.name,t,t),mu(this.store.add(t))},t.prototype.get=function(t){var e=this;return mu(this.store.get(t)).next(function(n){return void 0===n&&(n=null),bs("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return bs("SimpleDb","DELETE",this.store.name,t),mu(this.store.delete(t))},t.prototype.count=function(){return bs("SimpleDb","COUNT",this.store.name),mu(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){bs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new cu(function(n,r){e.onerror=function(t){var e=yu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new cu(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new hu(i),o=e(i.primaryKey,i.value,s);if(o instanceof cu){var a=o.catch(function(t){return s.done(),cu.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return cu.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function mu(t){return new cu(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=yu(t.target.error);n(e)}})}var gu=!1;function yu(t){var e=lu._t(Object(ce.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ms("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return gu||(gu=!0,setTimeout(function(){throw r},0)),r}}return t}var bu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(ds.c)(e,t),e}(ou);function vu(t,e){var n=Os(t);return lu.It(n.Mt,e)}var _u=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&ba(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&va(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&va(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Rs.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ga())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ks(this.mutations,t.mutations,function(t,e){return wa(t,e)})&&ks(this.baseMutations,t.baseMutations,function(t,e){return wa(t,e)})},t}(),wu=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Cs(e.mutations.length===r.length);for(var i=Ya(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Su=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Rs.min()),void 0===s&&(s=Rs.min()),void 0===o&&(o=Vs.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Cu=function(t){this.Lt=t};function Ou(t,e){if(e.document)return wc(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Xs.fromSegments(e.noDocument.path),r=Iu(e.noDocument.readTime),i=po.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=Xs.fromSegments(e.unknownDocument.path);return r=Iu(e.unknownDocument.version),po.newUnknownDocument(s,r)}return Ss()}function Eu(t,e,n){var r=xu(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:pc(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:cc(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new $c(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=ku(e.version);return o=e.hasCommittedMutations,new $c(null,new Gc(a,c),null,o,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=ku(e.version);return new $c(new Wc(u,l),null,null,!0,r,i)}return Ss()}function xu(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Tu(t){var e=new As(t[0],t[1]);return Rs.fromTimestamp(e)}function ku(t){var e=t.toTimestamp();return new Bc(e.seconds,e.nanoseconds)}function Iu(t){var e=new As(t.seconds,t.nanoseconds);return Rs.fromTimestamp(e)}function Au(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Cc(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Cc(t.Lt,e)}),s=As.fromMillis(e.localWriteTimeMs);return new _u(e.batchId,s,n,i)}function Ru(t){var e,n,r=Iu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Iu(t.lastLimboFreeSnapshotVersion):Rs.min();return void 0!==t.query.documents?(Cs(1===(n=t.query).documents.length),e=Ho(Mo(yc(n.documents[0])))):e=function(t){return Ho(xc(t))}(t.query),new Su(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Vs.fromBase64String(t.resumeToken))}function Du(t,e){var n,r=ku(e.snapshotVersion),i=ku(e.lastLimboFreeSnapshotVersion);n=vo(e.target)?Oc(t.Lt,e.target):Ec(t.Lt,e.target);var s=e.resumeToken.toBase64();return new Xc(e.targetId,yo(e.target),r,s,e.sequenceNumber,i,n)}function Pu(t){var e=xc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Yo(e,e.limit,"L"):e}var ju=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Nu(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Iu(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Nu(t).put({bundleId:(n=e).id,createTime:ku(hc(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Lu(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Pu(e.bundledQuery),readTime:Iu(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Lu(t).put(function(t){return{name:t.name,readTime:ku(hc(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Nu(t){return vu(t,nu.store)}function Lu(t){return vu(t,ru.store)}var Mu=function(){function t(){this.Bt=new Fu}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),cu.resolve()},t.prototype.getCollectionParents=function(t,e){return cu.resolve(this.Bt.getEntries(e))},t}(),Fu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Fa(Ls.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Fa(Ls.comparator)).toArray()},t}(),Uu=function(){function t(){this.qt=new Fu}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:Fc(i)};return Vu(t).put(s)}return cu.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Is(e),""],!1,!0);return Vu(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(qc(s.parent))}return n})},t}();function Vu(t){return vu(t,tu.store)}var qu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bu=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function zu(t,e,n){var r=t.store(Yc.store),i=t.store(Kc.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){Cs(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Kc.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return cu.waitFor(s).next(function(){return u})}function Hu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ss();e=t.noDocument}return JSON.stringify(e).length}Bu.DEFAULT_COLLECTION_PERCENTILE=10,Bu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bu.DEFAULT=new Bu(41943040,Bu.DEFAULT_COLLECTION_PERCENTILE,Bu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bu.DISABLED=new Bu(-1,0,0);var Yu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Cs(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gu(t).Ot({index:Yc.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Wu(t),o=Gu(t);return o.add({}).next(function(a){Cs("number"==typeof a);for(var c=new _u(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return Sc(t.Lt,e)}),i=n.mutations.map(function(e){return Sc(t.Lt,e)});return new Yc(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new Fa(function(t,e){return Ts(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=Kc.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(u)),l.push(s.put(m,Kc.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=c.keys()}),cu.waitFor(l).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Gu(t).get(e).next(function(t){return t?(Cs(t.userId===n.userId),Au(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?cu.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Gu(t).Ot({index:Yc.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Cs(e.batchId>=r),s=Au(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gu(t).Ot({index:Yc.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gu(t).Nt(Yc.userMutationsIndex,n).next(function(t){return t.map(function(t){return Au(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Kc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Wu(t).Ot({range:i},function(r,i,o){var a=r[0],c=r[2],u=qc(r[1]);if(a===n.userId&&e.path.isEqual(u))return Gu(t).get(c).next(function(t){if(!t)throw Ss();Cs(t.userId===n.userId),s.push(Au(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Fa(Ts),i=[];return e.forEach(function(e){var s=Kc.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Wu(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],c=qc(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),cu.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Kc.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Fa(Ts);return Wu(t).Ot({range:o},function(t,e,s){var o=t[0],c=t[2],u=qc(t[1]);o===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Gu(t).get(e).next(function(t){if(null===t)throw Ss();Cs(t.userId===n.userId),r.push(Au(n.R,t))}))}),cu.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return zu(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),cu.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return cu.resolve();var r=IDBKeyRange.lowerBound(Kc.prefixForUser(e.userId)),i=[];return Wu(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=qc(t[1]);i.push(s)}else r.done()}).next(function(){Cs(0===i.length)})})},t.prototype.containsKey=function(t,e){return Ku(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return $u(t).get(this.userId).next(function(t){return t||new Hc(e.userId,-1,"")})},t}();function Ku(t,e,n){var r=Kc.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Wu(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Gu(t){return vu(t,Yc.store)}function Wu(t){return vu(t,Kc.store)}function $u(t){return vu(t,Hc.store)}var Qu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Xu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Qu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Rs.fromTimestamp(new As(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Zu(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Cs(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Zu(t).Ot(function(o,a){var c=Ru(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.removeTargetData(t,c)))}).next(function(){return cu.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Zu(t).Ot(function(t,n){var r=Ru(n);e(r)})},t.prototype.Xt=function(t){return Ju(t).get(Jc.key).next(function(t){return Cs(null!==t),t})},t.prototype.Zt=function(t,e){return Ju(t).put(Jc.key,e)},t.prototype.te=function(t,e){return Zu(t).put(Du(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=yo(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Zu(t).Ot({range:r,index:Xc.queryTargetsIndexName},function(t,n,r){var s=Ru(n);bo(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=tl(t);return e.forEach(function(e){var o=Fc(e.path);i.push(s.put(new Zc(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),cu.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=tl(t);return cu.forEach(e,function(e){var s=Fc(e.path);return cu.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=tl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=tl(t),i=Ga();return r.Ot({range:n,kt:!0},function(t,e,n){var r=qc(t[1]),s=new Xs(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Fc(e.path),r=IDBKeyRange.bound([n],[Is(n)],!1,!0),i=0;return tl(t).Ot({index:Zc.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Zu(t).get(e).next(function(t){return t?Ru(t):null})},t}();function Zu(t){return vu(t,Xc.store)}function Ju(t){return vu(t,Jc.store)}function tl(t){return vu(t,Zc.store)}function el(t){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(e){if(t.code!==ps.FAILED_PRECONDITION||t.message!==su)throw t;return bs("LocalStore","Unexpectedly lost primary lease"),[2]})})}function nl(t,e){var n=t[1],r=e[1],i=Ts(t[0],e[0]);return 0===i?Ts(n,r):i}var rl=function(){function t(t){this.ne=t,this.buffer=new Fa(nl),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();nl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),il=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;bs("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(ds.b)(e,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return fu(e=n.sent())?(bs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,el(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),sl=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return cu.resolve(fs.o);var r=new rl(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(bs("LruGarbageCollector","Garbage collection skipped; disabled"),cu.resolve(qu)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(bs("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),qu):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(bs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),ys()<=ue.a.DEBUG&&bs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),cu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),ol=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new sl(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return al(t,n)},t.prototype.removeReference=function(t,e,n){return al(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return al(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return $u(t).$t(function(r){return Ku(t,r,e).next(function(t){return t&&(n=!0),cu.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var c=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),tl(t).delete([0,Fc(o.path)])})});i.push(c)}}).next(function(){return cu.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return al(t,e)},t.prototype.we=function(t,e){var n,r=tl(t),i=fs.o;return r.Ot({index:Zc.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==fs.o&&e(new Xs(qc(n)),i),i=o,n=s):i=fs.o}).next(function(){i!==fs.o&&e(new Xs(qc(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function al(t,e){return tl(t).put(function(t,e){return new Zc(0,Fc(t.path),e)}(e,t.currentSequenceNumber))}var cl=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Ps(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return js(this.inner)},t}(),ul=function(){function t(){this.changes=new cl(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Rs.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:po.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?cu.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),ll=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return fl(t).put(pl(e),n)},t.prototype.removeEntry=function(t,e){var n=fl(t),r=pl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return fl(t).get(pl(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return fl(t).get(pl(e)).next(function(t){return{document:n.ye(e,t),size:Hu(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=qa();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=qa(),i=new Na(Xs.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Hu(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return cu.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return fl(t).Ot({range:r},function(t,e,r){for(var o=Xs.fromSegments(t);s&&Xs.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=qa(),s=e.path.length+1,o={};if(n.isEqual(Rs.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=xu(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=$c.collectionReadTimeIndex}return fl(t).Ot(o,function(t,n,o){if(t.length===s){var a=Ou(r.R,n);e.path.isPrefixOf(a.key.path)?$o(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new hl(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return dl(t).get(Qc.key).next(function(t){return Cs(!!t),t})},t.prototype.me=function(t,e){return dl(t).put(Qc.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ou(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Rs.min()))return n}return po.newInvalidDocument(t)},t}(),hl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new cl(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(ds.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Fa(function(t,e){return Ts(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var c=Eu(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var u=Hu(c);r+=u-a,n.push(e.Ie.addEntry(t,s,c))}else if(r-=a,e.trackRemovals){var l=Eu(e.Ie.R,po.newNoDocument(s,Rs.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),cu.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(ul);function dl(t){return vu(t,Qc.store)}function fl(t){return vu(t,$c.store)}function pl(t){return t.path.toArray()}var ml=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Cs(n<r&&n>=0&&r<=11);var s=new uu("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(zc.store)}(t),function(t){t.createObjectStore(Hc.store,{keyPath:Hc.keyPath}),t.createObjectStore(Yc.store,{keyPath:Yc.keyPath,autoIncrement:!0}).createIndex(Yc.userMutationsIndex,Yc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Kc.store)}(t),gl(t),function(t){t.createObjectStore($c.store)}(t));var o=cu.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Zc.store),t.deleteObjectStore(Xc.store),t.deleteObjectStore(Jc.store)}(t),gl(t)),o=o.next(function(){return function(t){var e=t.store(Jc.store),n=new Jc(0,0,Rs.min().toTimestamp(),0);return e.put(Jc.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Yc.store).Nt().next(function(n){t.deleteObjectStore(Yc.store),t.createObjectStore(Yc.store,{keyPath:Yc.keyPath,autoIncrement:!0}).createIndex(Yc.userMutationsIndex,Yc.userMutationsKeyPath,{unique:!0});var r=e.store(Yc.store),i=n.map(function(t){return r.put(t)});return cu.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(eu.store,{keyPath:eu.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Qc.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore($c.store);e.createIndex($c.readTimeIndex,$c.readTimeIndexPath,{unique:!1}),e.createIndex($c.collectionReadTimeIndex,$c.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(nu.store,{keyPath:nu.keyPath})}(t),function(t){t.createObjectStore(ru.store,{keyPath:ru.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store($c.store).Ot(function(t,n){e+=Hu(n)}).next(function(){var n=new Qc(e);return t.store(Qc.store).put(Qc.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Hc.store),r=t.store(Yc.store);return n.Nt().next(function(n){return cu.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Yc.userMutationsIndex,i).next(function(r){return cu.forEach(r,function(r){Cs(r.userId===n.userId);var i=Au(e.R,r);return zu(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Zc.store),n=t.store($c.store);return t.store(Jc.store).get(Jc.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new Ls(n),o=function(t){return[0,Fc(t)]}(s);r.push(e.get(o).next(function(n){return n?cu.resolve():function(n){return e.put(new Zc(0,Fc(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return cu.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(tu.store,{keyPath:tu.keyPath});var n=e.store(tu.store),r=new Fu,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Fc(i)})}};return e.store($c.store).Ot({kt:!0},function(t,e){var n=new Ls(t);return i(n.popLast())}).next(function(){return e.store(Kc.store).Ot({kt:!0},function(t,e){var n=qc(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Xc.store);return n.Ot(function(t,r){var i=Ru(r),s=Du(e.R,i);return n.put(s)})},t}();function gl(t){t.createObjectStore(Zc.store,{keyPath:Zc.keyPath}).createIndex(Zc.documentTargetsIndex,Zc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Xc.store,{keyPath:Xc.keyPath}).createIndex(Xc.queryTargetsIndexName,Xc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Jc.store)}var yl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bl=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new ms(ps.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ol(this,i),this.Le=n+"main",this.R=new Cu(c),this.Be=new lu(this.Le,11,new ml(this.R)),this.qe=new Xu(this.referenceDelegate,this.R),this.Ut=new Uu,this.Ue=function(t,e){return new ll(t,e)}(this.R,this.Ut),this.Qe=new ju,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&vs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ms(ps.FAILED_PRECONDITION,yl);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new fs(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(ds.b)(e,void 0,void 0,function(){return Object(ds.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(ds.b)(e,void 0,void 0,function(){return Object(ds.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(ds.b)(e,void 0,void 0,function(){return Object(ds.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return _l(e).put(new eu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(fu(e))return bs("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return bs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return vl(t).get(zc.key).next(function(t){return cu.resolve(e.tn(t))})},t.prototype.en=function(t){return _l(t).delete(this.clientId)},t.prototype.nn=function(){return Object(ds.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(ds.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=vu(t,eu.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return cu.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?cu.resolve(!0):vl(t).get(zc.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new ms(ps.FAILED_PRECONDITION,yl);return!1}}return!(!e.networkEnabled||!e.inForeground)||_l(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&bs("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(ds.b)(this,void 0,void 0,function(){var t=this;return Object(ds.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[zc.store,eu.store],function(e){var n=new bu(e,fs.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return _l(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Yu.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return bs("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",iu,function(s){return r=new bu(s,i.Ne?i.Ne.next():fs.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw vs("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new ms(ps.FAILED_PRECONDITION,su);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return vl(t).get(zc.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ms(ps.FAILED_PRECONDITION,yl)})},t.prototype.Ze=function(t){var e=new zc(this.clientId,this.allowTabSynchronization,Date.now());return vl(t).put(zc.key,e)},t.yt=function(){return lu.yt()},t.prototype.Xe=function(t){var e=this,n=vl(t);return n.get(zc.key).next(function(t){return e.tn(t)?(bs("IndexedDbPersistence","Releasing primary lease."),n.delete(zc.key)):cu.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(vs("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return bs("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return vs("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){vs("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function vl(t){return vu(t,zc.store)}function _l(t){return vu(t,eu.store)}function wl(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Sl=function(t,e){this.progress=t,this.wn=e},Cl=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Xs.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Bo(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Xs(e)).next(function(t){var e=za();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=za();return this.Ut.getCollectionParents(t,i).next(function(o){return cu.forEach(o,function(o){var a=function(t,e){return new No(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=r.get(u);null==l&&(l=po.newInvalidDocument(u),r=r.insert(u,l)),va(c,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){$o(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Ga(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof Oa&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),Ol=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ga(),i=Ga(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),El=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Rs.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Fo(e)||Uo(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(ys()<=ue.a.DEBUG&&bs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wo(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Fa(Qo(t));return e.forEach(function(e,r){$o(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return ys()<=ue.a.DEBUG&&bs("QueryEngine","Using full collection scan to execute query:",Wo(e)),this.Sn.getDocumentsMatchingQuery(t,e,Rs.min())},t}(),xl=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Na(Ts),this.kn=new cl(function(t){return yo(t)},bo),this.On=Rs.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Cl(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Tl(t,e,n,r){return new xl(t,e,n,r)}function kl(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(ds.d)(this,function(o){switch(o.label){case 0:return n=Os(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new Cl(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Ga(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Il(t,e){var n=Os(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=cu.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);Cs(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Al(t){var e=Os(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Rl(t,e){var n=Os(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,u),function(t,e,n){return Cs(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&o.push(n.qe.updateTargetData(t,u))}}});var a=qa();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Dl(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Rs.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(c)}return cu.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Dl(t,e,n,r,i){var s=Ga();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=qa();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Rs.min())?(e.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):bs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Pl(t,e){var n=Os(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function jl(t,e){var n=Os(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?cu.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Su(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Nl(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(ds.d)(this,function(a){switch(a.label){case 0:r=Os(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!fu(o=a.sent()))throw o;return bs("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Ll(t,e,n){var r=Os(t),i=Rs.min(),s=Ga();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Os(t),i=r.kn.get(n);return void 0!==i?cu.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Ho(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Rs.min(),n?s:Ga())}).next(function(t){return{documents:t,Bn:s}})})}function Ml(t,e){var n=Os(t),r=Os(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Fl(t){var e=Os(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Os(t),i=qa(),s=xu(n),o=fl(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:$c.readTimeIndex,range:a},function(t,e){var n=Ou(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:Tu(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function Ul(t){return Object(ds.b)(this,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){return[2,(e=Os(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=fl(t),n=Rs.min();return e.Ot({index:$c.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Tu(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Vl(t,e,n,r){return Object(ds.b)(this,void 0,void 0,function(){var i,s,o,a,c,u,l,h,d,f;return Object(ds.d)(this,function(p){switch(p.label){case 0:for(i=Os(t),s=Ga(),o=qa(),a=Ya(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,jl(i,function(t){return Ho(Mo(Ls.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Dl(t,d,o,Rs.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function ql(t,e,n){return void 0===n&&(n=Ga()),Object(ds.b)(this,void 0,void 0,function(){var r,i;return Object(ds.d)(this,function(s){switch(s.label){case 0:return[4,jl(t,Ho(Pu(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Os(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=hc(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(Vs.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Bl=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return cu.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:hc(n.createTime)}),cu.resolve()},t.prototype.getNamedQuery=function(t,e){return cu.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Pu(t.bundledQuery),readTime:hc(t.readTime)}}(e)),cu.resolve()},t}(),zl=function(){function t(){this.Wn=new Fa(Hl.Gn),this.zn=new Fa(Hl.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Hl(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Hl(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Xs(new Ls([])),r=new Hl(n,t),i=new Hl(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Xs(new Ls([])),n=new Hl(e,t),r=new Hl(e,t+1),i=Ga();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Hl(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Hl=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Xs.comparator(t.key,e.key)||Ts(t.ns,e.ns)},t.Hn=function(t,e){return Ts(t.ns,e.ns)||Xs.comparator(t.key,e.key)},t}(),Yl=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Fa(Hl.Gn)}return t.prototype.checkEmpty=function(t){return cu.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new _u(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.rs=this.rs.add(new Hl(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return cu.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return cu.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return cu.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return cu.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return cu.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Hl(e,0),i=new Hl(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),cu.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Fa(Ts);return e.forEach(function(t){var e=new Hl(t,0),i=new Hl(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),cu.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Xs.isDocumentKey(i)||(i=i.child(""));var s=new Hl(new Xs(i),0),o=new Fa(Ts);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),cu.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Cs(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return cu.forEach(e.mutations,function(i){var s=new Hl(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Hl(e,0),r=this.rs.firstAfterOrEqual(n);return cu.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return cu.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Kl=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Na(Xs.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return cu.resolve(n?n.document.clone():po.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=qa();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():po.newInvalidDocument(t))}),cu.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=qa(),i=new Xs(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;u.compareTo(n)<=0||$o(e,c)&&(r=r.insert(c.key,c.clone()))}return cu.resolve(r)},t.prototype.fs=function(t,e){return cu.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Gl(this)},t.prototype.getSize=function(t){return cu.resolve(this.size)},t}(),Gl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(ds.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),cu.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ul),Wl=function(){function t(t){this.persistence=t,this.ds=new cl(function(t){return yo(t)},bo),this.lastRemoteSnapshotVersion=Rs.min(),this.highestTargetId=0,this.ws=0,this._s=new zl,this.targetCount=0,this.ys=Qu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),cu.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return cu.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return cu.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),cu.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),cu.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Qu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,cu.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),cu.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,cu.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),cu.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return cu.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return cu.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),cu.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),cu.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),cu.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return cu.resolve(n)},t.prototype.containsKey=function(t,e){return cu.resolve(this._s.containsKey(e))},t}(),$l=function(){function t(t,e){var n=this;this.gs={},this.Ne=new fs(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Wl(this),this.Ut=new Mu,this.Ue=function(t,e){return new Kl(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Cu(e),this.Qe=new Bl(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Yl(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;bs("MemoryPersistence","Starting transaction:",t);var i=new Ql(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return cu.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Ql=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(ds.c)(e,t),e}(ou),Xl=function(){function t(t){this.persistence=t,this.As=new zl,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ss()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),cu.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),cu.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),cu.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cu.forEach(this.vs,function(r){var i=Xs.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return cu.or([function(){return cu.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Zl=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Jl(t,e){return"firestore_clients_"+t+"_"+e}function th(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function eh(t,e){return"firestore_targets_"+t+"_"+e}Zl.UNAUTHENTICATED=new Zl(null),Zl.GOOGLE_CREDENTIALS=new Zl("google-credentials-uid"),Zl.FIRST_PARTY=new Zl("first-party-uid");var nh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new ms(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(vs("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),rh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ms(i.error.code,i.error.message)),s?new t(e,i.state,r):(vs("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ih=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=$a(),o=0;i&&o<r.activeTargetIds.length;++o)i=Qs(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(vs("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),sh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(vs("SharedClientState","Failed to parse online state: "+e),null)},t}(),oh=function(){function t(){this.activeTargetIds=$a()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ah=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Na(Ts),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Jl(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new oh),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ds.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(ds.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Jl(this.persistenceKey,r)))&&(s=ih.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),c=0,u=this.Os;c<u.length;c++)this.Fs(u[c]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(eh(this.persistenceKey,t));if(n){var r=rh.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(eh(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return bs("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){bs("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){bs("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(bs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void vs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(ds.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(ds.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=fs.o;if(null!=t)try{var n=JSON.parse(t);Cs("number"==typeof n),e=n}catch(t){vs("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==fs.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new nh(this.currentUser,t,e,n),i=th(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=th(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=eh(this.persistenceKey,t),i=new rh(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ih.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return nh.Vs(new Zl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return rh.Vs(r,e)},t.prototype.js=function(t){return sh.Vs(t)},t.prototype.ii=function(t){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(bs("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=$a();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),ch=function(){function t(){this.li=new oh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new oh,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),uh=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),lh=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){bs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){bs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),hh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},dh=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),fh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(ds.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new hs;o.listenOnce(cs.COMPLETE,function(){try{switch(o.getLastErrorCode()){case as.NO_ERROR:var e=o.getResponseJson();bs("Connection","XHR received:",JSON.stringify(e)),i(e);break;case as.TIMEOUT:bs("Connection",'RPC "'+t+'" timed out'),s(new ms(ps.DEADLINE_EXCEEDED,"Request time out"));break;case as.HTTP_ERROR:var n=o.getStatus();if(bs("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ps).indexOf(e)>=0?e:ps.UNKNOWN}(r.status);s(new ms(a,r.message))}else s(new ms(ps.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ms(ps.UNAVAILABLE,"Connection failed."));break;default:Ss()}}finally{bs("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ns,i=sr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(ce.n)()||Object(ce.p)()||Object(ce.l)()||Object(ce.m)()||Object(ce.q)()||Object(ce.k)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");bs("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,u=!1,l=new dh({Ei:function(t){u?bs("Connection","Not sending because WebChannel is closed:",t):(c||(bs("Connection","Opening WebChannel transport."),a.open(),c=!0),bs("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ls.EventType.OPEN,function(){u||bs("Connection","WebChannel transport opened.")}),h(a,ls.EventType.CLOSE,function(){u||(u=!0,bs("Connection","WebChannel transport closed"),l.Vi())}),h(a,ls.EventType.ERROR,function(t){u||(u=!0,_s("Connection","WebChannel transport errored:",t),l.Vi(new ms(ps.UNAVAILABLE,"The operation could not be completed")))}),h(a,ls.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];Cs(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){bs("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=ka[t];if(void 0!==e)return ja(e)}(i),o=r.message;void 0===s&&(s=ps.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new ms(s,o)),a.close()}else bs("Connection","WebChannel received:",n),l.Si(n)}}),h(i,us.STAT_EVENT,function(t){10===t.stat?bs("Connection","Detected buffering proxy"):11===t.stat&&bs("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);bs("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return bs("RestConnection","Received: ",t),t},function(e){throw _s("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+hh[t]},t}());function ph(){return"undefined"!=typeof window?window:null}function mh(){return"undefined"!=typeof document?document:null}function gh(t){return new ac(t,!0)}var yh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&bs("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),bh=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new yh(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ps.RESOURCE_EXHAUSTED?(vs(e.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===ps.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new ms(ps.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(ds.b)(t,void 0,void 0,function(){return Object(ds.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return bs("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(bs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),vh=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(ds.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ss()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(Cs(void 0===e||"string"==typeof e),Vs.fromBase64String(e||"")):(Cs(void 0===e||e instanceof Uint8Array),Vs.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?ps.UNKNOWN:ja(t.code);return new ms(e,t.message||"")}(a);n=new tc(r,i,s,o||null)}else if("documentChange"in e){i=mc(t,(r=e.documentChange).document.name),s=hc(r.document.updateTime);var a=new ho({mapValue:{fields:r.document.fields}}),c=(o=po.newFoundDocument(i,s,a),r.targetIds||[]);n=new Za(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=mc(t,(r=e.documentDelete).document),s=r.readTime?hc(r.readTime):Rs.min(),a=po.newNoDocument(i,s),n=new Za([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=mc(t,(r=e.documentRemove).document),n=new Za([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ss();var u=e.filter;i=new Da(r=u.count||0),n=new Ja(s=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Rs.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Rs.min():e.readTime?hc(e.readTime):Rs.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=bc(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=vo(r)?{documents:Oc(t,r)}:{query:Ec(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=uc(t,e.resumeToken):e.snapshotVersion.compareTo(Rs.min())>0&&(n.readTime=cc(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ss()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=bc(this.R),e.removeTarget=t,this.cr(e)},e}(bh),_h=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(ds.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Cs(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Cs(void 0!==e),t.map(function(t){return function(t,e){var n=hc(t.updateTime?t.updateTime:e);return n.isEqual(Rs.min())&&(n=hc(e)),new pa(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=hc(t.commitTime);return this.listener.Tr(n,e)}return Cs(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=bc(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Sc(e.R,t)})};this.cr(n)},e}(bh),wh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(ds.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new ms(ps.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ps.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ms(ps.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ps.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ms(ps.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Sh=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(vs(e),this.Vr=!1):bs("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Ch=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(ds.b)(s,void 0,void 0,function(){return Object(ds.d)(this,function(t){switch(t.label){case 0:return Dh(this)?(bs("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ds.b)(this,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return(e=Os(t)).$r.add(4),[4,Eh(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Oh(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Sh(n,r)};function Oh(t){return Object(ds.b)(this,void 0,void 0,function(){var e,n;return Object(ds.d)(this,function(r){switch(r.label){case 0:if(!Dh(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Eh(t){return Object(ds.b)(this,void 0,void 0,function(){var e,n;return Object(ds.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function xh(t,e){var n=Os(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Rh(n)?Ah(n):Gh(n).er()&&kh(n,e))}function Th(t,e){var n=Os(t),r=Gh(n);n.Or.delete(e),r.er()&&Ih(n,e),0===n.Or.size&&(r.er()?r.ir():Dh(n)&&n.Br.set("Unknown"))}function kh(t,e){t.qr.U(e.targetId),Gh(t).mr(e)}function Ih(t,e){t.qr.U(e),Gh(t).yr(e)}function Ah(t){t.qr=new nc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Gh(t).start(),t.Br.Sr()}function Rh(t){return Dh(t)&&!Gh(t).tr()&&t.Or.size>0}function Dh(t){return 0===Os(t).$r.size}function Ph(t){t.qr=void 0}function jh(t){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(e){return t.Or.forEach(function(e,n){kh(t,e)}),[2]})})}function Nh(t,e){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(n){return Ph(t),Rh(t)?(t.Br.Nr(e),Ah(t)):t.Br.set("Unknown"),[2]})})}function Lh(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i,s;return Object(ds.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof tc&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(ds.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),bs("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Mh(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Za?t.qr.X(e):e instanceof Ja?t.qr.rt(e):t.qr.et(e),n.isEqual(Rs.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Al(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Vs.EMPTY_BYTE_STRING,n.snapshotVersion)),Ih(t,e);var r=new Su(n.target,e,1,n.sequenceNumber);kh(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return bs("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Mh(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Mh(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r=this;return Object(ds.d)(this,function(i){switch(i.label){case 0:if(!fu(e))throw e;return t.$r.add(1),[4,Eh(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Al(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(ds.b)(r,void 0,void 0,function(){return Object(ds.d)(this,function(e){switch(e.label){case 0:return bs("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Oh(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Fh(t,e){return e().catch(function(n){return Mh(t,n,e)})}function Uh(t){return Object(ds.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(ds.d)(this,function(o){switch(o.label){case 0:e=Os(t),n=Wh(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Dh(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Pl(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Wh(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Mh(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Vh(e)&&qh(e),[2]}})})}function Vh(t){return Dh(t)&&!Wh(t).tr()&&t.kr.length>0}function qh(t){Wh(t).start()}function Bh(t){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(e){return Wh(t).Ar(),[2]})})}function zh(t){return Object(ds.b)(this,void 0,void 0,function(){var e,n,r;return Object(ds.d)(this,function(i){for(e=Wh(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Hh(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i;return Object(ds.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=wu.from(r,e,n),[4,Fh(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Uh(t)];case 2:return s.sent(),[2]}})})}function Yh(t,e){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(n){switch(n.label){case 0:return e&&Wh(t).pr?[4,function(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r;return Object(ds.d)(this,function(i){switch(i.label){case 0:return Pa(r=e.code)&&r!==ps.ABORTED?(n=t.kr.shift(),Wh(t).sr(),[4,Fh(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Uh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Vh(t)&&qh(t),[2]}})})}function Kh(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n;return Object(ds.d)(this,function(r){switch(r.label){case 0:return n=Os(t),e?(n.$r.delete(2),[4,Oh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Eh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Gh(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Os(t);return r.br(),new vh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:jh.bind(null,t),Ri:Nh.bind(null,t),_r:Lh.bind(null,t)}),t.Mr.push(function(n){return Object(ds.b)(e,void 0,void 0,function(){return Object(ds.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Rh(t)?Ah(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Ph(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Wh(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Os(t);return r.br(),new _h(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Bh.bind(null,t),Ri:Yh.bind(null,t),Ir:zh.bind(null,t),Tr:Hh.bind(null,t)}),t.Mr.push(function(n){return Object(ds.b)(e,void 0,void 0,function(){return Object(ds.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Uh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(bs("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var $h=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new au,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ms(ps.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Qh(t,e){if(vs("AsyncQueue",e+": "+t),fu(t))return new ms(ps.UNAVAILABLE,e+": "+t);throw t}var Xh=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Xs.comparator(e.key,n.key)}:function(t,e){return Xs.comparator(t.key,e.key)},this.keyedMap=za(),this.sortedSet=new Na(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Zh=function(){function t(){this.Kr=new Na(Xs.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Ss():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Jh=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Xh.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ko(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),td=function(){this.Wr=void 0,this.listeners=[]},ed=function(){this.queries=new cl(function(t){return Go(t)},Ko),this.onlineState="Unknown",this.Gr=new Set};function nd(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(ds.d)(this,function(u){switch(u.label){case 0:if(n=Os(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new td),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=Qh(a,"Initialization of query '"+Wo(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&od(n),[2]}})})}function rd(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(ds.d)(this,function(a){return n=Os(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function id(t,e){for(var n=Os(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(o)&&(r=!0);a.Wr=o}}r&&od(n)}function sd(t,e,n){var r=Os(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function od(t){t.Gr.forEach(function(t){t.next()})}var ad=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Jh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Jh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),cd=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ud=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return mc(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?wc(this.R,t.document,!1):po.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return hc(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ud(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Ga()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(ds.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(ds.d)(this,function(s){switch(s.label){case 0:return[4,Vl(this.localStore,new ud(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,ql(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Sl(Object.assign({},this.progress),t))]}})})}}();var ld=function(t){this.key=t},hd=function(t){this.key=t},dd=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ga(),this.mutatedKeys=Ga(),this.lo=Qo(t),this.fo=new Xh(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Zh,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=Fo(this.query)&&i.size===this.query.limit?i.last():null,u=Uo(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=$o(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Fo(this.query)||Uo(this.query))for(;o.size>this.query.limit;){var l=Fo(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ss()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==s.length||c?{snapshot:new Jh(this.query,t.fo,i,s,t.mutatedKeys,0===a,c,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Zh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ga(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new hd(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new ld(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ga();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Jh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),fd=function(t,e,n){this.query=t,this.targetId=e,this.view=n},pd=function(t){this.key=t,this.bo=!1},md=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new cl(function(t){return Go(t)},Ko),this.Vo=new Map,this.So=new Set,this.Do=new Na(Xs.comparator),this.Co=new Map,this.No=new zl,this.xo={},this.Fo=new Map,this.ko=Qu.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function gd(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(ds.d)(this,function(a){switch(a.label){case 0:return n=Yd(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,jl(n.localStore,Ho(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,yd(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&xh(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function yd(t,e,n,r){return Object(ds.b)(this,void 0,void 0,function(){var i,s,o,a,c,u;return Object(ds.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(ds.b)(this,void 0,void 0,function(){var i,s,o;return Object(ds.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Ll(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(Ad(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,Ll(t.localStore,e,!0)];case 1:return i=l.sent(),s=new dd(e,i.Bn),o=s._o(i.documents),a=Xa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),Ad(t,n,c.To),u=new fd(e,n,s),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function bd(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i;return Object(ds.d)(this,function(s){switch(s.label){case 0:return n=Os(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Ko(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Nl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Th(n.remoteStore,r.targetId),kd(n,r.targetId)}).catch(el)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return kd(n,r.targetId),[4,Nl(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function vd(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(ds.d)(this,function(a){switch(a.label){case 0:r=Kd(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Os(t),i=As.now(),s=e.reduce(function(t,e){return t.add(e.key)},Ga());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=_a(u,n.get(u.key));null!=l&&o.push(new Oa(u.key,l,fo(l.toProto().mapValue),ma.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Na(Ts)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Pd(r,i.changes)];case 3:return a.sent(),[4,Uh(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Qh(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function _d(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r;return Object(ds.d)(this,function(i){switch(i.label){case 0:n=Os(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Rl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Cs(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Cs(r.bo):t.removedDocuments.size>0&&(Cs(r.bo),r.bo=!1))}),[4,Pd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,el(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function wd(t,e,n){var r=Os(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Os(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&od(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sd(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(ds.d)(this,function(u){switch(u.label){case 0:return(r=Os(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Na(Xs.comparator)).insert(s,po.newNoDocument(s,Rs.min())),a=Ga().add(s),c=new Qa(Rs.min(),new Map,new Fa(Ts),o,a),[4,_d(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Dd(r),[3,4];case 2:return[4,Nl(r.localStore,e,!1).then(function(){return kd(r,e,n)}).catch(el)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function Cd(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i;return Object(ds.d)(this,function(s){switch(s.label){case 0:n=Os(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Il(n.localStore,e)];case 2:return i=s.sent(),Td(n,r,null),xd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Pd(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,el(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Od(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i;return Object(ds.d)(this,function(s){switch(s.label){case 0:r=Os(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Os(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Cs(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),Td(r,e,n),xd(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Pd(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,el(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Ed(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(ds.d)(this,function(a){switch(a.label){case 0:Dh((n=Os(t)).remoteStore)||bs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Os(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=Qh(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function xd(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Td(t,e,n){var r=Os(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function kd(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Id(t,e)})}function Id(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Th(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Dd(t))}function Ad(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof ld?(t.No.addReference(s.key,e),Rd(t,s)):s instanceof hd?(bs("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Id(t,s.key)):Ss()}}function Rd(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(bs("SyncEngine","New document in limbo: "+n),t.So.add(r),Dd(t))}function Dd(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Xs(Ls.fromString(e)),r=t.ko.next();t.Co.set(r,new pd(n)),t.Do=t.Do.insert(n,r),xh(t.remoteStore,new Su(Ho(Mo(n.path)),r,2,fs.o))}}function Pd(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(ds.d)(this,function(a){switch(a.label){case 0:return r=Os(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ol.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u;return Object(ds.d)(this,function(l){switch(l.label){case 0:n=Os(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return cu.forEach(e,function(e){return cu.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return cu.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!fu(r=l.sent()))throw r;return bs("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Fn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function jd(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r;return Object(ds.d)(this,function(i){switch(i.label){case 0:return(n=Os(t)).currentUser.isEqual(e)?[3,3]:(bs("SyncEngine","User change. New user:",e.toKey()),[4,kl(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new ms(ps.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Pd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Nd(t,e){var n=Os(t),r=n.Co.get(e);if(r&&r.bo)return Ga().add(r.key);var i=Ga(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Po.get(a[o]);i=i.unionWith(c.view.wo)}return i}function Ld(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i;return Object(ds.d)(this,function(s){switch(s.label){case 0:return[4,Ll((n=Os(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Ad(n,e.targetId,i.To),i)]}})})}function Md(t){return Object(ds.b)(this,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){return[2,Fl((e=Os(t)).localStore).then(function(t){return Pd(e,t)})]})})}function Fd(t,e,n,r){return Object(ds.b)(this,void 0,void 0,function(){var i,s;return Object(ds.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Os(t),r=Os(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):cu.resolve(null)})})}((i=Os(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Uh(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Td(i,e,r||null),xd(i,e),function(t,e){Os(Os(t)._n).Gt(e)}(i.localStore,e)):Ss(),o.label=4;case 4:return[4,Pd(i,s)];case 5:return o.sent(),[3,7];case 6:bs("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Ud(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(ds.d)(this,function(u){switch(u.label){case 0:return Yd(n=Os(t)),Kd(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Vd(n,r.toArray())]);case 1:return i=u.sent(),n.Oo=!0,[4,Kh(n.remoteStore,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)xh(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return kd(n,e),Nl(n.localStore,e,!0)}),Th(n.remoteStore,e)}),[4,c]);case 4:return u.sent(),[4,Vd(n,a)];case 5:return u.sent(),function(t){var e=Os(t);e.Co.forEach(function(t,n){Th(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Na(Xs.comparator)}(n),n.Oo=!1,[4,Kh(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function Vd(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(ds.d)(this,function(m){switch(m.label){case 0:n=Os(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(u=n.Vo.get(a=o[s]))&&0!==u.length?[4,jl(n.localStore,Ho(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Ld(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ml(n.localStore,a)];case 8:return p=m.sent(),[4,jl(n.localStore,p)];case 9:return c=m.sent(),[4,yd(n,qd(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function qd(t){return Lo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Bd(t){var e=Os(t);return Os(Os(e.localStore).persistence).fn()}function zd(t,e,n,r){return Object(ds.b)(this,void 0,void 0,function(){var i,s,o;return Object(ds.d)(this,function(a){switch(a.label){case 0:return(i=Os(t)).Oo?(bs("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Fl(i.localStore)];case 3:return s=a.sent(),o=Qa.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Pd(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Nl(i.localStore,e,!0)];case 6:return a.sent(),kd(i,e,r),[3,8];case 7:Ss(),a.label=8;case 8:return[2]}})})}function Hd(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,u,l,h;return Object(ds.d)(this,function(d){switch(d.label){case 0:if(!(r=Yd(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(bs("SyncEngine","Adding an already active target "+o),[3,5]):[4,Ml(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,jl(r.localStore,a)];case 3:return c=d.sent(),[4,yd(r,qd(a),c.targetId,!1)];case 4:d.sent(),xh(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(ds.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Nl(r.localStore,t,!1).then(function(){Th(r.remoteStore,t),kd(r,t)}).catch(el)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Yd(t){var e=Os(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_d.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sd.bind(null,e),e.vo._r=id.bind(null,e.eventManager),e.vo.Mo=sd.bind(null,e.eventManager),e}function Kd(t){var e=Os(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Od.bind(null,e),e}var Gd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(e){switch(e.label){case 0:return this.R=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Tl(this.persistence,new El,t.initialUser,this.R)},t.prototype.qo=function(t){return new $l(Xl.bs,this.R)},t.prototype.Bo=function(t){return new ch},t.prototype.terminate=function(){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Wd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ds.c)(e,t),e.prototype.initialize=function(e){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ul(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Kd(this.Ko.syncEngine)];case 4:return n.sent(),[4,Uh(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Tl(this.persistence,new El,t.initialUser,this.R)},e.prototype.Uo=function(t){return new il(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=wl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Bu.withCacheSize(this.cacheSizeBytes):Bu.DEFAULT;return new bl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ph(),mh(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new ch},e}(Gd),$d=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ds.c)(e,t),e.prototype.initialize=function(e){return Object(ds.b)(this,void 0,void 0,function(){var n,r=this;return Object(ds.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof ah?(this.sharedClientState.syncEngine={ui:Fd.bind(null,n),ai:zd.bind(null,n),hi:Hd.bind(null,n),fn:Bd.bind(null,n),ci:Md.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(ds.b)(r,void 0,void 0,function(){return Object(ds.d)(this,function(e){switch(e.label){case 0:return[4,Ud(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=ph();if(!ah.yt(e))throw new ms(ps.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ah(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Wd),Qd=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n=this;return Object(ds.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return wd(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=jd.bind(null,this.syncEngine),[4,Kh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new ed},t.prototype.createDatastore=function(t){var e=gh(t.databaseInfo.databaseId),n=new fh(t.databaseInfo);return function(t,e,n){return new wh(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return wd(o.syncEngine,t,0)},s=lh.yt()?new lh:new uh,new Ch(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new md(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(ds.b)(this,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return e=Os(t),bs("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Eh(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Xd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Zd=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new au,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(ds.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(ds.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new cd(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(ds.b)(this,void 0,void 0,function(){var t,e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(ds.b)(this,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(ds.b)(this,void 0,void 0,function(){var t,e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(ds.b)(this,void 0,void 0,function(){var e,n=this;return Object(ds.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ms(ps.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(ds.d)(this,function(c){switch(c.label){case 0:return n=Os(t),r=bc(n.R)+"/documents",i={documents:e.map(function(t){return pc(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Cs(!!e.found);var n=mc(t,e.found.name),r=hc(e.found.updateTime),i=new ho({mapValue:{fields:e.found.fields}});return po.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Cs(!!e.missing),Cs(!!e.readTime);var n=mc(t,e.missing),r=hc(e.readTime);return po.newNoDocument(n,r)}(t,e):Ss()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Cs(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Aa(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(ds.b)(this,void 0,void 0,function(){var t,e=this;return Object(ds.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Xs.fromPath(n);e.mutations.push(new Ra(r,e.precondition(r)))}),[4,function(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i;return Object(ds.d)(this,function(s){switch(s.label){case 0:return n=Os(t),r=bc(n.R)+"/documents",i={writes:e.map(function(t){return Sc(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ss();e=Rs.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ms(ps.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ma.updateTime(e):ma.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Rs.min()))throw new ms(ps.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ma.updateTime(e)}return ma.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Jd=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new yh(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(ds.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(ds.d)(this,function(r){return t=new Zd(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ws(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Pa(e)}return!1},t}(),tf=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Zl.UNAUTHENTICATED,this.clientId=xs.u(),this.credentialListener=function(){},this.receivedInitialUser=new au,this.credentials.setChangeListener(function(t){bs("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ms(ps.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new au;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ds.b)(t,void 0,void 0,function(){var t,n;return Object(ds.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Qh(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ef(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(ds.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),bs("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(ds.b)(i,void 0,void 0,function(){return Object(ds.d)(this,function(t){switch(t.label){case 0:return[4,kl(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function nf(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r;return Object(ds.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,rf(t)];case 1:return n=i.sent(),bs("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r;return Object(ds.d)(this,function(i){switch(i.label){case 0:return(n=Os(t)).asyncQueue.verifyOperationInProgress(),bs("RemoteStore","RemoteStore received new credentials"),r=Dh(n),n.$r.add(3),[4,Eh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Oh(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function rf(t){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(bs("FirestoreClient","Using default OfflineComponentProvider"),[4,ef(t,new Gd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function sf(t){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(bs("FirestoreClient","Using default OnlineComponentProvider"),[4,nf(t,new Qd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function of(t){return rf(t).then(function(t){return t.persistence})}function af(t){return rf(t).then(function(t){return t.localStore})}function cf(t){return sf(t).then(function(t){return t.remoteStore})}function uf(t){return sf(t).then(function(t){return t.syncEngine})}function lf(t){return Object(ds.b)(this,void 0,void 0,function(){var e,n;return Object(ds.d)(this,function(r){switch(r.label){case 0:return[4,sf(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=gd.bind(null,e.syncEngine),n.onUnlisten=bd.bind(null,e.syncEngine),n)]}})})}function hf(t,e,n){var r=this;void 0===n&&(n={});var i=new au;return t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(r,void 0,void 0,function(){var r;return Object(ds.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Xd({next:function(s){e.enqueueAndForget(function(){return rd(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new ms(ps.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ms(ps.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new ad(Mo(n.path),s,{includeMetadataChanges:!0,so:!0});return nd(t,o)},[4,lf(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function df(t,e,n){var r=this;void 0===n&&(n={});var i=new au;return t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(r,void 0,void 0,function(){var r;return Object(ds.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Xd({next:function(n){e.enqueueAndForget(function(){return rd(t,o)}),n.fromCache&&"server"===r.source?i.reject(new ms(ps.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new ad(n,s,{includeMetadataChanges:!0,so:!0});return nd(t,o)},[4,lf(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var ff=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},pf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),mf=new Map,gf=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},yf=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Zl.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),bf=function(){function t(t){var e=this;this.oc=null,this.currentUser=Zl.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(bs("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Cs("string"==typeof n.accessToken),new gf(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Cs(null===t||"string"==typeof t),new Zl(t)},t}(),vf=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=Zl.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),_f=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new vf(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(Zl.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function wf(t,e,n){if(!n)throw new ms(ps.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Sf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ms(ps.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Cf(t,e,n,r){if(!0===e&&!0===r)throw new ms(ps.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Of(t){if(!Xs.isDocumentKey(t))throw new ms(ps.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ef(t){if(Xs.isDocumentKey(t))throw new ms(ps.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function xf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ss()}function Tf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ms(ps.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xf(t);throw new ms(ps.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function kf(t,e){if(e<=0)throw new ms(ps.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var If=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ms(ps.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ms(ps.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Cf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Af=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new If({}),this._settingsFrozen=!1,t instanceof pf?(this._databaseId=t,this._credentials=new yf):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ms(ps.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pf(t.options.projectId)}(t),this._credentials=new bf(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ms(ps.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ms(ps.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new If(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new yf;switch(t.type){case"gapi":var e=t.client;return Cs(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new _f(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ms(ps.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=mf.get(this))&&(bs("ComponentProvider","Removing Datastore"),mf.delete(this),t.terminate()),Promise.resolve();var t},t}(),Rf=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Pf(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Df=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Pf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Mo(r))||this)._path=r,i.type="collection",i}return Object(ds.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Rf(this.firestore,null,new Xs(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Df);function jf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ce.h)(t),wf("collection","path",e),t instanceof Af)return Ef(n=Ls.fromString.apply(Ls,Object(ds.f)([e],r))),new Pf(t,null,n);if(!(t instanceof Rf||t instanceof Pf))throw new ms(ps.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ef(n=Ls.fromString.apply(Ls,Object(ds.f)([t.path],r)).child(Ls.fromString(e))),new Pf(t.firestore,null,n)}function Nf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(ce.h)(t),1===arguments.length&&(e=xs.u()),wf("doc","path",e),t instanceof Af)return Of(n=Ls.fromString.apply(Ls,Object(ds.f)([e],r))),new Rf(t,null,new Xs(n));if(!(t instanceof Rf||t instanceof Pf))throw new ms(ps.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Of(n=t._path.child(Ls.fromString.apply(Ls,Object(ds.f)([e],r)))),new Rf(t.firestore,t instanceof Pf?t._converter:null,new Xs(n))}function Lf(t,e){return t=Object(ce.h)(t),e=Object(ce.h)(e),(t instanceof Rf||t instanceof Pf)&&(e instanceof Rf||e instanceof Pf)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Mf(t,e){return t=Object(ce.h)(t),e=Object(ce.h)(e),t instanceof Df&&e instanceof Df&&t.firestore===e.firestore&&Ko(t._query,e._query)&&t._converter===e._converter}var Ff=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new yh(this,"async_queue_retry"),this.Ec=function(){var e=mh();e&&bs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=mh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=mh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(ds.b)(this,void 0,void 0,function(){var t,e=this;return Object(ds.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!fu(t=n.sent()))throw t;return bs("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,vs("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=$h.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Ss()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(ds.b)(this,void 0,void 0,function(){var t;return Object(ds.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Uf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new au,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Vf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Ff,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(ds.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Bf(this),this._firestoreClient.terminate()},e}(Af);function qf(t){return t._firestoreClient||Bf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Bf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ff(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new tf(t._credentials,t._queue,r)}function zf(t,e,n){var r=this,i=new au;return t.asyncQueue.enqueue(function(){return Object(ds.b)(r,void 0,void 0,function(){var r;return Object(ds.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,ef(t,n)];case 1:return s.sent(),[4,nf(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ps.FAILED_PRECONDITION||t.code===ps.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Hf(t){if(t._initialized||t._terminated)throw new ms(ps.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Yf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ms(ps.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fs(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Kf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Vs.fromBase64String(e))}catch(e){throw new ms(ps.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Vs.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Gf=function(t){this._methodName=t},Wf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ms(ps.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ms(ps.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Ts(this._lat,t._lat)||Ts(this._long,t._long)},t}(),$f=/^__.*__$/,Qf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Oa(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ca(t,this.data,e,this.fieldTransforms)},t}(),Xf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Oa(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Zf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ss()}}var Jf=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return vp(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Zf(this.Dc)&&$f.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),tp=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||gh(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Jf({Dc:t,methodName:e,Lc:n,path:Fs.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function ep(t){var e=t._freezeSettings(),n=gh(t._databaseId);return new tp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function np(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,i);mp("Data must be an object, but it was:",o,r);var a,c,u=fp(r,o);if(s.merge)a=new Us(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=gp(e,d[h],n);if(!o.contains(f))throw new ms(ps.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");_p(l,f)||l.push(f)}a=new Us(l),c=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=o.fieldTransforms;return new Qf(new ho(u),a,c)}var rp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ds.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Gf);function ip(t,e,n){return new Jf({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ds.c)(e,t),e.prototype._toFieldTransform=function(t){return new fa(t.path,new sa)},e.prototype.isEqual=function(t){return t instanceof e},e}(Gf),op=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ds.c)(e,t),e.prototype._toFieldTransform=function(t){var e=ip(this,t,!0),n=this.qc.map(function(t){return dp(t,e)}),r=new oa(n);return new fa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Gf),ap=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ds.c)(e,t),e.prototype._toFieldTransform=function(t){var e=ip(this,t,!0),n=this.qc.map(function(t){return dp(t,e)}),r=new ca(n);return new fa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Gf),cp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(ds.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new la(t.R,ta(t.R,this.Uc));return new fa(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Gf);function up(t,e,n,r){var i=t.Bc(1,e,n);mp("Data must be an object, but it was:",i,r);var s=[],o=ho.empty();Ps(r,function(t,r){var a=bp(e,t,n);r=Object(ce.h)(r);var c=i.kc(a);if(r instanceof rp)s.push(a);else{var u=dp(r,c);null!=u&&(s.push(a),o.set(a,u))}});var a=new Us(s);return new Xf(o,a,i.fieldTransforms)}function lp(t,e,n,r,i,s){var o=t.Bc(1,e,n),a=[gp(e,r,n)],c=[i];if(s.length%2!=0)throw new ms(ps.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(gp(e,s[u])),c.push(s[u+1]);for(var l=[],h=ho.empty(),d=a.length-1;d>=0;--d)if(!_p(l,a[d])){var f=a[d],p=c[d];p=Object(ce.h)(p);var m=o.kc(f);if(p instanceof rp)l.push(f);else{var g=dp(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new Us(l);return new Xf(h,y,o.fieldTransforms)}function hp(t,e,n,r){return void 0===r&&(r=!1),dp(n,t.Bc(r?4:3,e))}function dp(t,e){if(pp(t=Object(ce.h)(t)))return mp("Unsupported field value:",e,t),fp(t,e);if(t instanceof Gf)return function(t,e){if(!Zf(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=dp(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(ce.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ta(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=As.fromDate(t);return{timestampValue:cc(e.R,n)}}if(t instanceof As)return n=new As(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:cc(e.R,n)};if(t instanceof Wf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kf)return{bytesValue:uc(e.R,t._byteString)};if(t instanceof Rf){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:dc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+xf(t))}(t,e)}function fp(t,e){var n={};return js(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(t,function(t,r){var i=dp(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function pp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof As||t instanceof Wf||t instanceof Kf||t instanceof Rf||t instanceof Gf)}function mp(t,e,n){if(!pp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=xf(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function gp(t,e,n){if((e=Object(ce.h)(e))instanceof Yf)return e._internalPath;if("string"==typeof e)return bp(t,e);throw vp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var yp=new RegExp("[~\\*/\\[\\]]");function bp(t,e,n){if(e.search(yp)>=0)throw vp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Yf.bind.apply(Yf,Object(ds.f)([void 0],e.split(".")))))._internalPath}catch(r){throw vp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function vp(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new ms(ps.INVALID_ARGUMENT,(a+=". ")+t+c)}function _p(t,e){return t.some(function(t){return t.isEqual(e)})}var wp=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Rf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Sp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Cp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ds.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(wp);function Cp(t,e){return"string"==typeof e?bp(t,e):e instanceof Yf?e._internalPath:e._delegate._internalPath}var Op=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ep=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(ds.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Cp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(wp),xp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ds.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ep),Tp=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Op(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new xp(n._firestore,n._userDataWriter,r.key,r,new Op(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ms(ps.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new xp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Op(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new xp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Op(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:kp(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function kp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ss()}}function Ip(t,e){return t instanceof Ep&&e instanceof Ep?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Tp&&e instanceof Tp&&t._firestore===e._firestore&&Mf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Ap(t){if(Uo(t)&&0===t.explicitOrderBy.length)throw new ms(ps.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rp=function(){};function Dp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Pp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(ds.c)(e,t),e.prototype._apply=function(t){var e=ep(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ms(ps.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Vp(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(Up(r,t,l[u]));a={arrayValue:{values:c}}}else a=Up(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Vp(o,s),a=hp(n,"where",o,"in"===s||"not-in"===s);var h=_o.create(i,s,a);return function(t,e){if(e.g()){var n=qo(t);if(null!==n&&!n.isEqual(e.field))throw new ms(ps.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Vo(t);null!==r&&qp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ms(ps.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Df(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new No(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Rp),jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(ds.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ms(ps.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ms(ps.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ro(e,n);return function(t,e){if(null===Vo(t)){var n=qo(t);null!==n&&qp(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Df(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new No(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Rp),Np=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(ds.c)(e,t),e.prototype._apply=function(t){return new Df(t.firestore,t._converter,Yo(t._query,this.Gc,this.zc))},e}(Rp),Lp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(ds.c)(e,t),e.prototype._apply=function(t){var e=Fp(t,this.type,this.Hc,this.Jc);return new Df(t.firestore,t._converter,function(t,e){return new No(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Rp),Mp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(ds.c)(e,t),e.prototype._apply=function(t){var e=Fp(t,this.type,this.Hc,this.Jc);return new Df(t.firestore,t._converter,function(t,e){return new No(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Rp);function Fp(t,e,n,r){if(n[0]=Object(ce.h)(n[0]),n[0]instanceof wp)return function(t,e,n,r,i){if(!r)throw new ms(ps.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=zo(t);o<a.length;o++){var c=a[o];if(c.field.isKeyField())s.push(so(e,r.key));else{var u=r.data.field(c.field);if(Ys(u))throw new ms(ps.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new ms(ps.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new Io(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=ep(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new ms(ps.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.isKeyField()){if("string"!=typeof u)throw new ms(ps.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Bo(t)&&-1!==u.indexOf("/"))throw new ms(ps.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(Ls.fromString(u));if(!Xs.isDocumentKey(l))throw new ms(ps.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Xs(l);a.push(so(e,h))}else{var d=hp(n,r,u);a.push(d)}}return new Io(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Up(t,e,n){if("string"==typeof(n=Object(ce.h)(n))){if(""===n)throw new ms(ps.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bo(e)&&-1!==n.indexOf("/"))throw new ms(ps.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ls.fromString(n));if(!Xs.isDocumentKey(r))throw new ms(ps.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return so(t,new Xs(r))}if(n instanceof Rf)return so(t,n._key);throw new ms(ps.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xf(n)+".")}function Vp(t,e){if(!Array.isArray(t)||0===t.length)throw new ms(ps.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ms(ps.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function qp(t,e,n){if(!n.isEqual(e))throw new ms(ps.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Bp=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ss()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Ps(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Wf(zs(t.latitude),zs(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Ks(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Gs(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Bs(t);return new As(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ls.fromString(t);Cs(Mc(n));var r=new pf(n.get(1),n.get(3)),i=new Xs(n.popFirst(5));return r.isEqual(e)||vs("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function zp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Hp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ds.c)(e,t),e.prototype.convertBytes=function(t){return new Kf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rf(this.firestore,null,e)},e}(Bp),Yp=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ep(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Kp(t,this._firestore),i=zp(r._converter,e,n),s=np(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,ma.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Kp(t,this._firestore);return s="string"==typeof(e=Object(ce.h)(e))||e instanceof Yf?lp(this._dataReader,"WriteBatch.update",o._key,e,n,r):up(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,ma.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Kp(t,this._firestore);return this._mutations=this._mutations.concat(new Aa(e._key,ma.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ms(ps.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Kp(t,e){if((t=Object(ce.h)(t)).firestore!==e)throw new ms(ps.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Gp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ds.c)(e,t),e.prototype.convertBytes=function(t){return new Kf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rf(this.firestore,null,e)},e}(Bp);function Wp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Tf(t,Rf);var s=Tf(t.firestore,Vf),o=ep(s);return Qp(s,[("string"==typeof(e=Object(ce.h)(e))||e instanceof Yf?lp(o,"updateDoc",t._key,e,n,r):up(o,"updateDoc",t._key,e)).toMutation(t._key,ma.exists(!0))])}function $p(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(ce.h)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Uf(i[a])||(o=i[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Uf(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Rf)u=Tf(t.firestore,Vf),l=Mo(t._key.path),c={next:function(e){i[a]&&i[a](Xp(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Tf(t,Df);u=Tf(f.firestore,Vf),l=f._query;var p=new Gp(u);c={next:function(t){i[a]&&i[a](new Tp(u,p,f,t))},error:i[a+1],complete:i[a+2]},Ap(t._query)}return function(t,e,n,r){var i=this,s=new Xd(r),o=new ad(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(i,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return e=nd,[4,lf(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(i,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return e=rd,[4,lf(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(qf(u),l,h,c)}function Qp(t,e){return function(t,e){var n=this,r=new au;return t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(n,void 0,void 0,function(){var n;return Object(ds.d)(this,function(i){switch(i.label){case 0:return n=vd,[4,uf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(qf(t),e)}function Xp(t,e,n){var r=n.docs.get(e._key),i=new Gp(t);return new Ep(t,i,e._key,r,new Op(n.hasPendingWrites,n.fromCache),e._converter)}var Zp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(ds.c)(e,t),e.prototype.get=function(e){var n=this,r=Kp(e,this._firestore),i=new Gp(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Ep(n._firestore,i,r._key,t._document,new Op(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=ep(t)}return t.prototype.get=function(t){var e=this,n=Kp(t,this._firestore),r=new Hp(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Ss();var i=t[0];if(i.isFoundDocument())return new wp(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new wp(e._firestore,r,n._key,null,n._converter);throw Ss()})},t.prototype.set=function(t,e,n){var r=Kp(t,this._firestore),i=zp(r._converter,e,n),s=np(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Kp(t,this._firestore);return s="string"==typeof(e=Object(ce.h)(e))||e instanceof Yf?lp(this._dataReader,"Transaction.update",o._key,e,n,r):up(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Kp(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Jp(){if("undefined"==typeof Uint8Array)throw new ms(ps.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tm(){if("undefined"==typeof atob)throw new ms(ps.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var em=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return tm(),new t(Kf.fromBase64String(e))},t.fromUint8Array=function(e){return Jp(),new t(Kf.fromUint8Array(e))},t.prototype.toBase64=function(){return tm(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Jp(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),nm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Hf(t=Tf(t,Vf));var n=qf(t),r=t._freezeSettings(),i=new Qd;return zf(n,i,new Wd(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Hf(t=Tf(t,Vf));var e=qf(t),n=t._freezeSettings(),r=new Qd;return zf(e,r,new $d(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ms(ps.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new au;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ds.b)(e,void 0,void 0,function(){var e;return Object(ds.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ds.b)(this,void 0,void 0,function(){return Object(ds.d)(this,function(e){switch(e.label){case 0:return lu.yt()?[4,lu.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(wl(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),rm=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof pf||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Tf(t,Af))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&_s("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ds.b)(e,void 0,void 0,function(){var e,n;return Object(ds.d)(this,function(r){switch(r.label){case 0:return[4,of(t)];case 1:return e=r.sent(),[4,cf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Os(t);return e.$r.delete(0),Oh(e)}(n))]}})})})}(qf(Tf(this._delegate,Vf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ds.b)(e,void 0,void 0,function(){var e,n;return Object(ds.d)(this,function(r){switch(r.label){case 0:return[4,of(t)];case 1:return e=r.sent(),[4,cf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(ds.b)(this,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return(e=Os(t)).$r.add(0),[4,Eh(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(qf(Tf(this._delegate,Vf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Cf("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new au;return t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(e,void 0,void 0,function(){var e;return Object(ds.d)(this,function(r){switch(r.label){case 0:return e=Ed,[4,uf(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(qf(Tf(this._delegate,Vf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Xd(e);return t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(n,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Os(t).Gr.add(e),e.next()},[4,lf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(n,void 0,void 0,function(){var e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Os(t).Gr.delete(e)},[4,lf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(qf(t=Tf(t,Vf)),Uf(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new ms(ps.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ym(this,jf(this._delegate,t))}catch(t){throw um(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new cm(this,Nf(this._delegate,t))}catch(t){throw um(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new pm(this,function(t,e){if(t=Tf(t,Af),wf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ms(ps.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Df(t,null,function(t){return new No(Ls.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw um(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new au;return t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(n,void 0,void 0,function(){var n;return Object(ds.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return sf(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Jd(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(qf(t),function(n){return e(new Zp(t,n))})}(this._delegate,function(n){return t(new sm(e,n))})},t.prototype.batch=function(){var t=this;return qf(this._delegate),new om(new Yp(this._delegate,function(e){return Qp(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new ms(ps.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new ms(ps.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),im=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ds.c)(e,t),e.prototype.convertBytes=function(t){return new em(new Kf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return cm.Zc(e,this.firestore,null)},e}(Bp),sm=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new im(t)}return t.prototype.get=function(t){var e=this,n=bm(t);return this._delegate.get(n).then(function(t){return new dm(e._firestore,new Ep(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=bm(t);return n?(Sf("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=bm(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(ds.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=bm(t);return this._delegate.delete(e),this},t}(),om=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=bm(t);return n?(Sf("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=bm(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(ds.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=bm(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),am=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new xp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new fm(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new im(e),n),i.set(n,s)),s},t}();am.eu=new WeakMap;var cm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new im(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new ms(ps.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Rf(n._delegate,r,new Xs(e)))},t.Zc=function(e,n,r){return new t(n,new Rf(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ym(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ym(this.firestore,jf(this._delegate,t))}catch(t){throw um(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(ce.h)(t))instanceof Rf&&Lf(this._delegate,t)},t.prototype.set=function(t,e){e=Sf("DocumentReference.set",e);try{return function(t,e,n){t=Tf(t,Rf);var r=Tf(t.firestore,Vf),i=zp(t._converter,e,n);return Qp(r,[np(ep(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,ma.none())])}(this._delegate,t,e)}catch(t){throw um(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Wp(this._delegate,t):Wp.apply(void 0,Object(ds.f)([this._delegate,t,e],n))}catch(t){throw um(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Qp(Tf((t=this._delegate).firestore,Vf),[new Aa(t._key,ma.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=lm(e),i=hm(e,function(e){return new dm(t.firestore,new Ep(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return $p(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Tf(t,Rf);var e=Tf(t.firestore,Vf),n=qf(e),r=new Gp(e);return function(t,e){var n=this,r=new au;return t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(n,void 0,void 0,function(){var n;return Object(ds.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i;return Object(ds.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Os(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ms(ps.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Qh(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,af(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Ep(e,r,t._key,n,new Op(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Tf(t,Rf);var e=Tf(t.firestore,Vf);return hf(qf(e),t._key,{source:"server"}).then(function(n){return Xp(e,t,n)})}(this._delegate):function(t){t=Tf(t,Rf);var e=Tf(t.firestore,Vf);return hf(qf(e),t._key).then(function(n){return Xp(e,t,n)})}(this._delegate)).then(function(t){return new dm(e.firestore,new Ep(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?am.tu(this.firestore,e):null))},t}();function um(t,e,n){return t.message=t.message.replace(e,n),t}function lm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Uf(r))return r}return{}}function hm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Uf(t[0])?t[0]:Uf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new cm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ip(this._delegate,t._delegate)},t}(),fm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ds.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(dm),pm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new im(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Dp(this._delegate,function(t,e,n){var r=e,i=Cp("where",t);return new Pp(i,r,n)}(e,n,r)))}catch(e){throw um(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Dp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Cp("orderBy",t);return new jp(r,n)}(e,n)))}catch(e){throw um(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Dp(this._delegate,function(t){return kf("limit",t),new Np("limit",t,"F")}(e)))}catch(e){throw um(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Dp(this._delegate,function(t){return kf("limitToLast",t),new Np("limitToLast",t,"L")}(e)))}catch(e){throw um(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Dp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lp("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw um(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Dp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lp("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw um(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Dp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mp("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw um(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Dp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mp("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw um(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Mf(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Tf(t,Df);var e=Tf(t.firestore,Vf),n=qf(e),r=new Gp(e);return function(t,e){var n=this,r=new au;return t.asyncQueue.enqueueAndForget(function(){return Object(ds.b)(n,void 0,void 0,function(){var n;return Object(ds.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(ds.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Ll(t,e,!0)];case 1:return a=c.sent(),r=new dd(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=Qh(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,af(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Tp(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Tf(t,Df);var e=Tf(t.firestore,Vf),n=qf(e),r=new Gp(e);return df(n,t._query,{source:"server"}).then(function(n){return new Tp(e,r,t,n)})}(this._delegate):function(t){t=Tf(t,Df);var e=Tf(t.firestore,Vf),n=qf(e),r=new Gp(e);return Ap(t._query),df(n,t._query).then(function(n){return new Tp(e,r,t,n)})}(this._delegate)).then(function(t){return new gm(e.firestore,new Tp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=lm(e),i=hm(e,function(e){return new gm(t.firestore,new Tp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return $p(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?am.tu(this.firestore,e):null))},t}(),mm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new fm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),gm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new pm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new fm(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new mm(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new fm(n._firestore,r))})},t.prototype.isEqual=function(t){return Ip(this._delegate,t._delegate)},t}(),ym=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(ds.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new cm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new cm(this.firestore,void 0===t?Nf(this._delegate):Nf(this._delegate,t))}catch(t){throw um(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Tf(t.firestore,Vf),r=Nf(t),i=zp(t._converter,e);return Qp(n,[np(ep(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,ma.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new cm(e.firestore,t)})},e.prototype.isEqual=function(t){return Lf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?am.tu(this.firestore,t):null))},e}(pm);function bm(t){return Tf(t,Rf)}var vm,_m=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Yf.bind.apply(Yf,Object(ds.f)([void 0],t)))}return t.documentId=function(){return new t(Fs.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(ce.h)(t))instanceof Yf&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),wm=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new sp("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new rp("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new op("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ap("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new cp("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Sm=n("/6Yf"),Cm={Firestore:rm,GeoPoint:Wf,Timestamp:As,Blob:em,Transaction:sm,WriteBatch:om,DocumentReference:cm,DocumentSnapshot:dm,Query:pm,QueryDocumentSnapshot:fm,QuerySnapshot:gm,CollectionReference:ym,FieldPath:_m,FieldValue:wm,setLogLevel:function(t){gs.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Sm.a("firestore",function(t){return function(t,e){return new rm(t,new Vf(t,e),new nm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Cm)))})(vm=ae.a),vm.registerVersion("@firebase/firestore","2.2.5");var Om=n("XNiG"),Em=n("VRyK"),xm=n("zx2A");function Tm(t,e){return"function"==typeof e?n=>n.pipe(Tm((n,r)=>Object(Ut.a)(t(n,r)).pipe(Object($t.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new km(t))}class km{constructor(t){this.project=t}call(t,e){return e.subscribe(new Im(t,this.project))}}class Im extends xm.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new xm.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(xm.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Am=n("qgXg"),Rm=n("quSY"),Dm=n("9ppp"),Pm=n("Ylt2");class jm extends Om.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Nm(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Dm.a;if(this.isStopped||this.hasError?s=Rm.a.EMPTY:(this.observers.push(t),s=new Pm.a(this,t)),r&&t.add(t=new se.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Am.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Nm{constructor(t,e){this.time=t,this.value=e}}function Lm(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new jm(t,e,r),l=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const Mm=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Fm=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Um=n("EY2u");function Vm(t){return e=>0===t?Object(Um.b)():e.lift(new qm(t))}class qm{constructor(t){if(this.total=t,this.total<0)throw new Fm}call(t,e){return e.subscribe(new Bm(t,this.total))}}class Bm extends Yt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function zm(t=null){return e=>e.lift(new Hm(t))}class Hm{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ym(t,this.defaultValue))}}class Ym extends Yt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Km(t=$m){return e=>e.lift(new Gm(t))}class Gm{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Wm(t,this.errorFactory))}}class Wm extends Yt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(vm){t=vm}this.destination.error(t)}}}function $m(){return new Mm}var Qm=n("SpAZ");function Xm(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):Qm.a,Vm(1),n?zm(e):Km(()=>new Mm))}function Zm(t,e){return e?Tm(()=>t,e):Tm(()=>t)}var Jm=n("tf+s");const tg=new r.s("angularfire2.auth.use-emulator"),eg=new r.s("angularfire2.auth.settings"),ng=new r.s("angularfire2.auth.tenant-id"),rg=new r.s("angularfire2.auth.langugage-code"),ig=new r.s("angularfire2.auth.use-device-language"),sg=new r.s("angularfire.auth.persistence");let og=(()=>{class t{constructor(t,e,r,i,s,o,a,c,u,l){const h=new Lt.d(i),d=Object(Lt.h)(h),f=new Om.a,p=Object(Vt.a)(void 0).pipe(Object(se.b)(h.outsideAngular),Tm(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object($t.a)(()=>Object(Lt.g)(t,i,e)),Object($t.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Lt.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),Lm({bufferSize:1,refCount:!1}));if(et(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Vt.a)(null);else{p.pipe(Xm()).subscribe();const t=p.pipe(Tm(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Lm({bufferSize:1,refCount:!1})),e=t=>new Ft.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Tm(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Tm(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Zm(n),Object(Jm.a)(h.outsideAngular),Object(se.b)(h.insideAngular)),this.user=t.pipe(Zm(r),Object(Jm.a)(h.outsideAngular),Object(se.b)(h.insideAngular)),this.idToken=this.user.pipe(Tm(t=>t?Object(Ut.a)(t.getIdToken()):Object(Vt.a)(null))),this.idTokenResult=this.user.pipe(Tm(t=>t?Object(Ut.a)(t.getIdTokenResult()):Object(Vt.a)(null))),this.credential=Object(Em.a)(t,f,this.authState.pipe(ne(t=>!t))).pipe(Object($t.a)(t=>(null==t?void 0:t.user)?t:null),Object(Jm.a)(h.outsideAngular),Object(se.b)(h.insideAngular))}return Object(Lt.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Lt.c),r.Yb(Lt.b,8),r.Yb(r.D),r.Yb(r.B),r.Yb(tg,8),r.Yb(eg,8),r.Yb(ng,8),r.Yb(rg,8),r.Yb(ig,8),r.Yb(sg,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Lt.c),Object(r.Yb)(Lt.b,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B),Object(r.Yb)(tg,8),Object(r.Yb)(eg,8),Object(r.Yb)(ng,8),Object(r.Yb)(rg,8),Object(r.Yb)(ig,8),Object(r.Yb)(sg,8))},token:t,providedIn:"any"}),t})();Object(Lt.e)(og,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let ag=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[og]}),t})();function cg(t,e){return function(t,e=Mt.b){return new Ft.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function ug(t,e){return cg(t,e).pipe(Object($t.a)(t=>({payload:t,type:"query"})))}function lg(t,e){return ug(t,e).pipe(Ht(void 0),Kt(),Object($t.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function hg(t,e,n){return lg(t,n).pipe(Qt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return dg(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return dg(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return dg(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Jt(),Object($t.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function dg(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function fg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class pg{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=lg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object($t.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ht(void 0),Kt(),ne(([t,e])=>e.length>0||!t),Object($t.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=fg(t);return hg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ug(this.query,this.afs.schedulers.outsideAngular).pipe(Object($t.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ut.a)(this.query.get(t)).pipe(Object(se.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new mg(this.ref.doc(t),this.afs)}}class mg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=wg(n,e);return new pg(r,i,this.afs)}snapshotChanges(){return cg(this.ref,this.afs.schedulers.outsideAngular).pipe(Ht(void 0),Kt(),Object($t.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object($t.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Ut.a)(this.ref.get(t)).pipe(Object(se.b)(this.afs.schedulers.insideAngular))}}class gg{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?lg(this.query,this.afs.schedulers.outsideAngular).pipe(Object($t.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ne(t=>t.length>0),this.afs.keepUnstableUntilFirst):lg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=fg(t);return hg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ug(this.query,this.afs.schedulers.outsideAngular).pipe(Object($t.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ut.a)(this.query.get(t)).pipe(Object(se.b)(this.afs.schedulers.insideAngular))}}const yg=new r.s("angularfire2.enableFirestorePersistence"),bg=new r.s("angularfire2.firestore.persistenceSettings"),vg=new r.s("angularfire2.firestore.settings"),_g=new r.s("angularfire2.firestore.use-emulator");function wg(t,e=(t=>t)){return{query:e(t),ref:t}}let Sg=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new Lt.d(s),this.keepUnstableUntilFirst=Object(Lt.h)(this.schedulers);const u=Object(Lt.g)(t,s,e);!oe.a.auth&&c&&Object(Lt.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Lt.f)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!et(i)){const e=()=>{try{return Object(Ut.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(vm){return"undefined"!=typeof console&&console.warn(vm),Object(Vt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Vt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=wg(n,e),s=this.schedulers.ngZone.run(()=>r);return new pg(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new gg(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new mg(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Lt.c),r.Yb(Lt.b,8),r.Yb(yg,8),r.Yb(vg,8),r.Yb(r.D),r.Yb(r.B),r.Yb(bg,8),r.Yb(_g,8),r.Yb(tg,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Lt.c),Object(r.Yb)(Lt.b,8),Object(r.Yb)(yg,8),Object(r.Yb)(vg,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B),Object(r.Yb)(bg,8),Object(r.Yb)(_g,8),Object(r.Yb)(tg,8))},token:t,providedIn:"any"}),t})(),Cg=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:yg,useValue:!0},{provide:bg,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[Sg]}),t})();function Og(t,e=Mt.a){return n=>n.lift(new Eg(t,e))}class Eg{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new xg(t,this.dueTime,this.scheduler))}}class xg extends Yt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Tg,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Tg(t){t.debouncedNext()}var kg="firebasestorage.googleapis.com",Ig=function(t){function e(n,r){var i=t.call(this,Ag(n),"Firebase Storage: "+r+" ("+Ag(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(ds.c)(e,t),e.prototype._codeEquals=function(t){return Ag(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(ce.c);function Ag(t){return"storage/"+t}function Rg(){return new Ig("unknown","An unknown error occurred, please check the error payload for server response.")}function Dg(){return new Ig("canceled","User canceled the upload/download.")}function Pg(){return new Ig("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jg(t){return new Ig("invalid-argument",t)}function Ng(){return new Ig("app-deleted","The Firebase app was deleted.")}function Lg(t){return new Ig("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mg(t,e){return new Ig("invalid-format","String does not match format '"+t+"': "+e)}function Fg(t){throw new Ig("internal-error","Internal error: "+t)}var Ug={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Vg=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function qg(t,e){switch(t){case Ug.RAW:return new Vg(Bg(e));case Ug.BASE64:case Ug.BASE64URL:return new Vg(zg(t,e));case Ug.DATA_URL:return new Vg((n=new Hg(e)).base64?zg(Ug.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(vm){throw Mg(Ug.DATA_URL,"Malformed data URL.")}return Bg(e)}(n.rest),new Hg(e).contentType)}var n;throw Rg()}function Bg(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function zg(t,e){switch(t){case Ug.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Mg(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ug.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Mg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(vm){throw Mg(t,"Invalid character found")}for(var a=new Uint8Array(o.length),c=0;c<o.length;c++)a[c]=o.charCodeAt(c);return a}var Hg=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Mg(Ug.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Yg={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Kg(t){switch(t){case"running":case"pausing":case"canceling":return Yg.RUNNING;case"paused":return Yg.PAUSED;case"success":return Yg.SUCCESS;case"canceled":return Yg.CANCELED;case"error":default:return Yg.ERROR}}var Gg=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Wg=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Gg.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Gg.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Gg.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Fg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Fg("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Fg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(vm){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Fg("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),$g=function(){function t(){}return t.prototype.createXhrIo=function(){return new Wg},t}(),Qg=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(vm){return new t(e,"")}if(""===r.path)return r;throw new Ig("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",s=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),c=[{regex:s,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(n===kg?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<c.length;u++){var l=c[u],h=l.regex.exec(e);if(h){var d=h[l.indices.path];d||(d=""),r=new t(h[l.indices.bucket],d),l.postModify(r);break}}if(null==r)throw function(t){return new Ig("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),Xg=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Zg(t){return"string"==typeof t||t instanceof String}function Jg(t){return ty()&&t instanceof Blob}function ty(){return"undefined"!=typeof Blob}function ey(t,e,n,r){if(r<e)throw jg("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw jg("Invalid value for '"+t+"'. Expected "+n+" or less.")}function ny(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function ry(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var iy=function(){function t(t,e,n,r,i,s,o,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(vm){s(vm)}else null!==o?((r=Rg()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?Ng():Dg():new Ig("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new sy(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new sy(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Gg.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new sy(o,n))}else{var a=n.getErrorCode()===Gg.ABORT;e(!1,new sy(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(ds.f)([null,t],e));else{var r;c()||o?l.call.apply(l,Object(ds.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,u||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),sy=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function oy(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ay(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=oy();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(ty())return new Blob(t);throw new Ig("unsupported-environment","This browser doesn't seem to support creating Blobs")}var cy=function(){function t(t,e){var n=0,r="";Jg(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Jg(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ty()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(ay.apply(null,r))}var i=e.map(function(t){return Zg(t)?qg(Ug.RAW,t).data:t.data_}),s=0;i.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}();function uy(t){var e,n;try{e=JSON.parse(t)}catch(vm){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function ly(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function hy(t,e){return e}var dy=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||hy}}(),fy=null;function py(){if(fy)return fy;var t=[];t.push(new dy("bucket")),t.push(new dy("generation")),t.push(new dy("metageneration")),t.push(new dy("name","fullPath",!0));var e=new dy("name");e.xform=function(t,e){return function(t){return!Zg(t)||t.length<2?t:ly(t)}(e)},t.push(e);var n=new dy("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new dy("timeCreated")),t.push(new dy("updated")),t.push(new dy("md5Hash",null,!0)),t.push(new dy("cacheControl",null,!0)),t.push(new dy("contentDisposition",null,!0)),t.push(new dy("contentEncoding",null,!0)),t.push(new dy("contentLanguage",null,!0)),t.push(new dy("contentType",null,!0)),t.push(new dy("metadata","customMetadata",!0)),fy=t}function my(t,e,n){var r=uy(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Qg(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function gy(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var yy=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function by(t){if(!t)throw Rg()}function vy(t,e){return function(n,r){var i=my(t,r,e);return by(null!==i),i}}function _y(t){return function(e,n){var r;return(r=401===e.getStatus()?new Ig("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Ig("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Ig("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function wy(t){var e=_y(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Ig("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Sy(t,e,n){var r=ny(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new yy(r,"GET",vy(t,n),i);return s.errorHandler=wy(e),s}function Cy(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Oy=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Ey(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(vm){by(!1)}return by(!!n&&-1!==(e||["active"]).indexOf(n)),n}var xy=262144,Ty=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function ky(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Iy=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=py(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=Cy(e,r,i),a={name:o.fullPath},c=ny(s,t.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=gy(o,n),h=new yy(c,"POST",function(t){var e;Ey(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(vm){by(!1)}return by(Zg(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=_y(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new yy(n,"POST",function(t){var e=Ey(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(vm){by(!1)}n||by(!1);var i=Number(n);return by(!isNaN(i)),new Oy(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=_y(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=xy*this._chunkMultiplier,n=new Oy(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var c=new Oy(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new Ig("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},f=r.slice(h,h+l);if(null===f)throw Pg();var p=new yy(n,"POST",function(t,n){var i,o=Ey(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===o?vy(e,s)(t,n):null,new Oy(a,u,"final"===o,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=_y(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(vm){return t._error=vm,void t._transition("error")}var o=t._ref.storage._makeRequest(s,i);t._request=o,o.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){xy*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=Sy(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var c=Cy(e,r,i),u=gy(c,n),l=cy.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Pg();var h={name:c.fullPath},d=ny(s,t.host),f=t.maxUploadRetryTime,p=new yy(d,"POST",vy(t,n),f);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=_y(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Dg(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Kg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new Ty(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Kg(this._state)){case Yg.SUCCESS:ky(this._resolve.bind(null,this.snapshot))();break;case Yg.CANCELED:case Yg.ERROR:ky(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Kg(this._state)){case Yg.RUNNING:case Yg.PAUSED:t.next&&ky(t.next.bind(t,this.snapshot))();break;case Yg.SUCCESS:t.complete&&ky(t.complete.bind(t))();break;case Yg.CANCELED:case Yg.ERROR:t.error&&ky(t.error.bind(t,this._error))();break;default:t.error&&ky(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Ay=function(){function t(t,e){this._service=t,this._location=e instanceof Qg?e:Qg.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Qg(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return ly(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Qg(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Lg(t)},t}();function Ry(t){var e={prefixes:[],items:[]};return Dy(t,e).then(function(){return e})}function Dy(t,e,n){return Object(ds.b)(this,void 0,void 0,function(){var r,i,s;return Object(ds.d)(this,function(o){switch(o.label){case 0:return[4,Py(t,{pageToken:n})];case 1:return r=o.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(s=e.items).push.apply(s,r.items),null==r.nextPageToken?[3,3]:[4,Dy(t,e,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function Py(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r,i;return Object(ds.d)(this,function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&ey("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=s.sent(),i=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=ny(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new yy(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=uy(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t._makeStorageReference(new Qg(e,o));r.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t._makeStorageReference(new Qg(e,u[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return by(null!==i),i}}(t,e.bucket),a);return c.urlParams=s,c.errorHandler=_y(e),c}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function jy(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Qg(t._location.bucket,n);return new Ay(t.storage,r)}function Ny(t){return/^[A-Za-z]+:\/\//.test(t)}function Ly(t,e){if(t instanceof Uy){var n=t;if(null==n._bucket)throw new Ig("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Ay(n,n._bucket);return null!=e?Ly(r,e):r}if(void 0!==e){if(e.includes(".."))throw jg('`path` param cannot contain ".."');return jy(t,e)}return t}function My(t,e){if(e&&Ny(e)){if(t instanceof Uy)return new Ay(t,e);throw jg("To use ref(service, url), the first argument must be a Storage instance.")}return Ly(t,e)}function Fy(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:Qg.makeFromBucketSpec(n,t)}var Uy=function(){function t(t,e,n,r,i){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=kg,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Qg.makeFromBucketSpec(r,this._host):Fy(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?Qg.makeFromBucketSpec(this._url,t):Fy(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){ey("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){ey("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(ds.b)(this,void 0,void 0,function(){var t,e;return Object(ds.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Ay(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new Xg(Ng());var r=function(t,e,n,r,i){var s=ry(t.urlParams),o=t.url+s,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new iy(o,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}();function Vy(t,e){return My(t=Object(ce.h)(t),e)}var qy,By,zy=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Hy=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new zy(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new zy(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new zy(t,i,i._ref))}:{next:e.next?function(t){return e.next(new zy(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),Yy=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Ky(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Ky(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Ky=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return jy(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Hy(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Iy(t,new cy(e),n)}(t=Object(ce.h)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Ug.RAW),this._throwIfRoot("putString");var r=qg(e,t),i=Object(ds.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Hy(new Iy(this._delegate,new cy(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,Ry(t=Object(ce.h)(t))).then(function(t){return new Yy(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return Py(t=Object(ce.h)(t),e)}(this._delegate,t||void 0).then(function(t){return new Yy(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(ds.b)(this,void 0,void 0,function(){var e,n;return Object(ds.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=Sy(t.storage,t._location,py()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=Object(ce.h)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(ds.b)(this,void 0,void 0,function(){var n,r;return Object(ds.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=ny(e.fullServerUrl(),t.host),s=gy(n,r),o=t.maxOperationRetryTime,a=new yy(i,"PATCH",vy(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=wy(e),a}(t.storage,t._location,e,py()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(t=Object(ce.h)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(ds.b)(this,void 0,void 0,function(){var e,n;return Object(ds.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=ny(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new yy(r,"GET",function(t,e){return function(n,r){var i=my(t,r,e);return by(null!==i),function(t,e,n){var r=uy(e);if(null===r)return null;if(!Zg(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var s=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return ny("/b/"+s(t.bucket)+"/o/"+s(r),n)+ry({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return s.errorHandler=wy(e),s}(t.storage,t._location,py()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Ig("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object(ce.h)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(ds.b)(this,void 0,void 0,function(){var e,n;return Object(ds.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=ny(e.fullServerUrl(),t.host),r=new yy(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=wy(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t=Object(ce.h)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Lg(t)},t}(),Gy=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Ny(t))throw jg("ref() expected a child path but got a URL, use refFromURL instead.");return new Ky(Vy(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Ny(t))throw jg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qg.makeFromUrl(t,this._delegate.host)}catch(vm){throw jg("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ky(Vy(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function Wy(t){const e=function(t){return new Ft.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(Og(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object($t.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function $y(t,e,n){return{getDownloadURL:()=>Object(Vt.a)(void 0).pipe(Object(se.b)(e.outsideAngular),Tm(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Vt.a)(void 0).pipe(Object(se.b)(e.outsideAngular),Tm(()=>t.getMetadata()),n),delete:()=>Object(Ut.a)(t.delete()),child:r=>$y(t.child(r),e,n),updateMetadata:e=>Object(Ut.a)(t.updateMetadata(e)),put:(e,n)=>Wy(t.put(e,n)),putString:(e,n,r)=>Wy(t.putString(e,n,r)),listAll:()=>Object(Ut.a)(t.listAll())}}By={TaskState:Yg,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Ug,Storage:Uy,Reference:Ky},(qy=ae.a).INTERNAL.registerComponent(new Sm.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new Gy(r,new Uy(r,i,new $g,n,ae.a.SDK_VERSION))},"PUBLIC").setServiceProps(By).setMultipleInstances(!0)),qy.registerVersion("@firebase/storage","0.5.1");const Qy=new r.s("angularfire2.storageBucket"),Xy=new r.s("angularfire2.storage.maxUploadRetryTime"),Zy=new r.s("angularfire2.storage.maxOperationRetryTime");let Jy=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new Lt.d(i),this.keepUnstableUntilFirst=Object(Lt.h)(this.schedulers);const a=Object(Lt.g)(t,i,e);this.storage=Object(Lt.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return $y(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return $y(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return $y(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Lt.c),r.Yb(Lt.b,8),r.Yb(Qy,8),r.Yb(r.D),r.Yb(r.B),r.Yb(Xy,8),r.Yb(Zy,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Lt.c),Object(r.Yb)(Lt.b,8),Object(r.Yb)(Qy,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B),Object(r.Yb)(Xy,8),Object(r.Yb)(Zy,8))},token:t,providedIn:"any"}),t})(),tb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),eb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[Jy],imports:[tb]}),t})();class nb extends Om.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Dm.a;return this._value}next(t){super.next(this._value=t)}}var rb=n("DH7j");class ib extends Yt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class sb extends Yt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ob=n("SeVD");function ab(t,e,n,r,i=new sb(t,n,r)){if(!i.closed)return e instanceof Ft.a?e.subscribe(i):Object(ob.a)(e)(i)}var cb=n("yCtX");const ub={};function lb(...t){let e,n;return Object(zt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(rb.a)(t[0])&&(t=t[0]),Object(cb.a)(t,n).lift(new hb(e))}class hb{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new db(t,this.resultSelector))}}class db extends ib{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ub),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ab(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===ub?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function fb(t){return new Ft.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ut.a)(n):Object(Um.b)()).subscribe(e)})}var pb=n("EQ5u");function mb(t){return function(e){const n=new gb(t),r=e.lift(n);return n.caught=r}}class gb{constructor(t){this.selector=t}call(t,e){return e.subscribe(new yb(t,this.selector,this.caught))}}class yb extends xm.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new xm.a(this);this.add(r);const i=Object(xm.c)(n,r);i!==r&&this.add(i)}}}var bb=n("5+tZ");function vb(t,e){return Object(bb.a)(t,e,1)}function _b(t){return function(e){return 0===t?Object(Um.b)():e.lift(new wb(t))}}class wb{constructor(t){if(this.total=t,this.total<0)throw new Fm}call(t,e){return e.subscribe(new Sb(t,this.total))}}class Sb extends Yt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var Cb=n("vkgz"),Ob=n("x+ZX");function Eb(t){return e=>e.lift(new xb(t))}class xb{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Tb(t,this.callback))}}class Tb extends Yt.a{constructor(t,e){super(t),this.add(new Rm.a(e))}}class kb{constructor(t,e){this.id=t,this.url=e}}class Ib extends kb{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ab extends kb{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rb extends kb{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Db extends kb{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pb extends kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jb extends kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nb extends kb{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lb extends kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mb extends kb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fb{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ub{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vb{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qb{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bb{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zb{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hb{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Yb="primary";class Kb{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gb(t){return new Kb(t)}function Wb(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function $b(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Qb(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Xb(t[i],e[i]))return!1;return!0}function Xb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Zb(t){return Array.prototype.concat.apply([],t)}function Jb(t){return t.length>0?t[t.length-1]:null}function tv(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ev(t){return Object(r.tb)(t)?t:Object(r.ub)(t)?Object(Ut.a)(Promise.resolve(t)):Object(Vt.a)(t)}function nv(t,e,n){return n?function(t,e){return Qb(t,e)}(t.queryParams,e.queryParams)&&rv(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Xb(t[n],e[n]))}(t.queryParams,e.queryParams)&&iv(t.root,e.root)}function rv(t,e){if(!uv(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!rv(t.children[n],e.children[n]))return!1}return!0}function iv(t,e){return sv(t,e,e.segments)}function sv(t,e,n){if(t.segments.length>n.length)return!!uv(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!uv(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!iv(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!uv(t.segments,r)&&!!t.children.primary&&sv(t.children.primary,e,i)}}class ov{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gb(this.queryParams)),this._queryParamMap}toString(){return dv.serialize(this)}}class av{constructor(t,e){this.segments=t,this.children=e,this.parent=null,tv(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fv(this)}}class cv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gb(this.parameters)),this._parameterMap}toString(){return _v(this)}}function uv(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class lv{}class hv{parse(t){const e=new Ev(t);return new ov(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${pv(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${gv(e)}=${gv(t)}`).join("&"):`${gv(e)}=${gv(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const dv=new hv;function fv(t){return t.segments.map(t=>_v(t)).join("/")}function pv(t,e){if(!t.hasChildren())return fv(t);if(e){const e=t.children.primary?pv(t.children.primary,!1):"",n=[];return tv(t.children,(t,e)=>{e!==Yb&&n.push(`${e}:${pv(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return tv(t.children,(t,r)=>{r===Yb&&(n=n.concat(e(t,r)))}),tv(t.children,(t,r)=>{r!==Yb&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Yb?[pv(t.children.primary,!1)]:[`${n}:${pv(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${fv(t)}/${e[0]}`:`${fv(t)}/(${e.join("//")})`}}function mv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gv(t){return mv(t).replace(/%3B/gi,";")}function yv(t){return mv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bv(t){return decodeURIComponent(t)}function vv(t){return bv(t.replace(/\+/g,"%20"))}function _v(t){return`${yv(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${yv(t)}=${yv(e[t])}`).join("")}`;var e}const wv=/^[^\/()?;=#]+/;function Sv(t){const e=t.match(wv);return e?e[0]:""}const Cv=/^[^=?&#]+/,Ov=/^[^?&#]+/;class Ev{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new av([],{}):new av([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new av(t,e)),n}parseSegment(){const t=Sv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new cv(bv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Sv(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Sv(this.remaining);t&&(n=t,this.capture(n))}t[bv(e)]=bv(n)}parseQueryParam(t){const e=function(t){const e=t.match(Cv);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ov);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=vv(e),i=vv(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Sv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Yb);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new av([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class xv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Tv(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Tv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=kv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return kv(t,this._root).map(t=>t.value)}}function Tv(t,e){if(t===e.value)return e;for(const n of e.children){const e=Tv(t,n);if(e)return e}return null}function kv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=kv(t,n);if(r.length)return r.unshift(e),r}return[]}class Iv{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Av(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Rv extends xv{constructor(t,e){super(t),this.snapshot=e,Mv(this,t)}toString(){return this.snapshot.toString()}}function Dv(t,e){const n=function(t,e){const n=new Nv([],{},{},"",{},Yb,e,null,t.root,-1,{});return new Lv("",new Iv(n,[]))}(t,e),r=new nb([new cv("",{})]),i=new nb({}),s=new nb({}),o=new nb({}),a=new nb(""),c=new Pv(r,i,o,a,s,Yb,e,n.root);return c.snapshot=n.root,new Rv(new Iv(c,[]),n)}class Pv{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object($t.a)(t=>Gb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object($t.a)(t=>Gb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jv(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Nv{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lv extends xv{constructor(t,e){super(e),this.url=t,Mv(this,e)}toString(){return Fv(this._root)}}function Mv(t,e){e.value._routerState=t,e.children.forEach(e=>Mv(t,e))}function Fv(t){const e=t.children.length>0?` { ${t.children.map(Fv).join(", ")} } `:"";return`${t.value}${e}`}function Uv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qb(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Qb(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qb(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Qb(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Vv(t,e){return Qb(t.params,e.params)&&function(t,e){return uv(t,e)&&t.every((t,n)=>Qb(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Vv(t.parent,e.parent))}function qv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return qv(t,e,r);return qv(t,e)})}(t,e,n);return new Iv(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Bv(e,t),t}{const n=new Pv(new nb((r=e.value).url),new nb(r.params),new nb(r.queryParams),new nb(r.fragment),new nb(r.data),r.outlet,r.component,r),i=e.children.map(e=>qv(t,e));return new Iv(n,i)}}var r}function Bv(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Bv(t.children[n],e.children[n])}function zv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hv(t){return"object"==typeof t&&null!=t&&t.outlets}function Yv(t,e,n,r,i){let s={};return r&&tv(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ov(n.root===t?e:Kv(n.root,t,e),s,i)}function Kv(t,e,n){const r={};return tv(t.children,(t,i)=>{r[i]=t===e?n:Kv(t,e,n)}),new av(t.segments,r)}class Gv{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zv(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Hv);if(r&&r!==Jb(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wv{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function $v(t,e,n){if(t||(t=new av([],{})),0===t.segments.length&&t.hasChildren())return Qv(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Hv(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!t_(a,c,e))return s;r+=2}else{if(!t_(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new av(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new av(t.segments.slice(r.pathIndex),t.children),Qv(e,0,i)}return r.match&&0===i.length?new av(t.segments,{}):r.match&&!t.hasChildren()?Xv(t,e,n):r.match?Qv(t,0,i):Xv(t,e,n)}function Qv(t,e,n){if(0===n.length)return new av(t.segments,{});{const r=function(t){return Hv(t[0])?t[0].outlets:{[Yb]:t}}(n),i={};return tv(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=$v(t.children[r],e,n))}),tv(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new av(t.segments,i)}}function Xv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Hv(s)){const t=Zv(s.outlets);return new av(r,t)}if(0===i&&zv(n[0])){r.push(new cv(t.segments[e].path,Jv(n[0]))),i++;continue}const o=Hv(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&zv(a)?(r.push(new cv(o,Jv(a))),i+=2):(r.push(new cv(o,{})),i++)}return new av(r,{})}function Zv(t){const e={};return tv(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Xv(new av([],{}),0,t))}),e}function Jv(t){const e={};return tv(t,(t,n)=>e[n]=`${t}`),e}function t_(t,e,n){return t==n.path&&Qb(e,n.parameters)}class e_{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Uv(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Av(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),tv(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Av(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Av(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new zb(t.value.snapshot))}),t.children.length&&this.forwardEvent(new qb(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Uv(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),n_(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function n_(t){Uv(t.value),t.children.forEach(n_)}class r_{constructor(t,e){this.routes=t,this.module=e}}function i_(t){return"function"==typeof t}function s_(t){return t instanceof ov}const o_=Symbol("INITIAL_VALUE");function a_(){return Tm(t=>lb(t.map(t=>t.pipe(Vm(1),Ht(o_)))).pipe(Qt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==o_)return t;if(r===o_&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||s_(r))return r}return t},t)},o_),ne(t=>t!==o_),Object($t.a)(t=>s_(t)?t:!0===t),Vm(1)))}let c_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"router-outlet")},directives:function(){return[ew]},encapsulation:2}),t})();function u_(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];l_(r,h_(e,r))}}function l_(t,e){t.children&&u_(t.children,e)}function h_(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function d_(t){const e=t.children&&t.children.map(d_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Yb&&(n.component=c_),n}function f_(t){return t.outlet||Yb}function p_(t,e){const n=t.filter(t=>f_(t)===e);return n.push(...t.filter(t=>f_(t)!==e)),n}const m_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function g_(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},m_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||$b)(n,t,e);if(!i)return Object.assign({},m_);const s={};tv(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function y_(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>b_(t,e,n)&&f_(n)!==Yb)}(t,n,r)){const i=new av(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&f_(s)!==Yb){const n=new av([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[f_(s)]=n}return i}(t,e,r,new av(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>b_(t,e,n))}(t,n,r)){const s=new av(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(b_(t,n,a)&&!i[f_(a)]){const n=new av([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[f_(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new av(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function b_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function v_(t,e,n,r){return!!(f_(t)===r||r!==Yb&&b_(e,n,t))&&("**"===t.path||g_(e,t,n).matched)}function __(t,e,n){return 0===e.length&&!t.children[n]}class w_{constructor(t){this.segmentGroup=t||null}}class S_{constructor(t){this.urlTree=t}}function C_(t){return new Ft.a(e=>e.error(new w_(t)))}function O_(t){return new Ft.a(e=>e.error(new S_(t)))}function E_(t){return new Ft.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class x_{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.z)}apply(){const t=y_(this.urlTree.root,[],[],this.config).segmentGroup,e=new av(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Yb).pipe(Object($t.a)(t=>this.createUrlTree(T_(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mb(t=>{if(t instanceof S_)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof w_)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Yb).pipe(Object($t.a)(e=>this.createUrlTree(T_(e),t.queryParams,t.fragment))).pipe(mb(t=>{if(t instanceof w_)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new av([],{[Yb]:t}):t;return new ov(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object($t.a)(t=>new av([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Ut.a)(r).pipe(vb(r=>{const i=n.children[r],s=p_(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object($t.a)(t=>({segment:t,outlet:r})))}),Qt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):Qm.a,_b(1),n?zm(e):Km(()=>new Mm))}())}expandSegment(t,e,n,r,i,s){return Object(Ut.a)(n).pipe(vb(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(mb(t=>{if(t instanceof w_)return Object(Vt.a)(null);throw t}))),Xm(t=>!!t),mb((t,n)=>{if(t instanceof Mm||"EmptyError"===t.name){if(__(e,r,i))return Object(Vt.a)(new av([],{}));throw new w_(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return v_(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):C_(e):C_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?O_(i):this.lineralizeSegments(n,i).pipe(Object(bb.a)(n=>{const i=new av(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=g_(e,r,i);if(!o)return C_(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?O_(l):this.lineralizeSegments(r,l).pipe(Object(bb.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Vt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object($t.a)(t=>(n._loadedConfig=t,new av(r,{})))):Object(Vt.a)(new av(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=g_(e,n,r);if(!s)return C_(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(bb.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:u}=y_(e,o,c,s),l=new av(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object($t.a)(t=>new av(o,t)));if(0===s.length&&0===u.length)return Object(Vt.a)(new av(o,{}));const h=f_(n)===i;return this.expandSegment(r,l,s,u,h?Yb:i,!0).pipe(Object($t.a)(t=>new av(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Vt.a)(new r_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Vt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(bb.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object($t.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ft.a(e=>e.error(Wb(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Vt.a)(new r_([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Vt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&i_(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!i_(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return ev(s)});return Object(Vt.a)(i).pipe(a_(),Object(Cb.a)(t=>{if(!s_(t))return;const e=Wb(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object($t.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Vt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return E_(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ov(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return tv(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return tv(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new av(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function T_(t){const e={};for(const n of Object.keys(t.children)){const r=T_(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new av(t.segments.concat(e.segments),e.children)}return t}(new av(t.segments,e))}class k_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class I_{constructor(t,e){this.component=t,this.route=e}}function A_(t,e,n){const r=t._root;return D_(r,e?e._root:null,n,[r.value])}function R_(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function D_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Av(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!uv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!uv(t.url,e.url)||!Qb(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vv(t,e)||!Qb(t.queryParams,e.queryParams);case"paramsChange":default:return!Vv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new k_(r)):(s.data=o.data,s._resolvedData=o._resolvedData),D_(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new I_(a.outlet.component,o))}else o&&P_(e,a,i),i.canActivateChecks.push(new k_(r)),D_(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),tv(s,(t,e)=>P_(t,n.getContext(e),i)),i}function P_(t,e,n){const r=Av(t),i=t.value;tv(r,(t,r)=>{P_(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new I_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class j_{}function N_(t){return new Ft.a(e=>e.error(t))}class L_{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=y_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Yb);if(null===e)return null;const n=new Nv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yb,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Iv(n,e),i=new Lv(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=jv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=p_(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!M_(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Yb?-1:e.value.outlet===Yb?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return __(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!v_(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Jb(n).parameters:{};i=new Nv(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,V_(t),f_(t),t.component,t,F_(e),U_(e)+n.length,q_(t))}else{const r=g_(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Nv(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,V_(t),f_(t),t.component,t,F_(e),U_(e)+s.length,q_(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=y_(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Iv(i,t)]}if(0===a.length&&0===u.length)return[new Iv(i,[])];const l=f_(t)===r,h=this.processSegment(a,c,u,l?Yb:r);return null===h?null:[new Iv(i,h)]}}function M_(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function F_(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function U_(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function V_(t){return t.data||{}}function q_(t){return t.resolve||{}}function B_(t){return Tm(e=>{const n=t(e);return n?Object(Ut.a)(n).pipe(Object($t.a)(()=>e)):Object(Vt.a)(e)})}class z_ extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const H_=new r.s("ROUTES");class Y_{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object($t.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new r_(Zb(i.injector.get(H_,void 0,r.r.Self|r.r.Optional)).map(d_),i)}),mb(t=>{throw e._loader$=void 0,t}));return e._loader$=new pb.a(n,()=>new Om.a).pipe(Object(Ob.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Ut.a)(this.loader.load(t)):ev(t()).pipe(Object(bb.a)(t=>t instanceof r.x?Object(Vt.a)(t):Object(Ut.a)(this.compiler.compileModuleAsync(t))))}}class K_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new G_,this.attachRef=null}}class G_{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new K_,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class W_{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function $_(t){throw t}function Q_(t,e,n){return e.parse("/")}function X_(t,e){return Object(Vt.a)(null)}let Z_=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Om.a,this.errorHandler=$_,this.malformedUriErrorHandler=Q_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:X_,afterPreactivation:X_},this.urlHandlingStrategy=new W_,this.routeReuseStrategy=new z_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.z),this.console=s.get(r.bb);const u=s.get(r.B);this.isNgZoneEnabled=u instanceof r.B&&r.B.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new ov(new av([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Y_(o,a,t=>this.triggerEvent(new Fb(t)),t=>this.triggerEvent(new Ub(t))),this.routerState=Dv(this.currentUrlTree,this.rootComponentType),this.transitions=new nb({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ne(t=>0!==t.id),Object($t.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Tm(t=>{let n=!1,r=!1;return Object(Vt.a)(t).pipe(Object(Cb.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Tm(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Vt.a)(t).pipe(Tm(t=>{const n=this.transitions.getValue();return e.next(new Ib(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Um.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Tm(t=>function(t,e,n,r,i){return new x_(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object($t.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Cb.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(bb.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new L_(t,e,n,r,i,s).recognize();return null===o?N_(new j_):Object(Vt.a)(o)}catch(vm){return N_(vm)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object($t.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Cb.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Pb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Ib(n,this.serializeUrl(r),i,s);e.next(a);const c=Dv(r,this.rootComponentType).snapshot;return Object(Vt.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Um.a}),B_(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Cb.a)(t=>{const e=new jb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object($t.a)(t=>Object.assign(Object.assign({},t),{guards:A_(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(bb.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Vt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ut.a)(t).pipe(Object(bb.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Vt.a)(!0);const o=s.map(s=>{const o=R_(s,e,i);let a;if(function(t){return t&&i_(t.canDeactivate)}(o))a=ev(o.canDeactivate(t,e,n,r));else{if(!i_(o))throw new Error("Invalid CanDeactivate guard");a=ev(o(t,e,n,r))}return a.pipe(Xm())});return Object(Vt.a)(o).pipe(a_())}(t.component,t.route,n,e,r)),Xm(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(bb.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ut.a)(e).pipe(vb(e=>Bt(function(t,e){return null!==t&&e&&e(new Vb(t)),Object(Vt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Bb(t)),Object(Vt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>fb(()=>{const i=e.guards.map(i=>{const s=R_(i,e.node,n);let o;if(function(t){return t&&i_(t.canActivateChild)}(s))o=ev(s.canActivateChild(r,t));else{if(!i_(s))throw new Error("Invalid CanActivateChild guard");o=ev(s(r,t))}return o.pipe(Xm())});return Object(Vt.a)(i).pipe(a_())}));return Object(Vt.a)(i).pipe(a_())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Vt.a)(!0);const i=r.map(r=>fb(()=>{const i=R_(r,e,n);let s;if(function(t){return t&&i_(t.canActivate)}(i))s=ev(i.canActivate(e,t));else{if(!i_(i))throw new Error("Invalid CanActivate guard");s=ev(i(e,t))}return s.pipe(Xm())}));return Object(Vt.a)(i).pipe(a_())}(t,e.route,n))),Xm(t=>!0!==t,!0))}(r,s,t,e):Object(Vt.a)(n)),Object($t.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Cb.a)(t=>{if(s_(t.guardsResult)){const e=Wb(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Nb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ne(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Rb(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),B_(t=>{if(t.guards.canActivateChecks.length)return Object(Vt.a)(t).pipe(Object(Cb.a)(t=>{const e=new Lb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Tm(t=>{let n=!1;return Object(Vt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(bb.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Vt.a)(t);let s=0;return Object(Ut.a)(n).pipe(vb(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Vt.a)({});const s={};return Object(Ut.a)(i).pipe(Object(bb.a)(i=>function(t,e,n,r){const i=R_(t,e,r);return ev(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Cb.a)(t=>{s[i]=t}))),_b(1),Object(bb.a)(()=>Object.keys(s).length===i.length?Object(Vt.a)(s):Um.a))}(t._resolve,t,e,r).pipe(Object($t.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),jv(t,n).resolve),null)))}(t.route,e,r,i)),Object(Cb.a)(()=>s++),_b(1),Object(bb.a)(e=>s===n.length?Object(Vt.a)(t):Um.a))})),Object(Cb.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Rb(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Cb.a)(t=>{const e=new Mb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),B_(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object($t.a)(t=>{const e=function(t,e,n){const r=qv(t,e._root,n?n._root:void 0);return new Rv(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Cb.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object($t.a)(t=>(new e_(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(Cb.a)({next(){n=!0},complete(){n=!0}}),Eb(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Rb(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),mb(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=s_(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Rb(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Db(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Go){t.reject(Go)}}var i;return Um.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){u_(t),this.config=t.map(d_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Yv(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Gv(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return tv(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Gv(n,e,r)}(n);if(s.toRoot())return Yv(e.root,new av([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Wv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Wv(t,t===e.root,0)}const r=zv(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wv(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Qv(o.segmentGroup,o.index,s.commands):$v(o.segmentGroup,o.index,s.commands);return Yv(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=s_(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(vm){e=this.malformedUriErrorHandler(vm,this.urlSerializer,t)}return e}isActive(t,e){if(s_(t))return nv(this.currentUrlTree,t,e);const n=this.parseUrl(t);return nv(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ab(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.P),r.Yb(lv),r.Yb(G_),r.Yb(w),r.Yb(r.t),r.Yb(r.y),r.Yb(r.i),r.Yb(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),J_=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Om.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:tw(this.skipLocationChange),replaceUrl:tw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:tw(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Z_),r.Ob(Pv),r.Zb("tabindex"),r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.bc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})();function tw(t){return""===t||!!t}let ew=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||Yb,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new nw(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(G_),r.Ob(r.S),r.Ob(r.j),r.Zb("name"),r.Ob(r.h))},t.\u0275dir=r.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class nw{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Pv?this.route:t===G_?this.childContexts:this.parent.get(t,e)}}class rw{}class iw{preload(t,e){return Object(Vt.a)(null)}}let sw=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Y_(e,n,e=>t.triggerEvent(new Fb(e)),e=>t.triggerEvent(new Ub(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ne(t=>t instanceof Ab),vb(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Ut.a)(n).pipe(Object(qt.a)(),Object($t.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Vt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(bb.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Z_),r.Yb(r.y),r.Yb(r.i),r.Yb(r.t),r.Yb(rw))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),ow=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ib?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ab&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Hb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Z_),r.Yb(nt),r.Yb(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const aw=new r.s("ROUTER_CONFIGURATION"),cw=new r.s("ROUTER_FORROOT_GUARD"),uw=[w,{provide:lv,useClass:hv},{provide:Z_,useFactory:function(t,e,n,r,i,o,a,c={},u,l){const h=new Z_(null,t,e,n,r,i,o,Zb(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[lv,G_,w,r.t,r.y,r.i,H_,aw,[class{},new r.C],[class{},new r.C]]},G_,{provide:Pv,useFactory:function(t){return t.routerState.root},deps:[Z_]},{provide:r.y,useClass:r.M},sw,iw,class{preload(t,e){return e().pipe(mb(()=>Object(Vt.a)(null)))}},{provide:aw,useValue:{enableTracing:!1}}];function lw(){return new r.A("Router",Z_)}let hw=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[uw,mw(e),{provide:cw,useFactory:pw,deps:[[Z_,new r.C,new r.L]]},{provide:aw,useValue:n||{}},{provide:g,useFactory:fw,deps:[a,[new r.q(b),new r.C],aw]},{provide:ow,useFactory:dw,deps:[Z_,nt,aw]},{provide:rw,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:iw},{provide:r.A,multi:!0,useFactory:lw},[gw,{provide:r.d,multi:!0,useFactory:yw,deps:[gw]},{provide:vw,useFactory:bw,deps:[gw]},{provide:r.b,multi:!0,useExisting:vw}]]}}static forChild(e){return{ngModule:t,providers:[mw(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(cw,8),r.Yb(Z_,8))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();function dw(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ow(t,e,n)}function fw(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function pw(t){return"guarded"}function mw(t){return[{provide:r.a,multi:!0,useValue:t},{provide:H_,multi:!0,useValue:t}]}let gw=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Om.a}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Z_),r=this.injector.get(aw);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Vt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(aw),n=this.injector.get(sw),i=this.injector.get(ow),s=this.injector.get(Z_),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.t))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function yw(t){return t.appInitializer.bind(t)}function bw(t){return t.bootstrapListener.bind(t)}const vw=new r.s("Router Initializer");let _w=(()=>{class t{constructor(t,e){this.router=t,this.afs=e,this.userLoggedIn=!1,this.hostPlayer={displayName:"",email:"",photoURL:"",id:"",stats:{gamesPlayed:0,gamesWon:0,gamesLost:0,questionsAnswered:0,questionsRight:[],questionsWrong:[],bestCategory:"",worstCategory:""}},this.nonHostPlayers=[],this.allPlayers=[],this.usersCollection=this.afs.collection("users")}setHostPlayer(t){this.hostPlayer=t,this.userLoggedIn=!0,this.nonHostPlayers=this.allPlayers.filter(t=>t.email!=this.hostPlayer.email)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Z_),r.Yb(Sg))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ww=(()=>{class t{constructor(t,e,n,r){this.afs=t,this.afAuth=e,this.hostService=n,this.router=r,this.host={displayName:"",email:"",photoURL:"",id:"",stats:{gamesPlayed:0,gamesWon:0,gamesLost:0,questionsAnswered:0,questionsRight:[],questionsWrong:[],bestCategory:"",worstCategory:""}},this.users=this.afs.collection("users").valueChanges(),this.usersCollection=this.afs.collection("users")}getUsers(){return this.users}addUser(){this.usersCollection.add(this.host).then(t=>{this.usersCollection.doc(t.id).update({id:t.id}),this.host.id=t.id,this.hostService.hostPlayer.id=t.id,this.router.navigate(["user-details"])})}GoogleAuthLogin(){return this.afAuth.signInWithPopup(new oe.a.auth.GoogleAuthProvider).then(t=>{this.host.displayName=t.user.displayName,this.host.email=t.user.email,this.host.photoURL=t.user.photoURL}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Sg),r.Yb(og),r.Yb(_w),r.Yb(Z_))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Sw{}const Cw="*";function Ow(t,e){return{type:7,name:t,definitions:e,options:{}}}function Ew(t,e=null){return{type:4,styles:e,timings:t}}function xw(t,e=null){return{type:2,steps:t,options:e}}function Tw(t){return{type:6,styles:t,offset:null}}function kw(t,e,n){return{type:0,name:t,styles:e,options:n}}function Iw(t){return{type:5,steps:t}}function Aw(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Rw(t=null){return{type:9,options:t}}function Dw(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function Pw(t){Promise.resolve(null).then(t)}class jw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Nw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Pw(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Lw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Mw(t){switch(t.length){case 0:return new jw;case 1:return t[0];default:return new Nw(t)}}function Fw(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Cw:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Uw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Vw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Vw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Vw(n,"destroy",t)))}}function Vw(t,e,n){const r=n.totalTime,i=qw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function qw(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Bw(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function zw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Hw=(t,e)=>!1,Yw=(t,e)=>!1,Kw=(t,e,n)=>[];const Gw=Lw();(Gw||"undefined"!=typeof Element)&&(Hw=(t,e)=>t.contains(e),Yw=(()=>{if(Gw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Yw}})(),Kw=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Ww=null,$w=!1;function Qw(t){Ww||(Ww=("undefined"!=typeof document?document.body:null)||{},$w=!!Ww.style&&"WebkitAppearance"in Ww.style);let e=!0;return Ww.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ww.style,!e&&$w)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ww.style),e}const Xw=Yw,Zw=Hw,Jw=Kw;function tS(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let eS=(()=>{class t{validateStyleProperty(t){return Qw(t)}matchesElement(t,e){return Xw(t,e)}containsElement(t,e){return Zw(t,e)}query(t,e,n){return Jw(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new jw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),nS=(()=>{class t{}return t.NOOP=new eS,t})();const rS="ng-enter",iS="ng-leave",sS="ng-trigger",oS=".ng-trigger",aS="ng-animating",cS=".ng-animating";function uS(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lS(parseFloat(e[1]),e[2])}function lS(t,e){switch(e){case"s":return 1e3*t;default:return t}}function hS(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=lS(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=lS(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function dS(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function fS(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else dS(t,n);return n}function pS(t,e,n){return n?e+":"+n+";":""}function mS(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=pS(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=pS(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function gS(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=OS(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Lw()&&mS(t))}function yS(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=OS(e);t.style[n]=""}),Lw()&&mS(t))}function bS(t){return Array.isArray(t)?1==t.length?t[0]:xw(t):t}const vS=new RegExp("{{\\s*(.+?)\\s*}}","g");function _S(t){let e=[];if("string"==typeof t){let n;for(;n=vS.exec(t);)e.push(n[1]);vS.lastIndex=0}return e}function wS(t,e,n){const r=t.toString(),i=r.replace(vS,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function SS(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const CS=/-+([a-z0-9])/g;function OS(t){return t.replace(CS,(...t)=>t[1].toUpperCase())}function ES(t,e){return 0===t||0===e}function xS(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=kS(t,e)})}}return e}function TS(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function kS(t,e){return window.getComputedStyle(t)[e]}const IS="*";function AS(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(PS(i,o)),"<"!=s[0]||i==IS&&o==IS||e.push(PS(o,i))}(t,n,e)):n.push(t),n}const RS=new Set(["true","1"]),DS=new Set(["false","0"]);function PS(t,e){const n=RS.has(t)||DS.has(t),r=RS.has(e)||DS.has(e);return(i,s)=>{let o=t==IS||t==i,a=e==IS||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?RS.has(t):DS.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?RS.has(e):DS.has(e)),o&&a}}const jS=new RegExp("s*:selfs*,?","g");function NS(t,e,n){return new LS(t).build(e,n)}class LS{constructor(t){this._driver=t}build(t,e){const n=new MS(e);return this._resetContextStyleTimingState(n),TS(this,bS(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(FS(t)){const e=t;Object.keys(e).forEach(t=>{_S(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=SS(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=TS(this,bS(t.animation),e);return{type:1,matchers:AS(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:US(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>TS(this,t,e)),options:US(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=TS(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:US(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return VS(hS(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=VS(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||hS(r,e),VS(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Tw({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Tw(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Cw?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(FS(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=_S(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(FS(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(FS(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:TS(this,bS(t.animation),e),options:US(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:US(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:US(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(jS,"")),[t=t.replace(/@\*/g,oS).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,cS),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Bw(e.collectedStyles,e.currentQuerySelector,{});const o=TS(this,bS(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:US(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:hS(t.timings,e.errors,!0);return{type:12,animation:TS(this,bS(t.animation),e),timings:n,options:null}}}class MS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function FS(t){return!Array.isArray(t)&&"object"==typeof t}function US(t){var e;return t?(t=dS(t)).params&&(t.params=(e=t.params)?dS(e):null):t={},t}function VS(t,e,n){return{duration:t,delay:e,easing:n}}function qS(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class BS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const zS=new RegExp(":enter","g"),HS=new RegExp(":leave","g");function YS(t,e,n,r,i,s={},o={},a,c,u=[]){return(new KS).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class KS{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new BS;const l=new WS(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),TS(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[qS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?uS(n.duration):null,s=null!=n.delay?uS(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),TS(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=GS);const t=uS(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>TS(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?uS(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),TS(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return hS(e.params?wS(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?uS(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=GS);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),TS(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;TS(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const GS={};class WS{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=GS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new $S(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=uS(n.duration)),null!=n.delay&&(r.delay=uS(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=wS(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new WS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=GS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new QS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(zS,"."+this._enterClassName)).replace(HS,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class $S{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new $S(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Cw,this._currentKeyframe[t]=Cw}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Cw})):fS(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=wS(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Cw),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=fS(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Cw&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?SS(t.values()):[],s=e.size?SS(e.values()):[];if(n){const t=r[0],e=dS(t);t.offset=0,e.offset=1,r=[t,e]}return qS(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class QS extends $S{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=fS(t[0],!1);a.offset=0,i.push(a);const c=fS(t[0],!1);c.offset=XS(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=fS(t[r],!1);o.offset=XS((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return qS(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function XS(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ZS{}class JS extends ZS{normalizePropertyName(t,e){return OS(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(tC[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const tC=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function eC(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const nC={};class rC{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||nC,d=this.buildStyles(n,o&&o.params||nC,l),f=a&&a.params||nC,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=u?[]:YS(t,e,this.ast.animation,i,s,d,p,v,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return eC(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Bw(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Bw(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=SS(m.values());return eC(e,this._triggerName,n,r,b,d,p,_,S,g,y,w)}}class iC{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=dS(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=wS(s,r,e)),n[t]=s})}}),n}}class sC{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new iC(t.style,t.options&&t.options.params||{})}),oC(this.states,"true","1"),oC(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new rC(t,e,this.states))}),this.fallbackTransition=new rC(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function oC(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const aC=new BS;class cC{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=NS(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Fw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=YS(this._driver,e,i,rS,iS,{},{},n,aC,r),s.forEach(t=>{const e=Bw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Cw)})});const a=Mw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=qw(e,"","","");return Uw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const uC="ng-animate-queued",lC="ng-animate-disabled",hC=".ng-animate-disabled",dC=[],fC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class mC{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=dS(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const gC="void",yC=new mC(gC);class bC{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,EC(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Bw(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Bw(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(EC(t,sS),EC(t,"ng-trigger-"+e),a[e]=yC),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new _C(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(EC(t,sS),EC(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new mC(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=yC),c.value!==gC&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{yS(t,n),gS(t,r)})}return}const u=Bw(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(EC(t,uC),s.onStart(()=>{xC(t,uC)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,oS,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,gC,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Mw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||yC,a=new mC(gC),c=new _C(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==fC||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){EC(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=qw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Uw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class vC{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new bC(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(wC(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!wC(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),EC(t,lC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),xC(t,lC))}removeNode(t,e,n,r){if(wC(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return wC(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,oS,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,cS,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Mw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=fC,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,hC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,hC,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)EC(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Mw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new BS,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=OC(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=rS+p++;f.set(e,n),t.forEach(t=>EC(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=OC(h,Array.from(g));v.forEach((t,e)=>{const n=iS+p++;b.set(e,n),t.forEach(t=>EC(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>xC(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>xC(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>yS(i,p.fromStyles)),e.onDestroy(()=>gS(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>yS(i,p.fromStyles)),e.onDestroy(()=>gS(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Bw(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Bw(S,e,[]).push(t),t.destroy()})});const O=m.filter(t=>IC(t,a,c)),E=new Map;CC(E,this.driver,y,c,Cw).forEach(t=>{IC(t,a,c)&&O.push(t)});const x=new Map;d.forEach((t,e)=>{CC(x,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=E.get(t),n=x.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const T=[],k=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>gS(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=I;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,x,E);if(s.setRealPlayer(n),t===I)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Mw(e)),r.push(s)}}else yS(e,o.fromStyles),s.onDestroy(()=>gS(e,o.toStyles)),k.push(s),u.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Mw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(xC(t,iS),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,cS,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?TC(this,t,r):this.processLeaveNode(t)}return m.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==gC;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=Bw(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}yS(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new jw(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return kC(t,e),e}((n.get(h)||dC).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Fw(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new _C(t,o,h);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{Bw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>EC(t,aS));const d=Mw(h);return d.onDestroy(()=>{u.forEach(t=>xC(t,aS)),gS(a,e.toStyles)}),l.forEach(t=>{Bw(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new jw(t.duration,t.delay)}}class _C{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new jw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Uw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function wC(t){return t&&1===t.nodeType}function SC(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function CC(t,e,n,r,i){const s=[];n.forEach(t=>s.push(SC(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=pC,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>SC(t,s[a++])),o}function OC(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function EC(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function xC(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function TC(t,e,n){Mw(n).onDone(()=>t.processLeaveNode(e))}function kC(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Nw?kC(r.players,e):e.push(r)}}function IC(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class AC{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new vC(t,e,n),this._timelineEngine=new cC(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=NS(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new sC(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=zw(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=zw(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function RC(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=PC(e[0]),e.length>1&&(r=PC(e[e.length-1]))):e&&(n=PC(e)),n||r?new DC(t,n,r):null}let DC=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&gS(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gS(this._element,this._initialStyles),this._endStyles&&(gS(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(yS(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yS(this._element,this._endStyles),this._endStyles=null),gS(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function PC(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];jC(i)&&(e=e||{},e[i]=t[i])}return e}function jC(t){return"display"===t||"position"===t}const NC="animation",LC="animationend";class MC{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=zC(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),BC(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),qC(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){FC(this._element,this._name,"paused")}resume(){FC(this._element,this._name,"running")}setPosition(t){const e=UC(this._element,this._name);this._position=t*this._duration,BC(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),qC(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=zC(t,"").split(","),r=VC(n,e);r>=0&&(n.splice(r,1),BC(t,"",n.join(",")))}(this._element,this._name))}}function FC(t,e,n){BC(t,"PlayState",n,UC(t,e))}function UC(t,e){const n=zC(t,"");return n.indexOf(",")>0?VC(n.split(","),e):VC([n],e)}function VC(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function qC(t,e,n){n?t.removeEventListener(LC,e):t.addEventListener(LC,e)}function BC(t,e,n,r){const i=NC+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function zC(t,e){return t.style[NC+e]||""}class HC{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new MC(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:kS(this.element,n))})}this.currentSnapshot=t}}class YC extends jw{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=tS(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class KC{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Qw(t)}matchesElement(t,e){return Xw(t,e)}containsElement(t,e){return Zw(t,e)}query(t,e,n){return Jw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>tS(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof HC),c={};ES(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=xS(t,e,c));if(0==n)return new YC(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=RC(t,e),f=new HC(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class GC{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:kS(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class WC{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test($C().toString()),this._cssKeyframesDriver=new KC}validateStyleProperty(t){return Qw(t)}matchesElement(t,e){return Xw(t,e)}containsElement(t,e){return Zw(t,e)}query(t,e,n){return Jw(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof GC);ES(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=RC(t,e=xS(t,e=e.map(t=>fS(t,!1)),c));return new GC(t,e,a,l)}}function $C(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let QC=(()=>{class t extends Sw{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.T.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?xw(t):t;return JC(this._renderer,null,e,"register",[n]),new XC(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.H),r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class XC extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ZC(this._id,t,e||{},this._renderer)}}class ZC{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return JC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function JC(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const tO="@",eO="@.disabled";let nO=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new rO("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new iO(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.H),r.Yb(AC),r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class rO{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==tO&&e==eO?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class iO extends rO{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==tO?"."==e.charAt(1)&&e==eO?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==tO){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=tO&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let sO=(()=>{class t extends AC{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(nS),r.Yb(ZS))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const oO=new r.s("AnimationModuleType"),aO=[{provide:nS,useFactory:function(){return"function"==typeof $C()?new WC:new KC}},{provide:oO,useValue:"BrowserAnimations"},{provide:Sw,useClass:QC},{provide:ZS,useFactory:function(){return new JS}},{provide:AC,useClass:sO},{provide:r.H,useFactory:function(t,e,n){return new nO(t,e,n)},deps:[_t,AC,r.B]}];let cO,uO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:aO,imports:[Nt]}),t})();function lO(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function hO(t){return null!=t&&"false"!=`${t}`}function dO(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function fO(t){return Array.isArray(t)?t:[t]}function pO(t){return null==t?"":"string"==typeof t?t:`${t}px`}function mO(t){return t instanceof r.l?t.nativeElement:t}try{cO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch($R){cO=!1}let gO,yO=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.D))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.D))},token:t,providedIn:"root"}),t})(),bO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();const vO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _O(){if(gO)return gO;if("object"!=typeof document||!document)return gO=new Set(vO),gO;let t=document.createElement("input");return gO=new Set(vO.filter(e=>(t.setAttribute("type",e),t.type===e))),gO}let wO,SO,CO;function OO(t){return function(){if(null==wO&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wO=!0}))}finally{wO=wO||!1}return wO}()?t:!!t.capture}function EO(){if(null==SO){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return SO=!1,SO;if("scrollBehavior"in document.documentElement.style)SO=!0;else{const t=Element.prototype.scrollTo;SO=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return SO}function xO(t){if(function(){if(null==CO){const t="undefined"!=typeof document?document.head:null;CO=!(!t||!t.createShadowRoot&&!t.attachShadow)}return CO}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}let TO=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),kO=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=mO(t);return new Ft.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Om.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(TO))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(TO))},token:t,providedIn:"root"}),t})(),IO=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=hO(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=dO(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Og(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(kO),r.Ob(r.l),r.Ob(r.B))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),AO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[TO]}),t})();function RO(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const DO="cdk-describedby-message-container",PO="cdk-describedby-host";let jO=0;const NO=new Map;let LO=null,MO=(()=>{class t{constructor(t){this._document=t}describe(t,e,n){if(!this._canBeDescribed(t,e))return;const r=FO(e,n);"string"!=typeof e?(UO(e),NO.set(r,{messageElement:e,referenceCount:0})):NO.has(r)||this._createMessageElement(e,n),this._isElementDescribedByMessage(t,r)||this._addMessageReference(t,r)}removeDescription(t,e,n){if(!e||!this._isElementNode(t))return;const r=FO(e,n);if(this._isElementDescribedByMessage(t,r)&&this._removeMessageReference(t,r),"string"==typeof e){const t=NO.get(r);t&&0===t.referenceCount&&this._deleteMessageElement(r)}LO&&0===LO.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(PO);LO&&this._deleteMessagesContainer(),NO.clear()}_createMessageElement(t,e){const n=this._document.createElement("div");UO(n),n.textContent=t,e&&n.setAttribute("role",e),this._createMessagesContainer(),LO.appendChild(n),NO.set(FO(t,e),{messageElement:n,referenceCount:0})}_deleteMessageElement(t){const e=NO.get(t),n=e&&e.messageElement;LO&&n&&LO.removeChild(n),NO.delete(t)}_createMessagesContainer(){if(!LO){const t=this._document.getElementById(DO);t&&t.parentNode&&t.parentNode.removeChild(t),LO=this._document.createElement("div"),LO.id=DO,LO.style.visibility="hidden",LO.classList.add("cdk-visually-hidden"),this._document.body.appendChild(LO)}}_deleteMessagesContainer(){LO&&LO.parentNode&&(LO.parentNode.removeChild(LO),LO=null)}_removeCdkDescribedByReferenceIds(t){const e=RO(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=NO.get(e);!function(t,e,n){const r=RO(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(PO,""),n.referenceCount++}_removeMessageReference(t,e){const n=NO.get(e);n.referenceCount--,function(t,e,n){const r=RO(t,e).filter(t=>t!=n.trim());r.length?t.setAttribute(e,r.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(PO)}_isElementDescribedByMessage(t,e){const n=RO(t,"aria-describedby"),r=NO.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o))},token:t,providedIn:"root"}),t})();function FO(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function UO(t){t.id||(t.id="cdk-describedby-message-"+jO++)}class VO extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Om.a,this._typeaheadSubscription=Rm.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Om.a,this.change=new Om.a,t instanceof r.F&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Cb.a)(t=>this._pressedLetters.push(t)),Og(t),ne(()=>this._pressedLetters.length>0),Object($t.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||lO(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.F?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element;const qO=new r.s("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),BO=new r.s("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let zO=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(qO,8),r.Yb(r.B),r.Yb(o),r.Yb(BO,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(qO,8),Object(r.Yb)(r.B),Object(r.Yb)(o),Object(r.Yb)(BO,8))},token:t,providedIn:"root"}),t})();function HO(t){return 0===t.buttons}function YO(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const KO=new r.s("cdk-focus-monitor-default-options"),GO=OO({passive:!0,capture:!0});let WO=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=HO(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{YO(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=$O(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=$O(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=mO(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Vt.a)(null);const r=xO(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new Om.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=mO(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=mO(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=$O(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===$O(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,GO),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,GO)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,GO),t.addEventListener("mousedown",this._documentMousedownListener,GO),t.addEventListener("touchstart",this._documentTouchstartListener,GO),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,GO),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,GO),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,GO),t.removeEventListener("mousedown",this._documentMousedownListener,GO),t.removeEventListener("touchstart",this._documentTouchstartListener,GO),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B),r.Yb(yO),r.Yb(o,8),r.Yb(KO,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.B),Object(r.Yb)(yO),Object(r.Yb)(o,8),Object(r.Yb)(KO,8))},token:t,providedIn:"root"}),t})();function $O(t){return t.composedPath?t.composedPath()[0]:t.target}const QO="cdk-high-contrast-black-on-white",XO="cdk-high-contrast-white-on-black",ZO="cdk-high-contrast-active";let JO=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ZO),t.remove(QO),t.remove(XO);const e=this.getHighContrastMode();1===e?(t.add(ZO),t.add(QO)):2===e&&(t.add(ZO),t.add(XO))}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(yO),r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(yO),Object(r.Yb)(o))},token:t,providedIn:"root"}),t})(),tE=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(JO))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[bO,AO]]}),t})();const eE=new r.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.X)(o)}});let nE=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(eE,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(eE,8))},token:t,providedIn:"root"}),t})(),rE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();const iE=new r.R("11.2.9");function sE(t,e){if(1&t&&r.Pb(0,"mat-pseudo-checkbox",4),2&t){const t=r.ec();r.kc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function oE(t,e){if(1&t&&(r.Ub(0,"span",5),r.yc(1),r.Tb()),2&t){const t=r.ec();r.Db(1),r.Ac("(",t.group.label,")")}}const aE=["*"],cE=new r.R("11.2.9"),uE=new r.s("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let lE,hE=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&cE.full!==iE.full&&console.warn("The Angular Material version ("+cE.full+") does not match the Angular CDK version ("+iE.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(JO),r.Yb(uE,8),r.Yb(o))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[rE],rE]}),t})();function dE(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=hO(t)}}}function fE(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function pE(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=hO(t)}}}function mE(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?dO(t):this.defaultTabIndex}}}function gE(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Om.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{lE="undefined"!=typeof Intl}catch($R){lE=!1}let yE=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),bE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[hE],hE]}),t})();class vE{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _E={enterDuration:450,exitDuration:400},wE=OO({passive:!0}),SE=["mousedown","touchstart"],CE=["mouseup","mouseleave","touchend","touchcancel"];class OE{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=mO(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},_E),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new vE(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},_E),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=mO(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(SE))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(CE),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=HO(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!YO(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,wE)})})}_removeTriggerEvents(){this._triggerElement&&(SE.forEach(t=>{this._triggerElement.removeEventListener(t,this,wE)}),this._pointerUpEventsRegistered&&CE.forEach(t=>{this._triggerElement.removeEventListener(t,this,wE)}))}}const EE=new r.s("mat-ripple-global-options");let xE=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new OE(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.B),r.Ob(yO),r.Ob(EE,8),r.Ob(oO,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),TE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[hE,bO],hE]}),t})(),kE=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(oO,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Gb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),IE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[hE]]}),t})();const AE=new r.s("MAT_OPTION_PARENT_COMPONENT");class RE{}const DE=dE(RE);let PE=0,jE=(()=>{class t extends DE{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+PE++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(AE,8))},t.\u0275dir=r.Jb({type:t,inputs:{label:"label"},features:[r.Ab]}),t})();const NE=new r.s("MatOptgroup");let LE=0;class ME{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let FE=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+LE++,this.onSelectionChange=new r.o,this._stateChanges=new Om.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=hO(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||lO(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new ME(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(void 0),r.Ob(jE))},t.\u0275dir=r.Jb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),UE=(()=>{class t extends FE{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(AE,8),r.Ob(NE,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.bc("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(r.Xb("id",e.id),r.Eb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Gb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.Ab],ngContentSelectors:aE,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(r.jc(),r.xc(0,sE,1,2,"mat-pseudo-checkbox",0),r.Ub(1,"span",1),r.ic(2),r.Tb(),r.xc(3,oE,2,1,"span",2),r.Pb(4,"div",3)),2&t&&(r.kc("ngIf",e.multiple),r.Db(3),r.kc("ngIf",e.group&&e.group._inert),r.Db(1),r.kc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[V,xE,kE],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function VE(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[s]&&s++;return s}return 0}let qE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[TE,tt,hE,IE]]}),t})();const BE=["*",[["mat-card-footer"]]],zE=["*","mat-card-footer"],HE=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],YE=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let KE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),GE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),WE=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),$E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),QE=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(oO,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:zE,decls:2,vars:0,template:function(t,e){1&t&&(r.jc(BE),r.ic(0),r.ic(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),XE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:YE,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.jc(HE),r.ic(0),r.Ub(1,"div",0),r.ic(2,1),r.Tb(),r.ic(3,2))},encapsulation:2,changeDetection:0}),t})(),ZE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[hE],hE]}),t})();var JE=n("n6bG");function tx(t,e,n,r){return Object(JE.a)(n)&&(r=n,n=void 0),r?tx(t,e,n).pipe(Object($t.a)(t=>Object(rb.a)(t)?r(...t):r(t))):new Ft.a(r=>{ex(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function ex(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)ex(t[s],e,n,r,i)}r.add(s)}function nx(t){return e=>e.lift(new rx(t))}class rx{constructor(t){this.notifier=t}call(t,e){const n=new ix(t),r=Object(xm.c)(this.notifier,new xm.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class ix extends xm.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const sx=["underline"],ox=["connectionContainer"],ax=["inputContainer"],cx=["label"];function ux(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",14),r.Pb(2,"div",15),r.Pb(3,"div",16),r.Pb(4,"div",17),r.Tb(),r.Ub(5,"div",18),r.Pb(6,"div",15),r.Pb(7,"div",16),r.Pb(8,"div",17),r.Tb(),r.Rb())}function lx(t,e){1&t&&(r.Ub(0,"div",19),r.ic(1,1),r.Tb())}function hx(t,e){if(1&t&&(r.Sb(0),r.ic(1,2),r.Ub(2,"span"),r.yc(3),r.Tb(),r.Rb()),2&t){const t=r.ec(2);r.Db(3),r.zc(t._control.placeholder)}}function dx(t,e){1&t&&r.ic(0,3,["*ngSwitchCase","true"])}function fx(t,e){1&t&&(r.Ub(0,"span",23),r.yc(1," *"),r.Tb())}function px(t,e){if(1&t){const t=r.Vb();r.Ub(0,"label",20,21),r.bc("cdkObserveContent",function(){return r.qc(t),r.ec().updateOutlineGap()}),r.xc(2,hx,4,1,"ng-container",12),r.xc(3,dx,1,0,"ng-content",12),r.xc(4,fx,2,0,"span",22),r.Tb()}if(2&t){const t=r.ec();r.Gb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.kc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Eb("for",t._control.id)("aria-owns",t._control.id),r.Db(2),r.kc("ngSwitchCase",!1),r.Db(1),r.kc("ngSwitchCase",!0),r.Db(1),r.kc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function mx(t,e){1&t&&(r.Ub(0,"div",24),r.ic(1,4),r.Tb())}function gx(t,e){if(1&t&&(r.Ub(0,"div",25,26),r.Pb(2,"span",27),r.Tb()),2&t){const t=r.ec();r.Db(2),r.Gb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function yx(t,e){if(1&t&&(r.Ub(0,"div"),r.ic(1,5),r.Tb()),2&t){const t=r.ec();r.kc("@transitionMessages",t._subscriptAnimationState)}}function bx(t,e){if(1&t&&(r.Ub(0,"div",31),r.yc(1),r.Tb()),2&t){const t=r.ec(2);r.kc("id",t._hintLabelId),r.Db(1),r.zc(t.hintLabel)}}function vx(t,e){if(1&t&&(r.Ub(0,"div",28),r.xc(1,bx,2,2,"div",29),r.ic(2,6),r.Pb(3,"div",30),r.ic(4,7),r.Tb()),2&t){const t=r.ec();r.kc("@transitionMessages",t._subscriptAnimationState),r.Db(1),r.kc("ngIf",t.hintLabel)}}const _x=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],wx=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Sx=0;const Cx=new r.s("MatError");let Ox=(()=>{class t{constructor(){this.id="mat-error-"+Sx++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.Eb("id",e.id)},inputs:{id:"id"},features:[r.Cb([{provide:Cx,useExisting:t}])]}),t})();const Ex={transitionMessages:Ow("transitionMessages",[kw("enter",Tw({opacity:1,transform:"translateY(0%)"})),Aw("void => enter",[Tw({opacity:0,transform:"translateY(-5px)"}),Ew("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})(),Tx=0;const kx=new r.s("MatHint");let Ix=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+Tx++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Eb("id",e.id)("align",null),r.Gb("mat-form-field-hint-end","end"===e.align))},inputs:{align:"align",id:"id"},features:[r.Cb([{provide:kx,useExisting:t}])]}),t})(),Ax=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-label"]]}),t})(),Rx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-placeholder"]]}),t})();const Dx=new r.s("MatPrefix"),Px=new r.s("MatSuffix");let jx=0;class Nx{constructor(t){this._elementRef=t}}const Lx=fE(Nx,"primary"),Mx=new r.s("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Fx=new r.s("MatFormField");let Ux=(()=>{class t extends Lx{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Om.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+jx++,this._labelId="mat-form-field-label-"+jx++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=hO(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Ht(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(nx(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(nx(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(Em.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ht(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ht(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(nx(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,tx(this._label.nativeElement,"transitionend").pipe(Vm(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(r.l),r.Ob(nE,8),r.Ob(Mx,8),r.Ob(yO),r.Ob(r.B),r.Ob(oO,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,xx,1),r.Hb(n,xx,3),r.Hb(n,Ax,1),r.Hb(n,Ax,3),r.Hb(n,Rx,1),r.Hb(n,Cx,1),r.Hb(n,kx,1),r.Hb(n,Dx,1),r.Hb(n,Px,1)),2&t){let t;r.nc(t=r.cc())&&(e._controlNonStatic=t.first),r.nc(t=r.cc())&&(e._controlStatic=t.first),r.nc(t=r.cc())&&(e._labelChildNonStatic=t.first),r.nc(t=r.cc())&&(e._labelChildStatic=t.first),r.nc(t=r.cc())&&(e._placeholderChild=t.first),r.nc(t=r.cc())&&(e._errorChildren=t),r.nc(t=r.cc())&&(e._hintChildren=t),r.nc(t=r.cc())&&(e._prefixChildren=t),r.nc(t=r.cc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.Cc(sx,1),r.Cc(ox,3),r.Cc(ax,1),r.Cc(cx,1)),2&t){let t;r.nc(t=r.cc())&&(e.underlineRef=t.first),r.nc(t=r.cc())&&(e._connectionContainerRef=t.first),r.nc(t=r.cc())&&(e._inputContainerRef=t.first),r.nc(t=r.cc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.Gb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Cb([{provide:Fx,useExisting:t}]),r.Ab],ngContentSelectors:wx,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.jc(_x),r.Ub(0,"div",0),r.Ub(1,"div",1,2),r.bc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.xc(3,ux,9,0,"ng-container",3),r.xc(4,lx,2,0,"div",4),r.Ub(5,"div",5,6),r.ic(7),r.Ub(8,"span",7),r.xc(9,px,5,16,"label",8),r.Tb(),r.Tb(),r.xc(10,mx,2,0,"div",9),r.Tb(),r.xc(11,gx,3,4,"div",10),r.Ub(12,"div",11),r.xc(13,yx,2,1,"div",12),r.xc(14,vx,5,2,"div",13),r.Tb(),r.Tb()),2&t&&(r.Db(3),r.kc("ngIf","outline"==e.appearance),r.Db(1),r.kc("ngIf",e._prefixChildren.length),r.Db(5),r.kc("ngIf",e._hasFloatingLabel()),r.Db(1),r.kc("ngIf",e._suffixChildren.length),r.Db(1),r.kc("ngIf","outline"!=e.appearance),r.Db(1),r.kc("ngSwitch",e._getDisplayedMessages()),r.Db(1),r.kc("ngSwitchCase","error"),r.Db(1),r.kc("ngSwitchCase","hint"))},directives:[V,H,Y,IO],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Ex.transitionMessages]},changeDetection:0}),t})(),Vx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[tt,hE,AO],hE]}),t})();function qx(t,e){if(1&t&&(r.dc(),r.Pb(0,"circle",3)),2&t){const t=r.ec();r.uc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Eb("r",t._getCircleRadius())}}function Bx(t,e){if(1&t&&(r.dc(),r.Pb(0,"circle",3)),2&t){const t=r.ec();r.uc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.Eb("r",t._getCircleRadius())}}class zx{constructor(t){this._elementRef=t}}const Hx=fE(zx,"primary"),Yx=new r.s("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let Kx=(()=>{class t extends Hx{constructor(e,n,r,i,s){super(e),this._elementRef=e,this._document=r,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(r.head)||o.set(r.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===i&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=dO(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=dO(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,dO(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=xO(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,r=t._diameters;let i=r.get(e);if(!i||!i.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),t.textContent=this._getAnimationText(),e.appendChild(t),i||(i=new Set,r.set(e,i)),i.add(n)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(yO),r.Ob(o,8),r.Ob(oO,8),r.Ob(Yx))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(r.Eb("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),r.uc("width",e.diameter,"px")("height",e.diameter,"px"),r.Gb("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r.Ab],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(r.dc(),r.Ub(0,"svg",0),r.xc(1,qx,1,9,"circle",1),r.xc(2,Bx,1,7,"circle",2),r.Tb()),2&t&&(r.uc("width",e.diameter,"px")("height",e.diameter,"px"),r.kc("ngSwitch","indeterminate"===e.mode),r.Eb("viewBox",e._getViewBox()),r.Db(1),r.kc("ngSwitchCase",!0),r.Db(1),r.kc("ngSwitchCase",!1))},directives:[H,Y],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),Gx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[hE,tt],hE]}),t})();function Wx(t,e){1&t&&(r.Ub(0,"mat-error"),r.yc(1,"You haven't played any games yet! Please click the plus icon to create a new game"),r.Tb())}function $x(t,e){if(1&t&&(r.Ub(0,"tr"),r.Ub(1,"td"),r.yc(2),r.Pb(3,"br"),r.yc(4),r.fc(5,"number"),r.Pb(6,"mat-progress-spinner",8),r.Tb(),r.Ub(7,"td"),r.yc(8),r.Pb(9,"br"),r.yc(10),r.fc(11,"number"),r.Pb(12,"mat-progress-spinner",9),r.Tb(),r.Ub(13,"td",10),r.Ub(14,"span",11),r.yc(15,"Best category:"),r.Tb(),r.Pb(16,"br"),r.yc(17),r.Pb(18,"br"),r.Pb(19,"br"),r.Ub(20,"span",11),r.yc(21,"Worst category:"),r.Tb(),r.Pb(22,"br"),r.yc(23),r.Tb(),r.Tb()),2&t){const t=r.ec(2);r.Db(2),r.Ac(" Games Played: ",t.totalGames," "),r.Db(2),r.Ac(" Win rate: ",r.hc(5,8,t.winLossPercent,"1.2-2"),"% "),r.Db(2),r.lc("value",t.winLossPercent),r.Db(2),r.Ac(" Questions Answered: ",t.questionsAnswered," "),r.Db(2),r.Ac(" Percent of questions correct: ",r.hc(11,11,t.correctIncorrectPercent,"1.2-2"),"% "),r.Db(2),r.lc("value",t.correctIncorrectPercent),r.Db(5),r.Ac(" ",t.bestCategory," "),r.Db(6),r.Ac(" ",t.worstCategory," ")}}function Qx(t,e){if(1&t&&(r.Ub(0,"mat-card",4),r.Ub(1,"table"),r.Ub(2,"tr"),r.Ub(3,"th",5),r.yc(4,"Win loss ratio"),r.Tb(),r.Ub(5,"th",6),r.yc(6,"Questions ratio"),r.Tb(),r.Ub(7,"th",7),r.yc(8,"Highlights"),r.Tb(),r.Tb(),r.xc(9,$x,24,14,"tr",2),r.Tb(),r.Tb()),2&t){const t=r.ec();r.Db(9),r.kc("ngIf",!t.noPlayerData)}}let Xx=(()=>{class t{constructor(t,e,n){this.hostService=t,this.authService=e,this.afs=n,this.winLossPercent=0,this.correctIncorrectPercent=0,this.noPlayerData=!1}ngOnInit(){this.getPlayerData()}getPlayerData(){this.afs.collection("users",t=>t.where("id","==",this.hostService.hostPlayer.id)).snapshotChanges().subscribe(t=>{this.userData=t[0].payload.doc.data(),this.assignData()})}getRightQuestionCount(){let t=this.userData.stats.questionsRight,e=0;for(let n=0;n<t.length;n++)e+=t[n].count;return e}getBestCategory(){let t=this.userData.stats.questionsRight,e={category:"",count:0};for(let n=0;n<t.length;n++)return t[n].count>e.count&&(e=t[n]),e.category}getWorstCategory(){let t=this.userData.stats.questionsWrong,e={category:"",count:0};for(let n=0;n<t.length;n++)return t[n].count>e.count&&(e=t[n]),e.category}assignData(){let t=this.userData.stats.gamesWon,e=this.getRightQuestionCount();this.totalGames=this.userData.stats.gamesPlayed,this.questionsAnswered=this.userData.stats.questionsAnswered,this.winLossPercent=t/this.totalGames*100,this.correctIncorrectPercent=e/this.questionsAnswered*100,this.bestCategory=this.getBestCategory(),this.worstCategory=this.getWorstCategory(),0==this.totalGames&&(this.noPlayerData=!0),this.bestCategory==this.worstCategory&&(this.worstCategory="Best and worst category currently match, play more games to update"),this.photoURL=this.userData.photoURL,this.displayName=this.userData.displayName}calculateWinRate(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(_w),r.Ob(ww),r.Ob(Sg))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-user-details"]],decls:7,vars:4,consts:[[1,"main-card"],["mat-card-avatar","","alt","User Photo",3,"src"],[4,"ngIf"],["class","player-stats-card",4,"ngIf"],[1,"player-stats-card"],[1,"win-loss","text-color"],[1,"questions","text-color"],[1,"highlights-header","text-color"],["mode","determinate",1,"spinner1",2,"margin","0 auto",3,"value"],["mode","determinate",1,"spinner2",2,"margin","0 auto",3,"value"],[1,"highlights"],[1,"boldText"]],template:function(t,e){1&t&&(r.Ub(0,"mat-card",0),r.Ub(1,"mat-card-header"),r.Pb(2,"img",1),r.Ub(3,"h1"),r.yc(4),r.Tb(),r.Tb(),r.xc(5,Wx,2,0,"mat-error",2),r.xc(6,Qx,10,1,"mat-card",3),r.Tb()),2&t&&(r.Db(2),r.lc("src",e.photoURL,r.sc),r.Db(2),r.Ac("",e.displayName," Details"),r.Db(1),r.kc("ngIf",e.noPlayerData),r.Db(1),r.kc("ngIf",!e.noPlayerData))},directives:[QE,XE,$E,V,Ox,Kx],pipes:[J],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}.error[_ngcontent-%COMP%]{padding-top:25px}.main-card[_ngcontent-%COMP%]{margin:30px auto auto}.player-stats-card[_ngcontent-%COMP%]{margin:auto}h1[_ngcontent-%COMP%]{vertical-align:top}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #000;text-align:center}th[_ngcontent-%COMP%]{padding:20px;margin-top:20px}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;table-layout:fixed}[_nghost-%COMP%]     .spinner1 circle{stroke:#fb00ff}[_nghost-%COMP%]     .spinner2 circle{stroke:#90f}.highlights[_ngcontent-%COMP%]{vertical-align:text-top}.boldText[_ngcontent-%COMP%]{font-weight:bolder;font-size:1.2em}.title[_ngcontent-%COMP%]{text-align:center}.text-color[_ngcontent-%COMP%]{color:#fff}.win-loss[_ngcontent-%COMP%]{background-color:#00ffd4}.questions[_ngcontent-%COMP%]{background-color:#00ff15}.highlights-header[_ngcontent-%COMP%]{background-color:#00a6ff}img[_ngcontent-%COMP%]{width:65px;height:65px}"]}),t})();class Zx{}class Jx{}class tT{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof tT?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new tT;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof tT?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class eT{encodeKey(t){return nT(t)}encodeValue(t){return nT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function nT(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class rT{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new eT,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new rT({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function iT(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function sT(t){return"undefined"!=typeof Blob&&t instanceof Blob}function oT(t){return"undefined"!=typeof FormData&&t instanceof FormData}class aT{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new tT),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new rT,this.urlWithParams=e}serializeBody(){return null===this.body?null:iT(this.body)||sT(this.body)||oT(this.body)||"string"==typeof this.body?this.body:this.body instanceof rT?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oT(this.body)?null:sT(this.body)?this.body.type||null:iT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rT?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new aT(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var cT=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class uT{constructor(t,e=200,n="OK"){this.headers=t.headers||new tT,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class lT extends uT{constructor(t={}){super(t),this.type=cT.ResponseHeader}clone(t={}){return new lT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class hT extends uT{constructor(t={}){super(t),this.type=cT.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new hT({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class dT extends uT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function fT(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let pT=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof aT)r=t;else{let i,s;i=n.headers instanceof tT?n.headers:new tT(n.headers),n.params&&(s=n.params instanceof rT?n.params:new rT({fromObject:n.params})),r=new aT(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Vt.a)(r).pipe(vb(t=>this.handler.handle(t)));if(t instanceof aT||"events"===n.observe)return i;const s=i.pipe(ne(t=>t instanceof hT));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object($t.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object($t.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object($t.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object($t.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new rT).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,fT(n,e))}post(t,e,n={}){return this.request("POST",t,fT(n,e))}put(t,e,n={}){return this.request("PUT",t,fT(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Zx))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class mT{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const gT=new r.s("HTTP_INTERCEPTORS");let yT=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const bT=/^\)\]\}',?\n/;class vT{}let _T=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),wT=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ft.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new tT(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new lT({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(bT,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new hT({body:c,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new dT({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new dT({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(s()),c=!0);let i={type:cT.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:cT.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:cT.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(vT))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const ST=new r.s("XSRF_COOKIE_NAME"),CT=new r.s("XSRF_HEADER_NAME");class OT{}let ET=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=N(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(r.D),r.Yb(ST))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),xT=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(OT),r.Yb(CT))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),TT=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(gT,[]);this.chain=t.reduceRight((t,e)=>new mT(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Jx),r.Yb(r.t))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),kT=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:xT,useClass:yT}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ST,useValue:e.cookieName}:[],e.headerName?{provide:CT,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[xT,{provide:gT,useExisting:xT,multi:!0},{provide:OT,useClass:ET},{provide:ST,useValue:"XSRF-TOKEN"},{provide:CT,useValue:"X-XSRF-TOKEN"}]}),t})(),IT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[pT,{provide:Zx,useClass:TT},wT,{provide:Jx,useExisting:wT},_T,{provide:vT,useExisting:_T}],imports:[[kT.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),AT=(()=>{class t{constructor(t){this.http=t}getQuestions(t){let e,n,r,i;return e=""!==t.amount?"amount="+t.amount+"&":"",n=""!==t.category?"category="+t.category+"&":"",r=""!==t.difficulty?"difficulty="+t.difficulty.toLowerCase()+"&":"",i=""!==t.type?"type="+t.type.toLowerCase():"",this.http.get(`https://opentdb.com/api.php?${e}${n}${r}${i}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(pT))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),RT=(()=>{class t{constructor(t,e,n,r){this.questionsService=t,this.router=e,this.afs=n,this.authService=r,this.fsPlayers=[],this.players=[],this.questions=[],this.gameCompleted=!1}addPlayer(t){this.players.push(t)}getQuestions(t){this.questions.length=t.playerCount;for(let e=0;e<t.playerCount;e++)this.questionsService.getQuestions(t).subscribe(n=>{n.results=this.combineAnswers(n.results),this.questions[e]=n.results,this.questions[t.playerCount-1]!==[]&&this.router.navigate(["trivia-page"])})}combineAnswers(t){return t.forEach(t=>{let e=[];e.push({correct:!0,value:t.correct_answer,category:t.category}),t.incorrect_answers.forEach(n=>e.push({correct:!1,value:n,category:t.category})),e=this.shuffleArray(e),t.answersArray=e}),t}shuffleArray(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}startGame(){if(this.players.length>0){this.isGameStarted=!0,this.activePlayer=this.players[0];let t=this.players.indexOf(this.activePlayer);this.activeQuestion=this.questions[t][0],this.turnNumber=0}}nextQuestion(){let t,e,n=this.players.indexOf(this.activePlayer),r=this.questions[n][this.turnNumber],i=this.questions[this.players.length-1][this.turnNumber],s=this.players[n],o=this.players[this.players.length-1];r===this.questions[this.players.length-1][this.questions[0].length-1]&&s===o?(this.updatePlayerData(this.players),this.gameCompleted=!0):s===o&&r===i?(this.activePlayer=this.players[0],this.turnNumber+=1,t=this.questions[0][this.turnNumber],this.activeQuestion=t,this.resetTurn()):s!==o&&r!==i&&(e=this.players[n+1],t=this.questions[n+1][this.turnNumber],this.activePlayer=e,this.activeQuestion=t,this.resetTurn()),this.resetTurn()}setSelected(t){this.selectedAnswer=t,this.canSubmit=!0}amISelected(t){return this.selectedAnswer===t}submitAnswer(t){""!==this.selectedAnswer&&(this.answerSubmitted=!0,this.canSubmit=!1)}isAnswerSubmitted(){return 1==this.answerSubmitted}resetTurn(){this.answerSubmitted=!1,this.selectedAnswer=""}updatePlayerData(t){let e=this.whoWon();t.forEach(n=>{1===e.length&&t.length>1?e.filter(t=>t.email===n.email).length>0?(n.stats.gamesWon+=1,n.stats.gamesPlayed+=1):0===e.filter(t=>t.email===n.email).length&&(n.stats.gamesLost+=1,n.stats.gamesPlayed+=1):e.length>1?e.some(t=>t.email===n.email)?n.stats.gamesPlayed+=1:0===e.filter(t=>t.email===n.email).length&&(n.stats.gamesPlayed+=1,n.stats.gamesLost+=1):1===e.length&&1===t.length&&(n.stats.gamesPlayed+=1)}),this.saveData()}whoWon(){return this.winning}saveData(){this.players.forEach(t=>{this.afs.collection("users").doc(t.id).update({stats:t.stats})})}clearPreviousGameData(){this.players=[],this.questions=[],this.gameCompleted=!1,this.isGameStarted=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(AT),r.Yb(Z_),r.Yb(Sg),r.Yb(ww))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var DT=n("XoHu");function PT(...t){if(1===t.length){const e=t[0];if(Object(rb.a)(e))return jT(e,null);if(Object(DT.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return jT(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return jT(t=1===t.length&&Object(rb.a)(t[0])?t[0]:t,null).pipe(Object($t.a)(t=>e(...t)))}return jT(t,null)}function jT(t,e){return new Ft.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(Ut.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const NT=new r.s("NgValueAccessor"),LT={provide:NT,useExisting:Object(r.W)(()=>FT),multi:!0},MT=new r.s("CompositionEventMode");let FT=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l),r.Ob(MT,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Cb([LT])]}),t})();const UT=new r.s("NgValidators"),VT=new r.s("NgAsyncValidators");function qT(t){return null!=t}function BT(t){const e=Object(r.ub)(t)?Object(Ut.a)(t):t;return Object(r.tb)(e),e}function zT(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function HT(t,e){return e.map(e=>e(t))}function YT(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function KT(t){return null!=t?function(t){if(!t)return null;const e=t.filter(qT);return 0==e.length?null:function(t){return zT(HT(t,e))}}(YT(t)):null}function GT(t){return null!=t?function(t){if(!t)return null;const e=t.filter(qT);return 0==e.length?null:function(t){return PT(HT(t,e).map(BT)).pipe(Object($t.a)(zT))}}(YT(t)):null}function WT(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $T(t){return t._rawValidators}function QT(t){return t._rawAsyncValidators}let XT=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=KT(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=GT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})(),ZT=(()=>{class t extends XT{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return JT(e||t)},t.\u0275dir=r.Jb({type:t,features:[r.Ab]}),t})();const JT=r.Wb(ZT);class tk extends XT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ek{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let nk=(()=>{class t extends ek{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(tk,2))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})(),rk=(()=>{class t extends ek{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(ZT,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})();function ik(t,e){ak(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&uk(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&uk(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function sk(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ck(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ok(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ak(t,e,n){const r=$T(t);null!==e.validator?t.setValidators(WT(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=QT(t);if(null!==e.asyncValidator?t.setAsyncValidators(WT(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ok(e._rawValidators,n),ok(e._rawAsyncValidators,n)}}function ck(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=$T(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=QT(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};ok(e._rawValidators,t),ok(e._rawAsyncValidators,t)}return r}function uk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function lk(t,e){ak(t,e,!1)}function hk(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function dk(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fk="VALID",pk="INVALID",mk="PENDING",gk="DISABLED";function yk(t){return(wk(t)?t.validators:t)||null}function bk(t){return Array.isArray(t)?KT(t):t||null}function vk(t,e){return(wk(e)?e.asyncValidators:t)||null}function _k(t){return Array.isArray(t)?GT(t):t||null}function wk(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Sk{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=bk(this._rawValidators),this._composedAsyncValidatorFn=_k(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===fk}get invalid(){return this.status===pk}get pending(){return this.status==mk}get disabled(){return this.status===gk}get enabled(){return this.status!==gk}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=bk(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=_k(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=mk,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gk,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fk,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==fk&&this.status!==mk||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gk:fk}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=mk,this._hasOwnPendingAsyncValidator=!0;const e=BT(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ok?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ek&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?gk:this.errors?pk:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mk)?mk:this._anyControlsHaveStatus(pk)?pk:fk}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wk(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ck extends Sk{constructor(t=null,e,n){super(yk(e),vk(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){dk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){dk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ok extends Sk{constructor(t,e,n){super(yk(e),vk(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ck?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ek extends Sk{constructor(t,e,n){super(yk(e),vk(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ck?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const xk={provide:ZT,useExisting:Object(r.W)(()=>kk)},Tk=(()=>Promise.resolve(null))();let kk=(()=>{class t extends ZT{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.o,this.form=new Ok({},KT(t),GT(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tk.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),ik(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tk.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),dk(this._directives,t)})}addFormGroup(t){Tk.then(()=>{const e=this._findContainer(t.path),n=new Ok({});lk(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tk.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Tk.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,hk(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(UT,10),r.Ob(VT,10))},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([xk]),r.Ab]}),t})();const Ik={provide:tk,useExisting:Object(r.W)(()=>Rk)},Ak=(()=>Promise.resolve(null))();let Rk=(()=>{class t extends tk{constructor(t,e,n,i){super(),this.control=new Ck,this._registered=!1,this.update=new r.o,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===FT?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ik(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ak.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ak.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(ZT,9),r.Ob(UT,10),r.Ob(VT,10),r.Ob(NT,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Cb([Ik]),r.Ab,r.Bb]}),t})(),Dk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Pk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();const jk={provide:ZT,useExisting:Object(r.W)(()=>Nk)};let Nk=(()=>{class t extends ZT{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.o,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ck(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ik(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){sk(t.control||null,t,!1),dk(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,hk(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(sk(e||null,t),n instanceof Ck&&(ik(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);lk(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return ck(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ak(this.form,this,!1),this._oldForm&&ck(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(UT,10),r.Ob(VT,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([jk]),r.Ab,r.Bb]}),t})(),Lk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Pk]]}),t})(),Mk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[Lk]}),t})();n("3N8a"),n("IjjT"),n("7Hc7");class Fk{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Uk(t,this.durationSelector))}}class Uk extends xm.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(xm.c)(n,new xm.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Vk=n("Y7HM");function qk(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Bk(t,e=Mt.a){return n=()=>function(t=0,e,n){let r=-1;return Object(Vk.a)(e)?r=Number(e)<1?1:Number(e):Object(zt.a)(e)&&(n=e),Object(zt.a)(n)||(n=Mt.a),new Ft.a(e=>{const i=Object(Vk.a)(t)?t:+t-n.now();return n.schedule(qk,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Fk(n))};var n}class zk{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Om.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let Hk=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Om.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ft.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Bk(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Vt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ne(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=mO(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>tx(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B),r.Yb(yO),r.Yb(o,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.B),Object(r.Yb)(yO),Object(r.Yb)(o,8))},token:t,providedIn:"root"}),t})(),Yk=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Om.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Bk(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(yO),r.Yb(r.B),r.Yb(o,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(yO),Object(r.Yb)(r.B),Object(r.Yb)(o,8))},token:t,providedIn:"root"}),t})(),Kk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),Gk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[rE,bO,Kk],rE,Kk]}),t})();class Wk{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class $k extends Wk{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Qk extends Wk{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Xk extends Wk{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class Zk extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof $k?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Qk?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Xk?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Jk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();class tI{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new eI(t,this.predicate,this.inclusive))}}class eI extends Yt.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}const nI=EO();class rI{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=pO(-this._previousScrollPosition.left),t.style.top=pO(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),nI&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),nI&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class iI{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class sI{enable(){}disable(){}attach(){}}function oI(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function aI(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class cI{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();oI(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let uI=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new sI,this.close=t=>new iI(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new rI(this._viewportRuler,this._document),this.reposition=t=>new cI(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Hk),r.Yb(Yk),r.Yb(r.B),r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Hk),Object(r.Yb)(Yk),Object(r.Yb)(r.B),Object(r.Yb)(o))},token:t,providedIn:"root"}),t})();class lI{constructor(t){if(this.scrollStrategy=new sI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class hI{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class dI{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let fI=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o))},token:t,providedIn:"root"}),t})(),pI=(()=>{class t extends fI{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o))},token:t,providedIn:"root"}),t})(),mI=(()=>{class t extends fI{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(yO))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o),Object(r.Yb)(yO))},token:t,providedIn:"root"}),t})();const gI=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let yI=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||gI){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),gI?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(yO))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o),Object(r.Yb)(yO))},token:t,providedIn:"root"}),t})();class bI{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Om.a,this._attachments=new Om.a,this._detachments=new Om.a,this._locationChanges=Rm.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Om.a,this._outsidePointerEvents=new Om.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vm(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=pO(this._config.width),t.height=pO(this._config.height),t.minWidth=pO(this._config.minWidth),t.minHeight=pO(this._config.minHeight),t.maxWidth=pO(this._config.maxWidth),t.maxHeight=pO(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;fO(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(nx(Object(Em.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const vI="cdk-overlay-connected-position-bounding-box",_I=/([A-Za-z%]+)$/;class wI{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Om.a,this._resizeSubscription=Rm.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(vI),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&SI(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=OI(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let u=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,u,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=CI(this._overlayRef.getConfig().minHeight),o=CI(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=OI(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let u=0,l=0;return u=r.width<=i.width?c||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new dI(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,u;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=pO(n.height),r.top=pO(n.top),r.bottom=pO(n.bottom),r.width=pO(n.width),r.left=pO(n.left),r.right=pO(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=pO(t)),i&&(r.maxWidth=pO(i))}this._lastBoundingBoxSize=n,SI(this._boundingBox.style,r)}_resetBoundingBoxStyles(){SI(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){SI(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();SI(n,this._getExactOverlayY(e,t,r)),SI(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=pO(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=pO(s.maxWidth):i&&(n.maxWidth="")),SI(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=pO(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=pO(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:aI(t,n),isOriginOutsideView:oI(t,n),isOverlayClipped:aI(e,n),isOverlayOutsideView:oI(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&fO(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function SI(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function CI(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(_I);return n&&"px"!==n?null:parseFloat(e)}return t||null}function OI(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class EI{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new wI(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new hI(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const xI="cdk-global-overlay-wrapper";class TI{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(xI),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(xI),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let kI=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new TI}connectedTo(t,e,n){return new EI(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new wI(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Yk),r.Yb(o),r.Yb(yO),r.Yb(yI))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Yk),Object(r.Yb)(o),Object(r.Yb)(yO),Object(r.Yb)(yI))},token:t,providedIn:"root"}),t})(),II=0,AI=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new lI(t);return i.direction=i.direction||this._directionality.value,new bI(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+II++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Zk(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(uI),r.Yb(yI),r.Yb(r.j),r.Yb(kI),r.Yb(pI),r.Yb(r.t),r.Yb(r.B),r.Yb(o),r.Yb(nE),r.Yb(w),r.Yb(mI))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const RI=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],DI=new r.s("cdk-connected-overlay-scroll-strategy");let PI=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),jI=(()=>{class t{constructor(t,e,n,i,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Rm.a.EMPTY,this._attachSubscription=Rm.a.EMPTY,this._detachSubscription=Rm.a.EMPTY,this._positionSubscription=Rm.a.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.o,this.positionChange=new r.o,this.attach=new r.o,this.detach=new r.o,this.overlayKeydown=new r.o,this.overlayOutsideClick=new r.o,this._templatePortal=new Qk(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=hO(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=hO(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=hO(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=hO(t)}get push(){return this._push}set push(t){this._push=hO(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=RI);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||lO(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new lI({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new tI(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(AI),r.Ob(r.N),r.Ob(r.S),r.Ob(DI),r.Ob(nE,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.Bb]}),t})();const NI={provide:DI,deps:[AI],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let LI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[AI,NI],imports:[[rE,Jk,Gk],Gk]}),t})();const MI=["trigger"],FI=["panel"];function UI(t,e){if(1&t&&(r.Ub(0,"span",8),r.yc(1),r.Tb()),2&t){const t=r.ec();r.Db(1),r.zc(t.placeholder)}}function VI(t,e){if(1&t&&(r.Ub(0,"span",12),r.yc(1),r.Tb()),2&t){const t=r.ec(2);r.Db(1),r.zc(t.triggerValue)}}function qI(t,e){1&t&&r.ic(0,0,["*ngSwitchCase","true"])}function BI(t,e){if(1&t&&(r.Ub(0,"span",9),r.xc(1,VI,2,1,"span",10),r.xc(2,qI,1,0,"ng-content",11),r.Tb()),2&t){const t=r.ec();r.kc("ngSwitch",!!t.customTrigger),r.Db(2),r.kc("ngSwitchCase",!0)}}function zI(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",13),r.Ub(1,"div",14,15),r.bc("@transformPanel.done",function(e){return r.qc(t),r.ec()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return r.qc(t),r.ec()._handleKeydown(e)}),r.ic(3,1),r.Tb(),r.Tb()}if(2&t){const t=r.ec();r.kc("@transformPanelWrap",void 0),r.Db(1),r.Fb("mat-select-panel ",t._getPanelTheme(),""),r.uc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.kc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Eb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const HI=[[["mat-select-trigger"]],"*"],YI=["mat-select-trigger","*"],KI={transformPanelWrap:Ow("transformPanelWrap",[Aw("* => void",Dw("@transformPanel",[Rw()],{optional:!0}))]),transformPanel:Ow("transformPanel",[kw("void",Tw({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),kw("showing",Tw({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),kw("showing-multiple",Tw({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Aw("void => *",Ew("120ms cubic-bezier(0, 0, 0.2, 1)")),Aw("* => void",Ew("100ms 25ms linear",Tw({opacity:0})))])};let GI=0;const WI=256,$I=new r.s("mat-select-scroll-strategy"),QI=new r.s("MAT_SELECT_CONFIG"),XI={provide:$I,deps:[AI],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class ZI{constructor(t,e){this.source=t,this.value=e}}class JI{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const tA=pE(mE(dE(gE(JI)))),eA=new r.s("MatSelectTrigger");let nA=(()=>{class t extends tA{constructor(t,e,n,i,s,o,a,c,u,l,h,d,f,p){var m,g,y;super(s,i,a,c,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=u,this.ngControl=l,this._liveAnnouncer=f,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+GI++,this._triggerAriaLabelledBy=null,this._destroy=new Om.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+GI++,this._panelDoneAnimatingStream=new Om.a,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(y=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==y&&y,this.ariaLabel="",this.optionSelectionChanges=fb(()=>{const t=this.options;return t?t.changes.pipe(Ht(t),Tm(()=>Object(Em.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Vm(1),Tm(()=>this.optionSelectionChanges))}),this.openedChange=new r.o,this._openedStream=this.openedChange.pipe(ne(t=>t),Object($t.a)(()=>{})),this._closedStream=this.openedChange.pipe(ne(t=>!t),Object($t.a)(()=>{})),this.selectionChange=new r.o,this.valueChange=new r.o,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=hO(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=hO(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=hO(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=dO(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new zk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Jt(),nx(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(nx(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Ht(null),nx(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!lO(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||lO(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Vm(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new VO(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(nx(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(nx(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(Em.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(nx(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(Em.a)(...this.options.map(t=>t._stateChanges)).pipe(nx(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Yk),r.Ob(r.h),r.Ob(r.B),r.Ob(yE),r.Ob(r.l),r.Ob(nE,8),r.Ob(kk,8),r.Ob(Nk,8),r.Ob(Fx,8),r.Ob(tk,10),r.Zb("tabindex"),r.Ob($I),r.Ob(zO),r.Ob(QI,8))},t.\u0275dir=r.Jb({type:t,viewQuery:function(t,e){if(1&t&&(r.Cc(MI,1),r.Cc(FI,1),r.Cc(jI,1)),2&t){let t;r.nc(t=r.cc())&&(e.trigger=t.first),r.nc(t=r.cc())&&(e.panel=t.first),r.nc(t=r.cc())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.Ab,r.Bb]}),t})(),rA=(()=>{class t extends nA{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(nx(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Vm(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=VE(t,this.options,this.optionGroups),n=this._getItemHeight();var r,i,s;this.panel.nativeElement.scrollTop=(i=n,(r=(t+e)*n)<(s=this.panel.nativeElement.scrollTop)?r:r+i>s+256?Math.max(0,r-256+i):s)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new ZI(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else if(this.disableOptionCentering)i=16;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const s=0-(t.left+i-(n?r:0)),o=t.right+i-e.width+(n?0:r);s>0?i+=s+8:o>0&&(i-=o+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor(WI/r);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-WI)%r):e-r/2,Math.round(-1*o-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,WI)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,WI),r=e*t-n;let i;i=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),i+=VE(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return iA(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,eA,1),r.Hb(n,UE,1),r.Hb(n,NE,1)),2&t){let t;r.nc(t=r.cc())&&(e.customTrigger=t.first),r.nc(t=r.cc())&&(e.options=t),r.nc(t=r.cc())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.bc("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(r.Eb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Gb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r.Cb([{provide:xx,useExisting:t},{provide:AE,useExisting:t}]),r.Ab],ngContentSelectors:YI,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.jc(HI),r.Ub(0,"div",0,1),r.bc("click",function(){return e.toggle()}),r.Ub(3,"div",2),r.xc(4,UI,2,1,"span",3),r.xc(5,BI,3,2,"span",4),r.Tb(),r.Ub(6,"div",5),r.Pb(7,"div",6),r.Tb(),r.Tb(),r.xc(8,zI,4,14,"ng-template",7),r.bc("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=r.oc(1);r.Eb("aria-owns",e.panelOpen?e.id+"-panel":null),r.Db(3),r.kc("ngSwitch",e.empty),r.Eb("id",e._valueId),r.Db(1),r.kc("ngSwitchCase",!0),r.Db(1),r.kc("ngSwitchCase",!1),r.Db(3),r.kc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[PI,H,Y,jI,K,L],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[KI.transformPanelWrap,KI.transformPanel]},changeDetection:0}),t})();const iA=r.Wb(rA);let sA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[XI],imports:[[tt,LI,qE,hE],Kk,Vx,qE,hE]}),t})();const oA=OO({passive:!0});let aA=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Um.a;const e=mO(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new Om.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,oA),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,oA)}}),r}stopMonitoring(t){const e=mO(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(yO),r.Yb(r.B))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(yO),Object(r.Yb)(r.B))},token:t,providedIn:"root"}),t})(),cA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[bO]]}),t})();const uA=new r.s("MAT_INPUT_VALUE_ACCESSOR"),lA=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let hA=0;class dA{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const fA=gE(dA);let pA=(()=>{class t extends fA{constructor(t,e,n,r,i,s,o,a,c,u){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=u,this._uid="mat-input-"+hA++,this.focused=!1,this.stateChanges=new Om.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>_O().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=o||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=hO(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=hO(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&_O().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=hO(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){lA.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(yO),r.Ob(tk,10),r.Ob(kk,8),r.Ob(Nk,8),r.Ob(yE),r.Ob(uA,10),r.Ob(aA),r.Ob(r.B),r.Ob(Fx,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.bc("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Xb("disabled",e.disabled)("required",e.required),r.Eb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),r.Gb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Cb([{provide:xx,useExisting:t}]),r.Ab,r.Bb]}),t})(),mA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[yE],imports:[[cA,Vx,hE],cA,Vx]}),t})();const gA=["mat-button",""],yA=["*"],bA=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class vA{constructor(t){this._elementRef=t}}const _A=fE(dE(pE(vA)));let wA=(()=>{class t extends _A{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of bA)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(WO),r.Ob(oO,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Cc(xE,1),2&t){let t;r.nc(t=r.cc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Eb("disabled",e.disabled||null),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Ab],attrs:gA,ngContentSelectors:yA,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.jc(),r.Ub(0,"span",0),r.ic(1),r.Tb(),r.Pb(2,"span",1),r.Pb(3,"span",2)),2&t&&(r.Db(2),r.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.kc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[xE],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),SA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[TE,hE],hE]}),t})();function CA(t,e){if(1&t&&(r.Ub(0,"mat-option",19),r.yc(1),r.Tb()),2&t){const t=e.$implicit;r.kc("value",t),r.Db(1),r.zc(t)}}function OA(t,e){if(1&t&&(r.Ub(0,"mat-option",20),r.yc(1),r.Tb()),2&t){const t=e.$implicit;r.kc("value",t),r.Db(1),r.zc(t)}}function EA(t,e){if(1&t&&(r.Ub(0,"mat-option",21),r.yc(1),r.Tb()),2&t){const t=e.$implicit;r.kc("value",t),r.Db(1),r.zc(t)}}function xA(t,e){if(1&t&&(r.Ub(0,"mat-option",22),r.yc(1),r.Tb()),2&t){const t=e.$implicit;r.kc("value",t),r.Db(1),r.zc(t)}}function TA(t,e){if(1&t&&(r.Ub(0,"mat-option",26),r.yc(1),r.Tb()),2&t){const t=e.$implicit,n=r.ec(2);r.kc("value",t)("disabled",n.selectedFriends.length==n.selectedCount-1),r.Db(1),r.zc(t)}}function kA(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-form-field",23),r.Ub(1,"mat-label",2),r.yc(2,"Additional Players"),r.Tb(),r.Ub(3,"mat-select",24),r.bc("ngModelChange",function(e){return r.qc(t),r.ec().selectedFriends=e})("selectionChange",function(){return r.qc(t),r.ec().isFormValid()}),r.xc(4,TA,2,3,"mat-option",25),r.Tb(),r.Tb()}if(2&t){const t=r.ec();r.Db(1),r.kc("ngClass","text-color"),r.Db(2),r.kc("ngModel",t.selectedFriends),r.Db(1),r.kc("ngForOf",t.existingUsers)}}function IA(t,e){if(1&t&&(r.Ub(0,"mat-error"),r.yc(1),r.Tb()),2&t){const t=r.ec();r.Db(1),r.zc(t.errorMessage)}}function AA(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",27),r.bc("click",function(){return r.qc(t),r.ec().submitForm()}),r.yc(1," Submit "),r.Tb()}if(2&t){const t=r.ec();r.kc("disabled",t.formValid)}}let RA=(()=>{class t{constructor(t,e,n){this.hostService=t,this.gameController=e,this.router=n,this.validQuestionTotal=!1,this.onePlayer=!1,this.formValid=!0,this.selectedFriends=[],this.existingUsers=[],this.playerCount=[1,2,3],this.categoryTitle=[],this.categories=[{categoryNumber:1,title:"Any Category"},{categoryNumber:9,title:"General Knowledge"},{categoryNumber:10,title:"Entertainment: Books"},{categoryNumber:11,title:"Entertainment: Film"},{categoryNumber:12,title:"Entertainment: Music"},{categoryNumber:13,title:"Entertainment: Musicals & Theatres"},{categoryNumber:14,title:"Entertainment: Television"},{categoryNumber:15,title:"Entertainment: Video Games"},{categoryNumber:16,title:"Entertainment: Board Games"},{categoryNumber:17,title:"Science and Nature"},{categoryNumber:18,title:"Science: Computers"},{categoryNumber:19,title:"Science: Mathematics"},{categoryNumber:20,title:"Mythology"},{categoryNumber:21,title:"Sports"},{categoryNumber:22,title:"Geography"},{categoryNumber:23,title:"History"},{categoryNumber:24,title:"Politics"},{categoryNumber:25,title:"Art"},{categoryNumber:26,title:"Celebrities"},{categoryNumber:27,title:"Animals"},{categoryNumber:28,title:"Vehicles"},{categoryNumber:29,title:"Entertainment: Comics"},{categoryNumber:30,title:"Science: Gadgets"},{categoryNumber:31,title:"Entertainment: Japanese Anime and Manga"},{categoryNumber:32,title:"Entertainment: Cartoon & Animations"}],this.selectedDifficulty="",this.difficulty=["Any","Easy","Medium","Hard"],this.selectedQuestionType="",this.type=[],this.questionType=[{apiType:"",type:"Any Type"},{apiType:"multiple",type:"Multiple Choice"},{apiType:"boolean",type:"True / False"}],this.selectedFormValues=[]}setPlayerCount(){this.onePlayer=1==this.selectedCount}ngOnInit(){this.getDropdownData(),this.existingUsers=this.hostService.nonHostPlayers.map(t=>t.displayName),this.gameController.clearPreviousGameData(),this.canSubmit=!0}getDropdownData(){this.categories.forEach(t=>{this.categoryTitle.push(t.title)}),this.questionType.forEach(t=>{this.type.push(t.type)})}getPlayerCount(t){return this.selectedCount=t,this.selectedCount}checkQuestionCount(){this.selectQuestionCount>50?(this.errorMessage="Total questions cannot be larger than 50",this.validQuestionTotal=!0):0==this.selectQuestionCount&&(this.errorMessage="Total questions cannot be 0",this.validQuestionTotal=!0)}isFormValid(){this.formValid=!0,this.selectedFormValues=[],this.selectedFormValues.push(this.selectedCount,this.selectedCategory,this.selectedDifficulty,this.selectedQuestionType,this.selectedFriends,this.selectQuestionCount),this.selectedFormValues[4].length!==this.selectedFormValues[0]-1||this.selectedFormValues.some(t=>null==t)||(this.formValid=!1)}submitForm(){this.setGameData(this.selectedFormValues),this.canSubmit=!1}setGameData(t){let e=t[0],n=this.categories.find(e=>e.title===t[1]),r=t[2],i=t[3],s=t[5];for(let o=0;o<e;o++)if(0===o)this.gameController.addPlayer(this.hostService.hostPlayer);else{let e=this.hostService.nonHostPlayers.find(e=>e.displayName===t[4][o-1]);this.gameController.addPlayer(e)}"Any"==r&&(r=""),"Any Type"==i&&(i=""),"Multiple Choice"==i&&(i="multiple"),"True / False"==i&&(i="boolean"),"Any Category"===n.title?(n="",this.gameController.getQuestions({amount:s,category:n,difficulty:r,type:i,playerCount:e})):this.gameController.getQuestions({amount:s,category:n.categoryNumber,difficulty:r,type:i,playerCount:e})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(_w),r.Ob(RT),r.Ob(Z_))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-create-game"]],decls:36,vars:18,consts:[[1,"example-form","flex-container"],["appearance","fill",1,"example-full-width","player"],[3,"ngClass"],["name","playerCount",3,"ngModel","ngModelChange","selectionChange"],["class","player text-color",3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"example-full-width","category"],["name","playerCategory",3,"ngModel","ngModelChange","selectionChange"],["class","category text-color",3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"example-full-width","difficulty"],["name","playerDifficulty",3,"ngModel","ngModelChange","selectionChange"],["class","difficulty text-color",3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"example-full-width","questions"],["name","questionType",3,"ngModel","ngModelChange","selectionChange"],["class","questions text-color",3,"value",4,"ngFor","ngForOf"],["appearance","fill","class","example-full-width friends",4,"ngIf"],["appearance","fill",1,"example-full-width","numberOfQuestions"],["matInput","","type","text","placeholder","0","name","selectQuestionCount",1,"numberOfQuestions",3,"ngModel","ngModelChange","change"],[4,"ngIf"],["mat-raised-button","","type","submit",3,"disabled","click",4,"ngIf"],[1,"player","text-color",3,"value"],[1,"category","text-color",3,"value"],[1,"difficulty","text-color",3,"value"],[1,"questions","text-color",3,"value"],["appearance","fill",1,"example-full-width","friends"],["name","selectedFriends","multiple","",3,"ngModel","ngModelChange","selectionChange"],["class","friends text-color",3,"value","disabled",4,"ngFor","ngForOf"],[1,"friends","text-color",3,"value","disabled"],["mat-raised-button","","type","submit",3,"disabled","click"]],template:function(t,e){1&t&&(r.Ub(0,"mat-card"),r.Ub(1,"h1"),r.yc(2,"Create New Game"),r.Tb(),r.Ub(3,"p"),r.yc(4,"Please select your game options:"),r.Tb(),r.Ub(5,"mat-card"),r.Ub(6,"form",0),r.Ub(7,"mat-form-field",1),r.Ub(8,"mat-label",2),r.yc(9,"Total Players"),r.Tb(),r.Ub(10,"mat-select",3),r.bc("ngModelChange",function(t){return e.selectedCount=t})("selectionChange",function(){return e.getPlayerCount(e.selectedCount),e.isFormValid(),e.setPlayerCount()}),r.xc(11,CA,2,2,"mat-option",4),r.Tb(),r.Tb(),r.Ub(12,"mat-form-field",5),r.Ub(13,"mat-label",2),r.yc(14,"Category"),r.Tb(),r.Ub(15,"mat-select",6),r.bc("ngModelChange",function(t){return e.selectedCategory=t})("selectionChange",function(){return e.isFormValid()}),r.xc(16,OA,2,2,"mat-option",7),r.Tb(),r.Tb(),r.Ub(17,"mat-form-field",8),r.Ub(18,"mat-label",2),r.yc(19,"Difficulty"),r.Tb(),r.Ub(20,"mat-select",9),r.bc("ngModelChange",function(t){return e.selectedDifficulty=t})("selectionChange",function(){return e.isFormValid()}),r.xc(21,EA,2,2,"mat-option",10),r.Tb(),r.Tb(),r.Ub(22,"mat-form-field",11),r.Ub(23,"mat-label",2),r.yc(24,"Questions Type"),r.Tb(),r.Ub(25,"mat-select",12),r.bc("ngModelChange",function(t){return e.selectedQuestionType=t})("selectionChange",function(){return e.isFormValid()}),r.xc(26,xA,2,2,"mat-option",13),r.Tb(),r.Tb(),r.xc(27,kA,5,3,"mat-form-field",14),r.Ub(28,"mat-form-field",15),r.Ub(29,"mat-label",2),r.yc(30,"Number of questions per user"),r.Tb(),r.Ub(31,"input",16),r.bc("ngModelChange",function(t){return e.selectQuestionCount=t})("change",function(){return e.checkQuestionCount(),e.isFormValid()}),r.Tb(),r.Ub(32,"mat-hint",2),r.yc(33,"Max of 50 questions"),r.Tb(),r.Tb(),r.xc(34,IA,2,1,"mat-error",17),r.xc(35,AA,2,1,"button",18),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(8),r.kc("ngClass","text-color"),r.Db(2),r.kc("ngModel",e.selectedCount),r.Db(1),r.kc("ngForOf",e.playerCount),r.Db(2),r.kc("ngClass","text-color"),r.Db(2),r.kc("ngModel",e.selectedCategory),r.Db(1),r.kc("ngForOf",e.categoryTitle),r.Db(2),r.kc("ngClass","text-color"),r.Db(2),r.kc("ngModel",e.selectedDifficulty),r.Db(1),r.kc("ngForOf",e.difficulty),r.Db(2),r.kc("ngClass","text-color"),r.Db(2),r.kc("ngModel",e.selectedQuestionType),r.Db(1),r.kc("ngForOf",e.type),r.Db(1),r.kc("ngIf",!e.onePlayer),r.Db(2),r.kc("ngClass","text-color"),r.Db(2),r.kc("ngModel",e.selectQuestionCount),r.Db(1),r.kc("ngClass","text-color"),r.Db(2),r.kc("ngIf",e.validQuestionTotal),r.Db(1),r.kc("ngIf",e.canSubmit))},directives:[QE,Dk,rk,kk,Ux,Ax,L,rA,nk,Rk,F,V,pA,FT,Ix,UE,Ox,wA],styles:[".card[_ngcontent-%COMP%]{width:calc(100% - 10px);height:calc(100% - 10px)}.example-form[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin:auto}button[_ngcontent-%COMP%]{margin:10px 0}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-full-width[_ngcontent-%COMP%]{padding:5px 20px;margin-bottom:20px}.text-color[_ngcontent-%COMP%]{color:#fff!important}.player[_ngcontent-%COMP%]{background-color:red}.category[_ngcontent-%COMP%]{background-color:#f70}.difficulty[_ngcontent-%COMP%]{background-color:#ffea00}.questions[_ngcontent-%COMP%]{background-color:#00ff15}.friends[_ngcontent-%COMP%]{background-color:#00a6ff}.numberOfQuestions[_ngcontent-%COMP%]{background-color:#fb00ff}.mat-raised-button[_ngcontent-%COMP%]{background-color:#90f;color:#fff}"]}),t})();function DA(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",3),r.bc("click",function(){return r.qc(t),r.ec().loggingIn()}),r.yc(1," Login with Google "),r.Tb()}}let PA=(()=>{class t{constructor(t,e,n){this.authService=t,this.hostService=e,this.router=n}loggingIn(){this.buttonRendered=!1,this.authService.GoogleAuthLogin().then(()=>{this.emails.includes(this.authService.host.email)?(this.users.forEach(t=>{t.email==this.authService.host.email&&this.hostService.setHostPlayer({displayName:t.displayName,email:t.email,photoURL:t.photoURL,id:t.id,stats:{gamesPlayed:t.stats.gamesPlayed,gamesWon:t.stats.gamesWon,gamesLost:t.stats.gamesLost,questionsAnswered:t.stats.questionsAnswered,questionsRight:t.stats.questionsRight,questionsWrong:t.stats.questionsWrong,bestCategory:t.stats.bestCategory,worstCategory:t.stats.worstCategory}})}),this.router.navigate(["user-details"])):(this.hostService.setHostPlayer({displayName:this.authService.host.displayName,email:this.authService.host.email,photoURL:this.authService.host.photoURL,id:"",stats:{gamesPlayed:0,gamesWon:0,gamesLost:0,questionsAnswered:0,questionsRight:[],questionsWrong:[],bestCategory:"",worstCategory:""}}),this.authService.addUser())})}ngOnInit(){this.authService.getUsers().subscribe(t=>{this.users=t,this.emails=this.users.map(t=>t.email),this.hostService.allPlayers=t,this.buttonRendered=!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(ww),r.Ob(_w),r.Ob(Z_))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-login"]],decls:31,vars:1,consts:[[1,"intro"],[1,"logButton"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"mat-card"),r.Ub(1,"mat-card-content"),r.Ub(2,"div",0),r.Ub(3,"div"),r.yc(4,"How to play:"),r.Tb(),r.Ub(5,"ol"),r.Ub(6,"li"),r.yc(7,"Make an account or log into a pre-existing account."),r.Tb(),r.Ub(8,"li"),r.yc(9,"Click the 'plus' icon in the nav bar to go to create a game"),r.Tb(),r.Ub(10,"li"),r.Ub(11,"div"),r.yc(12," Next, select game options: "),r.Ub(13,"li"),r.yc(14,"Total players (including you)"),r.Tb(),r.Ub(15,"li"),r.yc(16,"Please note solo players cannot win or lose a game, but can earn points for questions right and wrong"),r.Tb(),r.Ub(17,"li"),r.yc(18,"Category"),r.Tb(),r.Ub(19,"li"),r.yc(20,"Difficulty"),r.Tb(),r.Ub(21,"li"),r.yc(22,"Type of Question (true/false or multiple choice)"),r.Tb(),r.Ub(23,"li"),r.yc(24,"The other players joining you (if multi-player)"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(25,"p"),r.yc(26,"The game will alternate players on each question and at the end of the game the scores are tallied"),r.Tb(),r.Ub(27,"p"),r.yc(28,"You can then view your stats by clicking on the account details icon on the nav bar."),r.Tb(),r.Tb(),r.Ub(29,"div",1),r.xc(30,DA,2,0,"button",2),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(30),r.kc("ngIf",e.buttonRendered))},directives:[QE,KE,V,wA],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}.form[_ngcontent-%COMP%]{width:20rem}.form-control[_ngcontent-%COMP%]{display:block}.form-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mat-raised-button[_ngcontent-%COMP%]{background-color:#00850b;color:#fff}.intro[_ngcontent-%COMP%]{text-align:left}.logButton[_ngcontent-%COMP%]{display:flex;justify-content:center}.starting[_ngcontent-%COMP%]{display:block}mat-card[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5);color:#fff;max-width:70%;min-width:70%;min-height:50%;margin:15px auto auto}mat-card-content[_ngcontent-%COMP%]{size:12px}"]}),t})(),jA=(()=>{class t{constructor(){}calculateScore(t,e,n){if(e.correct_answer===n.value)if(t.stats.questionsRight.filter(t=>t.category===n.category).length>0){let e=t.stats.questionsRight.findIndex(t=>t.category===n.category);t.stats.questionsWrong[e].count+=1,t.stats.questionsAnswered+=1}else 0===t.stats.questionsRight.filter(t=>t.category===n.category).length&&(t.stats.questionsRight.push({category:n.category,count:1}),t.stats.questionsAnswered+=1);else if(e.correct_answer!==n.value)if(t.stats.questionsWrong.filter(t=>t.category===n.category).length>0){let e=t.stats.questionsWrong.findIndex(t=>t.category===n.category);t.stats.questionsWrong[e].count+=1,t.stats.questionsAnswered+=1}else 0===t.stats.questionsWrong.filter(t=>t.category===n.category).length&&(t.stats.questionsWrong.push({category:n.category,count:1}),t.stats.questionsAnswered+=1);return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var NA=n("z6cu"),LA=n("w1tV");const MA=["*"];function FA(t){return Error(`Unable to find icon with the name "${t}"`)}function UA(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function VA(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class qA{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let BA=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new qA(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.K.HTML,n);if(!s)throw VA(n);return this._addSvgIconConfig(t,e,new qA("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new qA(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.K.HTML,e);if(!i)throw VA(e);return this._addSvgIconSetConfig(t,new qA("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.K.RESOURCE_URL,t);if(!e)throw UA(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Vt.a)(zA(n)):this._loadSvgIconFromConfig(new qA(t,null)).pipe(Object(Cb.a)(t=>this._cachedIconsByUrl.set(e,t)),Object($t.a)(t=>zA(t)))}getNamedSvgIcon(t,e=""){const n=HA(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(NA.a)(FA(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Vt.a)(zA(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object($t.a)(t=>zA(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Vt.a)(n):PT(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(mb(e=>{const n=this._sanitizer.sanitize(r.K.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Vt.a)(null)})))).pipe(Object($t.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw FA(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Cb.a)(e=>t.svgText=e),Object($t.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Vt.a)(null):this._fetchIcon(t).pipe(Object(Cb.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.K.RESOURCE_URL,n);if(!o)throw UA(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Eb(()=>this._inProgressUrlFetches.delete(o)),Object(LA.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(HA(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new qA(i.url,null,i.options):new qA(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(pT,8),r.Yb(At),r.Yb(o,8),r.Yb(r.n))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(pT,8),Object(r.Yb)(At),Object(r.Yb)(o,8),Object(r.Yb)(r.n))},token:t,providedIn:"root"}),t})();function zA(t){return t.cloneNode(!0)}function HA(t,e){return t+":"+e}class YA{constructor(t){this._elementRef=t}}const KA=fE(YA),GA=new r.s("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.X)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),WA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$A=WA.map(t=>`[${t}]`).join(", "),QA=/^url\(['"]?#(.*?)['"]?\)$/;let XA=(()=>{class t extends KA{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Rm.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=hO(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll($A),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)WA.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(QA):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Vm(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(BA),r.Zb("aria-hidden"),r.Ob(GA),r.Ob(r.n))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Eb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Gb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.Ab],ngContentSelectors:MA,decls:1,vars:0,template:function(t,e){1&t&&(r.jc(),r.ic(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),ZA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[hE],hE]}),t})();function JA(t,e){if(1&t&&(r.Ub(0,"mat-card",9),r.Ub(1,"mat-card-content"),r.Ub(2,"h2"),r.yc(3,"Active Player:"),r.Tb(),r.Ub(4,"div",10),r.Pb(5,"img",11),r.Ub(6,"h3"),r.yc(7),r.Tb(),r.Tb(),r.Ub(8,"h2"),r.yc(9),r.Tb(),r.Ub(10,"h2"),r.yc(11),r.Tb(),r.Pb(12,"h2",6),r.Pb(13,"p",6),r.Tb(),r.Tb()),2&t){const t=r.ec(2);r.uc("background-color",t.colors[t.players.indexOf(t.activePlayer)]),r.Db(5),r.lc("src",t.activePlayer.photoURL,r.sc),r.Db(2),r.zc(t.activePlayer.displayName),r.Db(2),r.Ac("Category: ",t.activeQuestion.category,""),r.Db(2),r.Bc("Question: ",t.turnNumber+1,"/",t.questions[0].length,""),r.Db(1),r.kc("innerHTML",t.displayCurrentPlayerScore(),r.rc),r.Db(1),r.kc("innerHTML",t.whoIsWinning(),r.rc)}}function tR(t,e){if(1&t&&r.Pb(0,"mat-icon",16),2&t){const t=r.ec().$implicit;r.kc("innerHtml",t.correct?"check_circle":"close",r.rc)("ngClass",t.correct?"correct":"incorrect")}}function eR(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",10),r.Ub(1,"div",13),r.Ub(2,"mat-card",14),r.bc("click",function(){r.qc(t);const n=e.$implicit;return r.ec(3).setSelected(n)}),r.Tb(),r.Tb(),r.Ub(3,"div"),r.xc(4,tR,1,2,"mat-icon",15),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,n=r.ec(3);r.Db(2),r.uc("background",n.amISelected(t)?"#00FFD4":"white"),r.kc("innerHTML",t.value,r.rc),r.Db(2),r.kc("ngIf",n.isAnswerSubmitted())}}function nR(t,e){if(1&t&&(r.Ub(0,"div",5),r.xc(1,eR,5,4,"div",12),r.Tb()),2&t){const t=r.ec(2);r.Db(1),r.kc("ngForOf",t.activeQuestion.answersArray)}}function rR(t,e){if(1&t&&r.Pb(0,"mat-icon",16),2&t){const t=r.ec().$implicit;r.kc("innerHtml",t.correct?"check_circle":"close",r.rc)("ngClass",t.correct?"correct":"incorrect")}}function iR(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",10),r.Ub(1,"div"),r.Ub(2,"mat-card",14),r.bc("click",function(){r.qc(t);const n=e.$implicit;return r.ec(3).setSelected(n)}),r.Tb(),r.Tb(),r.Ub(3,"div"),r.xc(4,rR,1,2,"mat-icon",15),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,n=r.ec(3);r.Db(2),r.uc("background",n.amISelected(t)?"#00FFD4":"white"),r.kc("innerHTML",t.value,r.rc),r.Db(2),r.kc("ngIf",n.isAnswerSubmitted())}}function sR(t,e){if(1&t&&(r.Ub(0,"div",5),r.xc(1,iR,5,4,"div",12),r.Tb()),2&t){const t=r.ec(2);r.Db(1),r.kc("ngForOf",t.activeQuestion.answersArray)}}function oR(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",17),r.bc("click",function(){r.qc(t);const e=r.ec(2);return e.submitAnswer(e.selectedAnswer,e.player)}),r.yc(1," Submit Answer "),r.Tb()}}function aR(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",17),r.bc("click",function(){return r.qc(t),r.ec(2).nextQuestion()}),r.yc(1," Next "),r.Tb()}}function cR(t,e){if(1&t&&(r.Ub(0,"div",2),r.xc(1,JA,14,9,"mat-card",3),r.Ub(2,"mat-card",4),r.Ub(3,"div",5),r.Pb(4,"mat-card-title",6),r.Ub(5,"mat-card-content",5),r.xc(6,nR,2,1,"div",7),r.xc(7,sR,2,1,"div",7),r.Tb(),r.Ub(8,"mat-card-actions"),r.xc(9,oR,2,0,"button",8),r.xc(10,aR,2,0,"button",8),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.ec();r.Db(1),r.kc("ngIf",t.isGameStarted),r.Db(3),r.kc("innerHTML",t.activeQuestion.question,r.rc),r.Db(2),r.kc("ngIf","multiple"===t.activeQuestion.type),r.Db(1),r.kc("ngIf","boolean"===t.activeQuestion.type),r.Db(2),r.kc("ngIf",t.canSubmit),r.Db(1),r.kc("ngIf",t.isAnswerSubmitted())}}function uR(t,e){if(1&t&&(r.Ub(0,"div"),r.Ub(1,"mat-card",21),r.yc(2),r.Tb(),r.Tb()),2&t){const t=e.$implicit,n=e.index,i=r.ec(2);r.Db(1),r.uc("background-color",i.colors[n]),r.Db(1),r.Bc("",t.displayName," : ",i.tempScore[n]," PTS")}}function lR(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",18),r.Ub(1,"mat-card",19),r.Ub(2,"mat-card-title"),r.yc(3,"GAME RESULTS"),r.Tb(),r.Ub(4,"mat-card-content"),r.Ub(5,"h2"),r.yc(6),r.Tb(),r.xc(7,uR,3,4,"div",20),r.Tb(),r.Ub(8,"mat-card-actions"),r.Ub(9,"button",17),r.bc("click",function(){return r.qc(t),r.ec().goToUserDetails()}),r.yc(10,"End Game"),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.ec();r.Db(6),r.zc(t.whoIsWinning()),r.Db(1),r.kc("ngForOf",t.players)}}let hR=(()=>{class t{constructor(t,e,n,r){this.gameService=t,this.playerService=e,this.router=r,this.colors=[],this.players=[],this.questions=[],this.tempScore=[]}ngOnInit(){this.turnNumber=0,this.tempScore=[],this.startGame(),this.setColors()}getQuestions(){this.questions=this.gameService.questions}startGame(){this.gameService.startGame(),this.questions=this.gameService.questions,this.activePlayer=this.gameService.activePlayer,this.activeQuestion=this.gameService.activeQuestion,this.players=this.gameService.players,this.isGameStarted=this.gameService.isGameStarted;for(let t=0;t<this.players.length;t++)this.tempScore.push(0)}nextQuestion(){this.gameService.nextQuestion(),this.activePlayer=this.gameService.activePlayer,this.activeQuestion=this.gameService.activeQuestion,this.turnNumber=this.gameService.turnNumber,this.resetTurn()}setSelected(t){this.isAnswerSubmitted()||(this.gameService.setSelected(t),this.selectedAnswer=this.gameService.selectedAnswer,this.canSubmit=this.gameService.canSubmit)}amISelected(t){return this.gameService.amISelected(t)}submitAnswer(t){this.gameService.submitAnswer(t),this.calculateScore(this.activePlayer,this.activeQuestion,t),this.canSubmit=this.gameService.canSubmit}isAnswerSubmitted(){return this.gameService.isAnswerSubmitted()}resetTurn(){this.selectedAnswer=this.gameService.selectedAnswer}calculateScore(t,e,n){let r=this.players.indexOf(this.activePlayer);e.correct_answer===n.value&&(this.tempScore[r]+=1),this.players[r]=this.playerService.calculateScore(t,e,n)}displayCurrentPlayerScore(){return`Score: ${this.tempScore[this.players.indexOf(this.activePlayer)]} pts`}whoIsWinning(){let t=this.tempScore[0],e=[];for(let n=0;n<this.tempScore.length;n++)0===n?e=[this.players[n]]:n>0&&(this.tempScore[n]>t?(t=this.tempScore[n],e=[this.players[n]]):this.tempScore[n]===t&&e.push(this.players[n]));return this.gameService.winning=e,e.length>1?e.length>2?`Tie: ${e[0].displayName}, ${e[1].displayName} and ${e[2].displayName}!`:`Tie: ${e[0].displayName} and ${e[1].displayName}!`:`Winner: ${e[0].displayName}`}setColors(){let t=["#FF0000","#FF7700","#FFEA00","#91FF00","#00FF15","#00A6FF","#0062FF","#FB00FF"],e=this.gameService.players.length;for(let n=0;n<e;n++){let e=Math.floor(Math.random()*t.length);this.colors.push(t[e]),t=t.filter(n=>n!=t[e])}}isGameOver(){return!0===this.gameService.gameCompleted}goToUserDetails(){this.router.navigate(["user-details"])}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(RT),r.Ob(jA),r.Ob(_w),r.Ob(Z_))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-trivia-page"]],decls:2,vars:2,consts:[["class","main-container",4,"ngIf"],["class","center",4,"ngIf"],[1,"main-container"],["class","player-header",3,"background-color",4,"ngIf"],[1,"questions-card"],[1,"flex-container"],[3,"innerHTML"],["class","flex-container",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],[1,"player-header"],[1,"flex-answer-container"],["mat-card-avatar","","alt","User Avatar",3,"src"],["class","flex-answer-container",4,"ngFor","ngForOf"],[1,"answer-text"],[3,"innerHTML","click"],[3,"innerHtml","ngClass",4,"ngIf"],[3,"innerHtml","ngClass"],["mat-raised-button","",3,"click"],[1,"center"],[1,"player-stats"],[4,"ngFor","ngForOf"],[1,"score"]],template:function(t,e){1&t&&(r.xc(0,cR,11,6,"div",0),r.xc(1,lR,11,2,"div",1)),2&t&&(r.kc("ngIf",!e.isGameOver()),r.Db(1),r.kc("ngIf",e.isGameOver()))},directives:[V,QE,GE,KE,WE,$E,F,XA,L,wA],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.flex-answer-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;justify-content:flex-start}.main-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px;min-width:90%;max-width:90%}.questions-card[_ngcontent-%COMP%]{width:70%}.answer-text[_ngcontent-%COMP%]{padding-right:20px;margin-bottom:10px;width:80%}.correct[_ngcontent-%COMP%]{color:#00ff15}.incorrect[_ngcontent-%COMP%]{color:red}.mat-raised-button[_ngcontent-%COMP%]{background-color:#90f;color:#fff}.mat-raised-button[_ngcontent-%COMP%]:hover{opacity:.5;color:#b8b3b3}.player-header[_ngcontent-%COMP%]{background-color:#b8b3b3;width:30%}.player-stats[_ngcontent-%COMP%]{padding-right:20px;margin-bottom:10px;min-width:100%}.center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:20px}"]}),t})(),dR=(()=>{class t{constructor(t,e){this.hostService=t,this.router=e,this.checkForHostData=this.hostService.hostPlayer.displayName}canActivate(t,e){return!!this.hostService.userLoggedIn||(this.router.navigateByUrl(""),!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(_w),r.Yb(Z_))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fR=[{path:"",component:PA},{path:"login-page",component:PA},{path:"create-game",component:RA,canActivate:[dR],runGuardsAndResolvers:"always"},{path:"trivia-page",component:hR,canActivate:[dR],runGuardsAndResolvers:"always"},{path:"user-details",component:Xx,canActivate:[dR],runGuardsAndResolvers:"always"}];let pR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[hw.forRoot(fR)],hw]}),t})();const mR=["*",[["mat-toolbar-row"]]],gR=["*","mat-toolbar-row"];class yR{constructor(t){this._elementRef=t}}const bR=fE(yR);let vR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),_R=(()=>{class t extends bR{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(yO),r.Ob(o))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Hb(n,vR,1),2&t){let t;r.nc(t=r.cc())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Gb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.Ab],ngContentSelectors:gR,decls:2,vars:0,template:function(t,e){1&t&&(r.jc(mR),r.ic(0),r.ic(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),wR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[hE],hE]}),t})();class SR{constructor(t){this.total=t}call(t,e){return e.subscribe(new CR(t,this.total))}}class CR extends Yt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const OR=new Set;let ER,xR=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):TR}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!OR.has(t))try{ER||(ER=document.createElement("style"),ER.setAttribute("type","text/css"),document.head.appendChild(ER)),ER.sheet&&(ER.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),OR.add(t))}catch(vm){console.error(vm)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(yO))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(yO))},token:t,providedIn:"root"}),t})();function TR(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let kR=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new Om.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return IR(fO(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=lb(IR(fO(t)).map(t=>this._registerQuery(t).observable));return e=Bt(e.pipe(Vm(1)),e.pipe(t=>t.lift(new SR(1)),Og(0))),e.pipe(Object($t.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new Ft.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Ht(e),Object($t.a)(({matches:e})=>({query:t,matches:e})),nx(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(xR),r.Yb(r.B))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(xR),Object(r.Yb)(r.B))},token:t,providedIn:"root"}),t})();function IR(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const AR={tooltipState:Ow("state",[kw("initial, void, hidden",Tw({opacity:0,transform:"scale(0)"})),kw("visible",Tw({transform:"scale(1)"})),Aw("* => visible",Ew("200ms cubic-bezier(0, 0, 0.2, 1)",Iw([Tw({opacity:0,transform:"scale(0)",offset:0}),Tw({opacity:.5,transform:"scale(0.99)",offset:.5}),Tw({opacity:1,transform:"scale(1)",offset:1})]))),Aw("* => hidden",Ew("100ms cubic-bezier(0, 0, 0.2, 1)",Tw({opacity:0})))])},RR=OO({passive:!0}),DR=new r.s("mat-tooltip-scroll-strategy"),PR={provide:DR,deps:[AI],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},jR=new r.s("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let NR=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u,l,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=u,this._defaultOptions=l,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Om.a,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!lO(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,l&&(l.position&&(this.position=l.position),l.touchGestures&&(this.touchGestures=l.touchGestures)),i.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=hO(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(nx(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,RR)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new $k(LR,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(nx(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(nx(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(nx(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Vm(1),nx(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",t=>this._wheelListener(t)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,RR)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const e=(this._document||document).elementFromPoint(t.clientX,t.clientY),n=this._elementRef.nativeElement;e===n||n.contains(e)||this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(AI),r.Ob(r.l),r.Ob(Hk),r.Ob(r.S),r.Ob(r.B),r.Ob(yO),r.Ob(MO),r.Ob(WO),r.Ob(DR),r.Ob(nE,8),r.Ob(jR,8),r.Ob(o))},t.\u0275dir=r.Jb({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),LR=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Om.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.h),r.Ob(kR))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&r.bc("click",function(){return e._handleBodyInteraction()},!1,r.pc)("auxclick",function(){return e._handleBodyInteraction()},!1,r.pc),2&t&&r.uc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.bc("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),r.fc(1,"async"),r.yc(2),r.Tb()),2&t){let t=null;r.Gb("mat-tooltip-handset",null==(t=r.gc(1,5,e._isHandset))?null:t.matches),r.kc("ngClass",e.tooltipClass)("@state",e._visibility),r.Db(2),r.zc(e.message)}},directives:[L],pipes:[Z],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[AR.tooltipState]},changeDetection:0}),t})(),MR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[PR],imports:[[tE,tt,LI,hE],hE,Kk]}),t})();const FR=function(){return["/create-game"]},UR=function(){return["/user-details"]};let VR=(()=>{class t{constructor(t,e){this.router=t,this.hostService=e}ngOnInit(){this.buttonRendered=!0}logOut(){this.hostService.hostPlayer={displayName:"",email:"",photoURL:"",stats:{gamesPlayed:0,gamesWon:0,gamesLost:0,questionsAnswered:0,questionsRight:[],questionsWrong:[],bestCategory:"",worstCategory:""}},this.hostService.nonHostPlayers=[],this.hostService.allPlayers=[],this.hostService.userLoggedIn=!1,this.router.navigate(["login-page"])}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Z_),r.Ob(_w))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-nav-bar"]],decls:13,vars:4,consts:[[1,"filler"],["matTooltip","Create new game","mat-icon-button","","aria-label","Create new trivia game",3,"routerLink"],["matTooltip","View account details","mat-icon-button","","aria-label","View account details",3,"routerLink"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"div"),r.Ub(1,"mat-toolbar"),r.Ub(2,"span"),r.yc(3,"Trivia Extraordinaire"),r.Tb(),r.Pb(4,"span",0),r.Ub(5,"button",1),r.Ub(6,"mat-icon"),r.yc(7,"library_add"),r.Tb(),r.Tb(),r.Ub(8,"button",2),r.Ub(9,"mat-icon"),r.yc(10,"account_box"),r.Tb(),r.Tb(),r.Ub(11,"button",3),r.bc("click",function(){return e.logOut()}),r.yc(12,"Logout"),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(5),r.kc("routerLink",r.mc(2,FR)),r.Db(3),r.kc("routerLink",r.mc(3,UR)))},directives:[_R,wA,NR,J_,XA],styles:[".mat-button[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{padding:0;margin:0;size:12px}.mat-toolbar[_ngcontent-%COMP%]{background:#90f;color:#fff;margin:0;width:100vw}.filler[_ngcontent-%COMP%]{flex:1 1 auto}.mat-icon[_ngcontent-%COMP%]{padding:0;margin:0}"]}),t})(),qR=(()=>{class t{constructor(){this.title="ng-group-project-trivia-game"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Pb(0,"app-nav-bar"),r.Pb(1,"router-outlet"))},directives:[VR,ew],styles:[""]}),t})(),BR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[bE,hE],bE,hE]}),t})(),zR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[TE,hE],hE]}),t})(),HR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[tt,hE,bO,Kk],Kk,hE]}),t})(),YR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Gk]]}),t})(),KR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[YR,hE],hE]}),t})();const GR={apiKey:"AIzaSyDzmdn046hP9kasUS0wMhUYn02vF3aGlfQ",authDomain:"ng-group-project-trivia.firebaseapp.com",databaseURL:"https://console.firebase.google.com",projectId:"ng-group-project-trivia",storageBucket:"ng-group-project-trivia.appspot.com",messagingSenderId:"963629401263",appId:"1:963629401263:web:35345641fb5146869d405a"};let WR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t,bootstrap:[qR]}),t.\u0275inj=r.Lb({imports:[[Nt,pR,uO,wR,ZE,BR,Vx,ZA,zR,Gx,SA,IT,wR,ZE,BR,Vx,ZA,zR,Gx,BR,KR,uO,wR,ZE,BR,Vx,ZA,zR,Gx,sA,mA,SA,Mk,Lt.a.initializeApp(GR),Cg,eb,ag,MR,HR]]}),t})();Object(r.V)(),Pt().bootstrapModule(WR).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);